<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/styles.css" rel="stylesheet">
    <title>Urantia Book Desktop</title>
</head>
<body class="bg-gray-200 dark:bg-slate-800 flex transition-colors duration-1000 overflow-y-hidden">
    <header class="fixed flex items-center w-full max-h-[8vh] top-0 justify-between px-4 py-3 bg-blue-700 dark:bg-slate-950 shadow-md transition-colors duration-700 z-50">
        <section class="relative flex items-center select-none">
            <!-- 3-line Hamburger Icon -->
            <button id="sidepane-toggle" class="flex flex-col justify-between h-6 w-6 focus:outline-none hover:text-cyan-400">
                <svg class="w-6 h-6 stroke-white dark:stroke-white" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </section>
        <!-- Search Bar -->
        <div id="search-container" class="opacity-0 pointer-events-none flex-1 mx-4 tranform transition-all duration-700 ease-in-out">
            <input
            type="text"
            placeholder="Search..."
            class="w-full px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-800 dark:text-gray-50 focus:outline-none"
            />
        </div>

        <!-- 3 Dots Icon (Vertical) -->
        <button id="search-toggle" class="text-gray-800 dark:text-gray-200">
            <svg class="w-6 h-6 stroke-white dark:stroke-white fill-white" viewBox="0 0 20 20">
            <path d="M10 3a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM10 8.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM10 14a1.5 1.5 0 100 3 1.5 1.5 0 000-3z" />
            </svg>
        </button>
    </header>

    <!-- Sidebar -->
    <section id="sidepaneMask" class="bg-slate-700/10 -translate-x-full mt-[8vh] w-fit fixed inset-0 transform transition-transform -translate-x-full transition-colors duration-700 ease-in-out z-50">
        <div id="sidepane" class="relative bg-sky-800 dark:bg-[#00445f] w-72 h-[calc(100vh-7vh)] shadow-lg transform transition-transform -translate-x-full transition-colors duration-700 ease-in-out shadow-inner shadow-md">
            <div class="flex items-center p-4">
                <img class="h-12 w-16 rounded-full" src="images/UBook.png">
                <h1 class="text-white dark:text-gray-200 text-2xl ml-2">Listening Urantia Book</h1>
            </div>

            <section class="h-fit max-h-[72%] overflow-y-auto select-none bg-blue-500 dark:bg-[#00557f] rounded-[4px]">
                <ul class="mt-3">
                    <li class="flex items-center p-2 text-white dark:text-gray-200 hover:bg-blue-400 dark:hover:bg-[#5656ff]/70 cursor-pointer">
                        üìñ Foreword
                    </li>
                    <li class="flex items-center p-2 text-white dark:text-gray-200 hover:bg-blue-400 dark:hover:bg-[#5656ff]/70 cursor-pointer">
                        <span class="bg-pink-600 rounded-full px-0.5">üåÄ</span>&nbsp; The Central and Superuniverses
                    </li>
                    <li class="flex items-center p-2 text-white dark:text-gray-200 hover:bg-blue-400 dark:hover:bg-[#5656ff]/70 cursor-pointer">
                        üåç The Local Universe
                    </li>
                    <li class="flex items-center p-2 text-white dark:text-gray-200 hover:bg-blue-400 dark:hover:bg-[#5656ff]/70 cursor-pointer">
                        üìú The History of Urantia
                    </li>
                    <li class="flex items-center p-2 text-white dark:text-gray-200 hover:bg-blue-400 dark:hover:bg-[#5656ff]/70 cursor-pointer">
                        ‚úùÔ∏è The Life and Teachings of Jesus
                    </li>
                    <li class="flex items-center p-2 text-white dark:text-gray-200 hover:bg-blue-400 dark:hover:bg-[#5656ff]/70 cursor-pointer">
                        <svg class="w-6 h-6 mr-2 stroke-red-600 fill-red-500" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 2l2.4 7.2h7.6l-6 4.8 2.4 7.2-6-4.8-6 4.8 2.4-7.2-6-4.8h7.6z"/>
                        </svg>
                        Favourite
                    </li>
                    <li class="flex items-center p-2 text-white dark:text-gray-200 hover:bg-blue-400 dark:hover:bg-[#5656ff]/70 cursor-pointer">
                        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"/>
                        </svg>
                        Bookmarks
                    </li>
                    <li class="flex items-center p-2 text-white dark:text-gray-200 hover:bg-blue-400 dark:hover:bg-[#5656ff]/70 cursor-pointer">
                    üß∞ More Applications
                    </li>
                    <li class="flex items-center p-2 text-white dark:text-gray-200 hover:bg-blue-400 dark:hover:bg-[#5656ff]/70 cursor-pointer">
                        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                        </svg>
                        Exit
                    </li>
                </ul>
            </section>

            <!-- Theme Toggle Switch -->
            <div class="absolute left-0 bottom-3 flex items-center select-none">
                <span class="hidden text-teal-950 font-bold dark:text-gray-200 mr-2">Light</span>

                <label class="relative inline-block w-16 h-8 cursor-pointer select-none">
                    <input type="checkbox" id="theme-toggle" class="peer hidden">
                    <span
                        class="absolute inset-0 bg-gray-300 peer-checked:bg-blue-500 transition rounded-full"
                    ></span>
                    <span
                        class="absolute left-1 bottom-1 w-6 h-6 bg-white rounded-full transition peer-checked:translate-x-8"
                    ></span>
                </label>

                <span class="text-teal-950 font-bold dark:text-gray-200 ml-2">Theme</span>
            </div>

        </div>
    </section>

    <!-- Main Content -->
    <main class="mt-[8.5vh] w-screen max-h-[calc(100vh-0vh)] overflow-y-hidden">
          <div id="reader-wrapper-container" class="relative h-[calc(100vh-7vh)] bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200 p-6 md:p-10 rounded-xl max-w-3xl mx-auto my-[0vh] shadow-md leading-relaxed prose dark:prose-invert overflow-y-auto">
              <!-- Floating Reading Progress Section (fixed relative to reader container) -->
              <div class="sticky -top-10 -mt-6 md:-mt-10 z-30">
                  <div class="flex items-center bg-white dark:bg-[#00557f] backdrop-blur-md py-1 px-6 md:px-10 border-b-2 border-gray-500 dark:border-sky-500 rounded-b-md">
                      <div class="w-full bg-gray-300 dark:bg-white rounded-full h-2 overflow-hidden">
                          <div id="reading-progress-bar"
                              class="bg-blue-500 dark:bg-green-400 h-full w-0 transition-all duration-200"></div>
                      </div>
                      <p id="read-percentage" class="bg-cyan-400 text-black dark:text-slate-700 mx-1 rounded-sm">%</p>

                  </div>
                  </div>

              <!-- Reader Content -->
              <article id="reader-content" class="select-text focus:outline-none mb-4">
                  <h1 class="text-3xl font-bold mb-4">The Beauty of Stillness</h1>
                  <p>
                  In our fast-paced world, moments of silence and reflection have become rare treasures. Yet, in the stillness, the mind finds clarity. The soul reconnects with purpose. When we allow ourselves to simply be, we discover the fullness of life that noise often masks.
                  </p>
                  <p>
                  Ancient wisdom reminds us: "Silence is not empty. It's full of answers." The habit of mindfulness‚Äîpaying full attention to the present‚Äîrestores balance in our overstimulated minds. Let us learn to rest, to listen, and to let our thoughts settle like dust in sunlight.
                  </p>

                  <p>
                  In our fast-paced world, moments of silence and reflection have become rare treasures. Yet, in the stillness, the mind finds clarity. The soul reconnects with purpose. When we allow ourselves to simply be, we discover the fullness of life that noise often masks.
                  </p>
                  <p>
                  Ancient wisdom reminds us: "Silence is not empty. It's full of answers." The habit of mindfulness‚Äîpaying full attention to the present‚Äîrestores balance in our overstimulated minds. Let us learn to rest, to listen, and to let our thoughts settle like dust in sunlight.
                  </p>
                  <p>
                  In our fast-paced world, moments of silence and reflection have become rare treasures. Yet, in the stillness, the mind finds clarity. The soul reconnects with purpose. When we allow ourselves to simply be, we discover the fullness of life that noise often masks.
                  </p>
                  <p>
                  Ancient wisdom reminds us: "Silence is not empty. It's full of answers." The habit of mindfulness‚Äîpaying full attention to the present‚Äîrestores balance in our overstimulated minds. Let us learn to rest, to listen, and to let our thoughts settle like dust in sunlight.
                  </p>
                  <p>
                  In our fast-paced world, moments of silence and reflection have become rare treasures. Yet, in the stillness, the mind finds clarity. The soul reconnects with purpose. When we allow ourselves to simply be, we discover the fullness of life that noise often masks.
                  </p>
                  <p>
                  Ancient wisdom reminds us: "Silence is not empty. It's full of answers." The habit of mindfulness‚Äîpaying full attention to the present‚Äîrestores balance in our overstimulated minds. Let us learn to rest, to listen, and to let our thoughts settle like dust in sunlight.
                  </p>
                  <p>
                  In our fast-paced world, moments of silence and reflection have become rare treasures. Yet, in the stillness, the mind finds clarity. The soul reconnects with purpose. When we allow ourselves to simply be, we discover the fullness of life that noise often masks.
                  </p>
                  <p>
                  Ancient wisdom reminds us: "Silence is not empty. It's full of answers." The habit of mindfulness‚Äîpaying full attention to the present‚Äîrestores balance in our overstimulated minds. Let us learn to rest, to listen, and to let our thoughts settle like dust in sunlight.
                  </p>
                  <p>
                  In our fast-paced world, moments of silence and reflection have become rare treasures. Yet, in the stillness, the mind finds clarity. The soul reconnects with purpose. When we allow ourselves to simply be, we discover the fullness of life that noise often masks.
                  </p>
                  <p>
                  Ancient wisdom reminds us: "Silence is not empty. It's full of answers." The habit of mindfulness‚Äîpaying full attention to the present‚Äîrestores balance in our overstimulated minds. Let us learn to rest, to listen, and to let our thoughts settle like dust in sunlight.
                  </p>
              </article>

              <!-- Tooltip Menu -->
              <div id="tooltip-menu"
                  class="absolute hidden bg-gray-900 text-white dark:bg-white dark:text-gray-900 border border-gray-700 dark:border-gray-200 text-sm rounded-lg shadow-xl px-3 py-2 z-50 transition-opacity duration-200 opacity-0">

                  <div id="tooltip-row" class="flex-row justify-start gap-2">
                      <div class="flex flex-wrap gap-2 w-fit space-x-3 mb-1">
                          <button onclick="handleCopy()" class="hover:text-blue-300 dark:hover:text-blue-600"><p class="flex space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="size-6 fill-none stroke-green-500 hover:stroke-green-400 mr-1" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                          </svg>Copy</p></button>
                          <button onclick="handleWebSearch()" class="hover:text-green-300 dark:hover:text-green-600">üîçSearch</button>
                          <button onclick="handleSaveNote()" class="hover:text-yellow-300 dark:hover:text-yellow-600">Save</button>
                          <button onclick="handleHighlight()" class="hover:text-yellow-400 dark:hover:text-yellow-600">üñäÔ∏èHighlight</button></span>
                      </div>

                      <div class="flex flex-wrap gap-2 w-fit space-x-3 pt-2 w-fit border-t border-gray-600 dark:border-gray-300">
                          <button onclick="showColorPicker()" class="flex items-center hover:text-purple-400 dark:hover:text-purple-600">
                              <span id="current-color-circle" class="w-4 h-4 rounded-full bg-yellow-300 dark:bg-yellow-500 mr-1"></span>
                              <span>Color</span>
                          </button>
                          <button onclick="handleReadAloud()" class="hover:text-pink-400 dark:hover:text-pink-600">
                          üîä Read Aloud
                          </button>
                          <button onclick="handleExport()" class="hover:text-indigo-400 dark:hover:text-indigo-600">
                          üíæ Export
                          </button>
                      </div>
                  </div>

                  <div id="color-picker"
                      class="absolute hidden top-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 p-2 rounded-lg shadow-lg z-50 flex gap-2">
                      <div onclick="setHighlightColor('yellow')"
                          class="w-6 h-6 bg-yellow-300 dark:bg-yellow-700 rounded-full cursor-pointer hover:scale-110 transition-transform"></div>
                      <div onclick="setHighlightColor('blue')"
                          class="w-6 h-6 bg-blue-300 dark:bg-blue-700 rounded-full cursor-pointer hover:scale-110 transition-transform"></div>
                      <div onclick="setHighlightColor('pink')"
                          class="w-6 h-6 bg-pink-300 dark:bg-pink-700 rounded-full cursor-pointer hover:scale-110 transition-transform"></div>
                  </div>

              </div>
          </div>

      <!--Highlight note modal-->
      <div id="note-modal" class="fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 hidden">
          <div class="bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-6 rounded-lg shadow-lg w-96">
              <h2 class="text-lg font-semibold mb-3">Save Note</h2>
              <p id="note-text" class="mb-2 text-sm"></p>
              <textarea id="note-comment" class="w-full p-2 rounded-md border dark:border-gray-700 dark:bg-gray-700 text-sm" placeholder="Add comment (optional)"></textarea>
              <div class="flex justify-end mt-4 space-x-3">
              <button onclick="saveNote()" class="bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700">Save</button>
              <button onclick="closeNoteModal()" class="px-3 py-1 text-gray-600 dark:text-gray-300 hover:underline">Cancel</button>
              </div>
          </div>
      </div>

      <!-- Modal Overlay -->
      <div id="itemsSelectorModal" class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 flex items-center justify-center animate-exit hidden">
          <!-- Modal Box -->
          <div id="itemsSelectorModalBox" class="hidden bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 w-full max-w-lg max-h-[80vh] rounded-2xl shadow-2xl p-6 overflow-y-auto space-y-4 transition-all duration-300 ease-in-out animate-exit">
              <!-- Modal Header -->
              <div class="flex justify-between items-center">
                  <h2 class="text-xl font-semibold">Select Items</h2>
                  <button onclick="hideSelectorModal();" class="text-gray-500 text-2xl hover:text-red-500 transition" aria-label="Close modal" title="Close modal">&times;</button>
              </div>

              <!-- Item List -->
              <ul class="space-y-3 divide-y divide-gray-200 dark:divide-gray-700">
              <!-- Sample Item -->
              <li class="flex justify-between items-center py-3">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 fill-none text-blue-500 hover:text-blue-700 transition cursor-pointer" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5v14l7-5 7 5V5H5z" />
                  </svg>
                  <span class="flex-1 text-center font-medium">Elegant Scrollable Item 1</span>
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-pink-500 hover:text-pink-700 transition cursor-pointer" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 18.343l-6.828-6.829a4 4 0 010-5.656z" />
                  </svg>
              </li>

              <li class="flex justify-between items-center py-3">
                  <svg class="w-5 h-5 text-blue-500 hover:text-blue-700 transition cursor-pointer" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5v14l7-5 7 5V5H5z" />
                  </svg>
                  <span class="flex-1 text-center font-medium">Item with Smooth Animations</span>
                  <svg class="w-5 h-5 text-pink-500 hover:text-pink-700 transition cursor-pointer" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 18.343l-6.828-6.829a4 4 0 010-5.656z" />
                  </svg>
              </li>

              <li class="flex justify-between items-center py-3">
                  <svg class="w-5 h-5 text-blue-500 hover:text-blue-700 transition cursor-pointer" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5v14l7-5 7 5V5H5z" />
                  </svg>
                  <span class="flex-1 text-center font-medium">Responsive UI Element</span>
                  <svg class="w-5 h-5 text-pink-500 hover:text-pink-700 transition cursor-pointer" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 18.343l-6.828-6.829a4 4 0 010-5.656z" />
                  </svg>
              </li>
              <!-- Add more items as needed -->
              </ul>
          </div>
      </div>

      <div id="action-toast" class="fixed right-0 top-10 transform translate-x-full transition-all duration-500 ease-in-out z-50
  bg-white dark:bg-gray-800 text-gray-800 dark:text-white shadow-lg rounded-lg px-4 py-2 flex items-center gap-2 border border-gray-300 dark:border-gray-600 opacity-0">
          <span id="toast-icon" class="w-5 h-5"></span>
          <span id="toast-message" class="text-sm font-medium">Action completed</span>
      </div>

    </main>
</body>
<script type="text/javascript" src="js/themes.js"></script>
<script type="text/javascript" src="js/script.js"></script>
<script type="text/javascript" src="js/keyshortcuts.js"></script>
</html>
