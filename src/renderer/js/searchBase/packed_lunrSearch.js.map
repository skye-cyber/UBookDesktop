{"version":3,"file":"packed_lunrSearch.js","mappings":"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AAUE,GACf,GAAIA,GAASiC,EAAMjC,EAAMl1C,cAAgBk1C,EAAMl1C,WAAY,OAAOk1C,CACpE,CACF,EAeAvD,EAAKM,eAAiBN,EAAKsF,uBAAuB,CAChD,IACA,OACA,QACA,SACA,QACA,MACA,SACA,OACA,KACA,QACA,KACA,MACA,MACA,MACA,KACA,KACA,KACA,UACA,OACA,MACA,KACA,MACA,SACA,QACA,OACA,MACA,KACA,OACA,SACA,OACA,OACA,QACA,MACA,OACA,MACA,MACA,MACA,MACA,OACA,KACA,MACA,OACA,MACA,MACA,MACA,UACA,IACA,KACA,KACA,OACA,KACA,KACA,MACA,OACA,QACA,MACA,OACA,SACA,MACA,KACA,QACA,OACA,OACA,KACA,UACA,KACA,MACA,MACA,KACA,MACA,QACA,KACA,OACA,KACA,QACA,MACA,MACA,SACA,OACA,MACA,OACA,MACA,SACA,QACA,KACA,OACA,OACA,OACA,MACA,QACA,OACA,OACA,QACA,QACA,OACA,OACA,MACA,KACA,MACA,OACA,KACA,QACA,MACA,KACA,OACA,OACA,OACA,QACA,QACA,QACA,MACA,OACA,MACA,OACA,OACA,QACA,MACA,MACA,SAGFtF,EAAKsC,SAASG,iBAAiBzC,EAAKM,eAAgB,kBAqBpDN,EAAKK,QAAU,SAAUkD,GACvB,OAAOA,EAAM5X,QAAO,SAAU5K,GAC5B,OAAOA,EAAEpoB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,GAC/C,GACF,EAEAqnC,EAAKsC,SAASG,iBAAiBzC,EAAKK,QAAS,WA2B7CL,EAAK2F,SAAW,WACdvgD,KAAKwgD,OAAQ,EACbxgD,KAAKygD,MAAQ,CAAC,EACdzgD,KAAKitC,GAAK2N,EAAK2F,SAASG,QACxB9F,EAAK2F,SAASG,SAAW,CAC3B,EAUA9F,EAAK2F,SAASG,QAAU,EASxB9F,EAAK2F,SAASI,UAAY,SAAUn7C,GAGlC,IAFA,IAAIs1C,EAAU,IAAIF,EAAK2F,SAASxF,QAEvBr3C,EAAI,EAAGkC,EAAMJ,EAAI7C,OAAQe,EAAIkC,EAAKlC,IA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","sources":["webpack://UBookDesktop/./node_modules/abstract-leveldown/abstract-chained-batch.js","webpack://UBookDesktop/./node_modules/abstract-leveldown/abstract-iterator.js","webpack://UBookDesktop/./node_modules/abstract-leveldown/abstract-leveldown.js","webpack://UBookDesktop/./node_modules/abstract-leveldown/node_modules/xtend/index.js","webpack://UBookDesktop/./node_modules/base64-js/index.js","webpack://UBookDesktop/./node_modules/bl/bl.js","webpack://UBookDesktop/./node_modules/bl/node_modules/isarray/index.js","webpack://UBookDesktop/./node_modules/bl/node_modules/readable-stream/lib/_stream_duplex.js","webpack://UBookDesktop/./node_modules/bl/node_modules/readable-stream/lib/_stream_passthrough.js","webpack://UBookDesktop/./node_modules/bl/node_modules/readable-stream/lib/_stream_readable.js","webpack://UBookDesktop/./node_modules/bl/node_modules/readable-stream/lib/_stream_transform.js","webpack://UBookDesktop/./node_modules/bl/node_modules/readable-stream/lib/_stream_writable.js","webpack://UBookDesktop/./node_modules/bl/node_modules/readable-stream/readable.js","webpack://UBookDesktop/./node_modules/bl/node_modules/string_decoder/index.js","webpack://UBookDesktop/./node_modules/browserify-fs/index.js","webpack://UBookDesktop/./node_modules/buffer-from/index.js","webpack://UBookDesktop/./node_modules/buffer/index.js","webpack://UBookDesktop/./node_modules/call-bind-apply-helpers/actualApply.js","webpack://UBookDesktop/./node_modules/call-bind-apply-helpers/applyBind.js","webpack://UBookDesktop/./node_modules/call-bind-apply-helpers/functionApply.js","webpack://UBookDesktop/./node_modules/call-bind-apply-helpers/functionCall.js","webpack://UBookDesktop/./node_modules/call-bind-apply-helpers/index.js","webpack://UBookDesktop/./node_modules/call-bind-apply-helpers/reflectApply.js","webpack://UBookDesktop/./node_modules/call-bind/index.js","webpack://UBookDesktop/./node_modules/call-bound/index.js","webpack://UBookDesktop/./node_modules/concat-stream/index.js","webpack://UBookDesktop/./node_modules/core-util-is/lib/util.js","webpack://UBookDesktop/./node_modules/deferred-leveldown/deferred-leveldown.js","webpack://UBookDesktop/./node_modules/define-data-property/index.js","webpack://UBookDesktop/./node_modules/dunder-proto/get.js","webpack://UBookDesktop/./node_modules/errno/custom.js","webpack://UBookDesktop/./node_modules/errno/errno.js","webpack://UBookDesktop/./node_modules/es-define-property/index.js","webpack://UBookDesktop/./node_modules/es-errors/eval.js","webpack://UBookDesktop/./node_modules/es-errors/index.js","webpack://UBookDesktop/./node_modules/es-errors/range.js","webpack://UBookDesktop/./node_modules/es-errors/ref.js","webpack://UBookDesktop/./node_modules/es-errors/syntax.js","webpack://UBookDesktop/./node_modules/es-errors/type.js","webpack://UBookDesktop/./node_modules/es-errors/uri.js","webpack://UBookDesktop/./node_modules/es-object-atoms/index.js","webpack://UBookDesktop/./node_modules/events/events.js","webpack://UBookDesktop/./node_modules/for-each/index.js","webpack://UBookDesktop/./node_modules/foreach/index.js","webpack://UBookDesktop/./node_modules/function-bind/implementation.js","webpack://UBookDesktop/./node_modules/function-bind/index.js","webpack://UBookDesktop/./node_modules/fwd-stream/index.js","webpack://UBookDesktop/./node_modules/fwd-stream/node_modules/isarray/index.js","webpack://UBookDesktop/./node_modules/fwd-stream/node_modules/readable-stream/duplex.js","webpack://UBookDesktop/./node_modules/fwd-stream/node_modules/readable-stream/lib/_stream_duplex.js","webpack://UBookDesktop/./node_modules/fwd-stream/node_modules/readable-stream/lib/_stream_passthrough.js","webpack://UBookDesktop/./node_modules/fwd-stream/node_modules/readable-stream/lib/_stream_readable.js","webpack://UBookDesktop/./node_modules/fwd-stream/node_modules/readable-stream/lib/_stream_transform.js","webpack://UBookDesktop/./node_modules/fwd-stream/node_modules/readable-stream/lib/_stream_writable.js","webpack://UBookDesktop/./node_modules/fwd-stream/node_modules/readable-stream/readable.js","webpack://UBookDesktop/./node_modules/fwd-stream/node_modules/readable-stream/writable.js","webpack://UBookDesktop/./node_modules/fwd-stream/node_modules/string_decoder/index.js","webpack://UBookDesktop/./node_modules/get-intrinsic/index.js","webpack://UBookDesktop/./node_modules/get-proto/Object.getPrototypeOf.js","webpack://UBookDesktop/./node_modules/get-proto/Reflect.getPrototypeOf.js","webpack://UBookDesktop/./node_modules/get-proto/index.js","webpack://UBookDesktop/./node_modules/gopd/gOPD.js","webpack://UBookDesktop/./node_modules/gopd/index.js","webpack://UBookDesktop/./node_modules/has-property-descriptors/index.js","webpack://UBookDesktop/./node_modules/has-symbols/index.js","webpack://UBookDesktop/./node_modules/has-symbols/shams.js","webpack://UBookDesktop/./node_modules/has-tostringtag/shams.js","webpack://UBookDesktop/./node_modules/hasown/index.js","webpack://UBookDesktop/./node_modules/idb-wrapper/idbstore.js","webpack://UBookDesktop/./node_modules/ieee754/index.js","webpack://UBookDesktop/./node_modules/inherits/inherits_browser.js","webpack://UBookDesktop/./node_modules/is-arguments/index.js","webpack://UBookDesktop/./node_modules/is-callable/index.js","webpack://UBookDesktop/./node_modules/is-generator-function/index.js","webpack://UBookDesktop/./node_modules/is-regex/index.js","webpack://UBookDesktop/./node_modules/is-typed-array/index.js","webpack://UBookDesktop/./node_modules/is/index.js","webpack://UBookDesktop/./node_modules/isarray/index.js","webpack://UBookDesktop/./node_modules/isbuffer/index.js","webpack://UBookDesktop/./node_modules/level-blobs/index.js","webpack://UBookDesktop/./node_modules/level-blobs/node_modules/isarray/index.js","webpack://UBookDesktop/./node_modules/level-blobs/node_modules/readable-stream/lib/_stream_duplex.js","webpack://UBookDesktop/./node_modules/level-blobs/node_modules/readable-stream/lib/_stream_passthrough.js","webpack://UBookDesktop/./node_modules/level-blobs/node_modules/readable-stream/lib/_stream_readable.js","webpack://UBookDesktop/./node_modules/level-blobs/node_modules/readable-stream/lib/_stream_transform.js","webpack://UBookDesktop/./node_modules/level-blobs/node_modules/readable-stream/lib/_stream_writable.js","webpack://UBookDesktop/./node_modules/level-blobs/node_modules/readable-stream/readable.js","webpack://UBookDesktop/./node_modules/level-blobs/node_modules/readable-stream/writable.js","webpack://UBookDesktop/./node_modules/level-blobs/node_modules/string_decoder/index.js","webpack://UBookDesktop/./node_modules/level-filesystem/errno.js","webpack://UBookDesktop/./node_modules/level-filesystem/index.js","webpack://UBookDesktop/./node_modules/level-filesystem/paths.js","webpack://UBookDesktop/./node_modules/level-filesystem/stat.js","webpack://UBookDesktop/./node_modules/level-filesystem/watchers.js","webpack://UBookDesktop/./node_modules/level-fix-range/index.js","webpack://UBookDesktop/./node_modules/level-hooks/index.js","webpack://UBookDesktop/./node_modules/level-js/index.js","webpack://UBookDesktop/./node_modules/level-js/iterator.js","webpack://UBookDesktop/./node_modules/level-js/node_modules/object-keys/foreach.js","webpack://UBookDesktop/./node_modules/level-js/node_modules/object-keys/index.js","webpack://UBookDesktop/./node_modules/level-js/node_modules/object-keys/isArguments.js","webpack://UBookDesktop/./node_modules/level-js/node_modules/object-keys/shim.js","webpack://UBookDesktop/./node_modules/level-js/node_modules/xtend/has-keys.js","webpack://UBookDesktop/./node_modules/level-js/node_modules/xtend/index.js","webpack://UBookDesktop/./node_modules/level-peek/index.js","webpack://UBookDesktop/./node_modules/level-sublevel/batch.js","webpack://UBookDesktop/./node_modules/level-sublevel/index.js","webpack://UBookDesktop/./node_modules/level-sublevel/node_modules/clone/clone.js","webpack://UBookDesktop/./node_modules/level-sublevel/node_modules/level-fix-range/index.js","webpack://UBookDesktop/./node_modules/level-sublevel/node_modules/object-keys/index.js","webpack://UBookDesktop/./node_modules/level-sublevel/node_modules/object-keys/shim.js","webpack://UBookDesktop/./node_modules/level-sublevel/node_modules/xtend/has-keys.js","webpack://UBookDesktop/./node_modules/level-sublevel/node_modules/xtend/index.js","webpack://UBookDesktop/./node_modules/level-sublevel/sub.js","webpack://UBookDesktop/./node_modules/levelup/lib/batch.js","webpack://UBookDesktop/./node_modules/levelup/lib/errors.js","webpack://UBookDesktop/./node_modules/levelup/lib/levelup.js","webpack://UBookDesktop/./node_modules/levelup/lib/read-stream.js","webpack://UBookDesktop/./node_modules/levelup/lib/util.js","webpack://UBookDesktop/./node_modules/levelup/lib/write-stream.js","webpack://UBookDesktop/./node_modules/levelup/node_modules/isarray/index.js","webpack://UBookDesktop/./node_modules/levelup/node_modules/prr/prr.js","webpack://UBookDesktop/./node_modules/levelup/node_modules/readable-stream/lib/_stream_duplex.js","webpack://UBookDesktop/./node_modules/levelup/node_modules/readable-stream/lib/_stream_passthrough.js","webpack://UBookDesktop/./node_modules/levelup/node_modules/readable-stream/lib/_stream_readable.js","webpack://UBookDesktop/./node_modules/levelup/node_modules/readable-stream/lib/_stream_transform.js","webpack://UBookDesktop/./node_modules/levelup/node_modules/readable-stream/lib/_stream_writable.js","webpack://UBookDesktop/./node_modules/levelup/node_modules/readable-stream/readable.js","webpack://UBookDesktop/./node_modules/levelup/node_modules/string_decoder/index.js","webpack://UBookDesktop/./node_modules/levelup/node_modules/xtend/index.js","webpack://UBookDesktop/./node_modules/ltgt/index.js","webpack://UBookDesktop/./node_modules/lunr/lunr.js","webpack://UBookDesktop/./node_modules/math-intrinsics/abs.js","webpack://UBookDesktop/./node_modules/math-intrinsics/floor.js","webpack://UBookDesktop/./node_modules/math-intrinsics/isNaN.js","webpack://UBookDesktop/./node_modules/math-intrinsics/max.js","webpack://UBookDesktop/./node_modules/math-intrinsics/min.js","webpack://UBookDesktop/./node_modules/math-intrinsics/pow.js","webpack://UBookDesktop/./node_modules/math-intrinsics/round.js","webpack://UBookDesktop/./node_modules/math-intrinsics/sign.js","webpack://UBookDesktop/./node_modules/octal/index.js","webpack://UBookDesktop/./node_modules/once/once.js","webpack://UBookDesktop/./node_modules/path-browserify/index.js","webpack://UBookDesktop/./node_modules/possible-typed-array-names/index.js","webpack://UBookDesktop/./node_modules/process-nextick-args/index.js","webpack://UBookDesktop/./node_modules/process/browser.js","webpack://UBookDesktop/./node_modules/prr/prr.js","webpack://UBookDesktop/./node_modules/readable-stream/lib/_stream_duplex.js","webpack://UBookDesktop/./node_modules/readable-stream/lib/_stream_passthrough.js","webpack://UBookDesktop/./node_modules/readable-stream/lib/_stream_readable.js","webpack://UBookDesktop/./node_modules/readable-stream/lib/_stream_transform.js","webpack://UBookDesktop/./node_modules/readable-stream/lib/_stream_writable.js","webpack://UBookDesktop/./node_modules/readable-stream/lib/internal/streams/BufferList.js","webpack://UBookDesktop/./node_modules/readable-stream/lib/internal/streams/destroy.js","webpack://UBookDesktop/./node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack://UBookDesktop/./node_modules/readable-stream/readable-browser.js","webpack://UBookDesktop/./node_modules/safe-buffer/index.js","webpack://UBookDesktop/./node_modules/safe-regex-test/index.js","webpack://UBookDesktop/./node_modules/set-function-length/index.js","webpack://UBookDesktop/./node_modules/stream-browserify/index.js","webpack://UBookDesktop/./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js","webpack://UBookDesktop/./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js","webpack://UBookDesktop/./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_passthrough.js","webpack://UBookDesktop/./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js","webpack://UBookDesktop/./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js","webpack://UBookDesktop/./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js","webpack://UBookDesktop/./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/async_iterator.js","webpack://UBookDesktop/./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack://UBookDesktop/./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/destroy.js","webpack://UBookDesktop/./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack://UBookDesktop/./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/from-browser.js","webpack://UBookDesktop/./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack://UBookDesktop/./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/state.js","webpack://UBookDesktop/./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack://UBookDesktop/./node_modules/string-range/index.js","webpack://UBookDesktop/./node_modules/string_decoder/lib/string_decoder.js","webpack://UBookDesktop/./node_modules/typedarray-to-buffer/index.js","webpack://UBookDesktop/./node_modules/typedarray/index.js","webpack://UBookDesktop/./node_modules/util-deprecate/browser.js","webpack://UBookDesktop/./node_modules/util/support/isBufferBrowser.js","webpack://UBookDesktop/./node_modules/util/support/types.js","webpack://UBookDesktop/./node_modules/util/util.js","webpack://UBookDesktop/./node_modules/which-typed-array/index.js","webpack://UBookDesktop/./node_modules/wrappy/wrappy.js","webpack://UBookDesktop/./node_modules/xtend/has-keys.js","webpack://UBookDesktop/./node_modules/xtend/index.js","webpack://UBookDesktop/./node_modules/available-typed-arrays/index.js","webpack://UBookDesktop/webpack/bootstrap","webpack://UBookDesktop/webpack/runtime/global","webpack://UBookDesktop/./src/renderer/js/searchBase/lunrSearch.js"],"sourcesContent":["/* Copyright (c) 2013 Rod Vagg, MIT License */\n\nfunction AbstractChainedBatch (db) {\n  this._db         = db\n  this._operations = []\n  this._written    = false\n}\n\nAbstractChainedBatch.prototype._checkWritten = function () {\n  if (this._written)\n    throw new Error('write() already called on this batch')\n}\n\nAbstractChainedBatch.prototype.put = function (key, value) {\n  this._checkWritten()\n\n  var err = this._db._checkKeyValue(key, 'key', this._db._isBuffer)\n  if (err) throw err\n  err = this._db._checkKeyValue(value, 'value', this._db._isBuffer)\n  if (err) throw err\n\n  if (!this._db._isBuffer(key)) key = String(key)\n  if (!this._db._isBuffer(value)) value = String(value)\n\n  if (typeof this._put == 'function' )\n    this._put(key, value)\n  else\n    this._operations.push({ type: 'put', key: key, value: value })\n\n  return this\n}\n\nAbstractChainedBatch.prototype.del = function (key) {\n  this._checkWritten()\n\n  var err = this._db._checkKeyValue(key, 'key', this._db._isBuffer)\n  if (err) throw err\n\n  if (!this._db._isBuffer(key)) key = String(key)\n\n  if (typeof this._del == 'function' )\n    this._del(key)\n  else\n    this._operations.push({ type: 'del', key: key })\n\n  return this\n}\n\nAbstractChainedBatch.prototype.clear = function () {\n  this._checkWritten()\n\n  this._operations = []\n\n  if (typeof this._clear == 'function' )\n    this._clear()\n\n  return this\n}\n\nAbstractChainedBatch.prototype.write = function (options, callback) {\n  this._checkWritten()\n\n  if (typeof options == 'function')\n    callback = options\n  if (typeof callback != 'function')\n    throw new Error('write() requires a callback argument')\n  if (typeof options != 'object')\n    options = {}\n\n  this._written = true\n\n  if (typeof this._write == 'function' )\n    return this._write(callback)\n\n  if (typeof this._db._batch == 'function')\n    return this._db._batch(this._operations, options, callback)\n\n  process.nextTick(callback)\n}\n\nmodule.exports = AbstractChainedBatch","/* Copyright (c) 2013 Rod Vagg, MIT License */\n\nfunction AbstractIterator (db) {\n  this.db = db\n  this._ended = false\n  this._nexting = false\n}\n\nAbstractIterator.prototype.next = function (callback) {\n  var self = this\n\n  if (typeof callback != 'function')\n    throw new Error('next() requires a callback argument')\n\n  if (self._ended)\n    return callback(new Error('cannot call next() after end()'))\n  if (self._nexting)\n    return callback(new Error('cannot call next() before previous next() has completed'))\n\n  self._nexting = true\n  if (typeof self._next == 'function') {\n    return self._next(function () {\n      self._nexting = false\n      callback.apply(null, arguments)\n    })\n  }\n\n  process.nextTick(function () {\n    self._nexting = false\n    callback()\n  })\n}\n\nAbstractIterator.prototype.end = function (callback) {\n  if (typeof callback != 'function')\n    throw new Error('end() requires a callback argument')\n\n  if (this._ended)\n    return callback(new Error('end() already called on iterator'))\n\n  this._ended = true\n\n  if (typeof this._end == 'function')\n    return this._end(callback)\n\n  process.nextTick(callback)\n}\n\nmodule.exports = AbstractIterator\n","/* Copyright (c) 2013 Rod Vagg, MIT License */\n\nvar xtend                = require('xtend')\n  , AbstractIterator     = require('./abstract-iterator')\n  , AbstractChainedBatch = require('./abstract-chained-batch')\n\nfunction AbstractLevelDOWN (location) {\n  if (!arguments.length || location === undefined)\n    throw new Error('constructor requires at least a location argument')\n\n  if (typeof location != 'string')\n    throw new Error('constructor requires a location string argument')\n\n  this.location = location\n}\n\nAbstractLevelDOWN.prototype.open = function (options, callback) {\n  if (typeof options == 'function')\n    callback = options\n\n  if (typeof callback != 'function')\n    throw new Error('open() requires a callback argument')\n\n  if (typeof options != 'object')\n    options = {}\n\n  if (typeof this._open == 'function')\n    return this._open(options, callback)\n\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.close = function (callback) {\n  if (typeof callback != 'function')\n    throw new Error('close() requires a callback argument')\n\n  if (typeof this._close == 'function')\n    return this._close(callback)\n\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.get = function (key, options, callback) {\n  var err\n\n  if (typeof options == 'function')\n    callback = options\n\n  if (typeof callback != 'function')\n    throw new Error('get() requires a callback argument')\n\n  if (err = this._checkKeyValue(key, 'key', this._isBuffer))\n    return callback(err)\n\n  if (!this._isBuffer(key))\n    key = String(key)\n\n  if (typeof options != 'object')\n    options = {}\n\n  if (typeof this._get == 'function')\n    return this._get(key, options, callback)\n\n  process.nextTick(function () { callback(new Error('NotFound')) })\n}\n\nAbstractLevelDOWN.prototype.put = function (key, value, options, callback) {\n  var err\n\n  if (typeof options == 'function')\n    callback = options\n\n  if (typeof callback != 'function')\n    throw new Error('put() requires a callback argument')\n\n  if (err = this._checkKeyValue(key, 'key', this._isBuffer))\n    return callback(err)\n\n  if (err = this._checkKeyValue(value, 'value', this._isBuffer))\n    return callback(err)\n\n  if (!this._isBuffer(key))\n    key = String(key)\n\n  // coerce value to string in node, don't touch it in browser\n  // (indexeddb can store any JS type)\n  if (!this._isBuffer(value) && !process.browser)\n    value = String(value)\n\n  if (typeof options != 'object')\n    options = {}\n\n  if (typeof this._put == 'function')\n    return this._put(key, value, options, callback)\n\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.del = function (key, options, callback) {\n  var err\n\n  if (typeof options == 'function')\n    callback = options\n\n  if (typeof callback != 'function')\n    throw new Error('del() requires a callback argument')\n\n  if (err = this._checkKeyValue(key, 'key', this._isBuffer))\n    return callback(err)\n\n  if (!this._isBuffer(key))\n    key = String(key)\n\n  if (typeof options != 'object')\n    options = {}\n\n  if (typeof this._del == 'function')\n    return this._del(key, options, callback)\n\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.batch = function (array, options, callback) {\n  if (!arguments.length)\n    return this._chainedBatch()\n\n  if (typeof options == 'function')\n    callback = options\n\n  if (typeof callback != 'function')\n    throw new Error('batch(array) requires a callback argument')\n\n  if (!Array.isArray(array))\n    return callback(new Error('batch(array) requires an array argument'))\n\n  if (typeof options != 'object')\n    options = {}\n\n  var i = 0\n    , l = array.length\n    , e\n    , err\n\n  for (; i < l; i++) {\n    e = array[i]\n    if (typeof e != 'object')\n      continue\n\n    if (err = this._checkKeyValue(e.type, 'type', this._isBuffer))\n      return callback(err)\n\n    if (err = this._checkKeyValue(e.key, 'key', this._isBuffer))\n      return callback(err)\n\n    if (e.type == 'put') {\n      if (err = this._checkKeyValue(e.value, 'value', this._isBuffer))\n        return callback(err)\n    }\n  }\n\n  if (typeof this._batch == 'function')\n    return this._batch(array, options, callback)\n\n  process.nextTick(callback)\n}\n\n//TODO: remove from here, not a necessary primitive\nAbstractLevelDOWN.prototype.approximateSize = function (start, end, callback) {\n  if (   start == null\n      || end == null\n      || typeof start == 'function'\n      || typeof end == 'function') {\n    throw new Error('approximateSize() requires valid `start`, `end` and `callback` arguments')\n  }\n\n  if (typeof callback != 'function')\n    throw new Error('approximateSize() requires a callback argument')\n\n  if (!this._isBuffer(start))\n    start = String(start)\n\n  if (!this._isBuffer(end))\n    end = String(end)\n\n  if (typeof this._approximateSize == 'function')\n    return this._approximateSize(start, end, callback)\n\n  process.nextTick(function () {\n    callback(null, 0)\n  })\n}\n\nAbstractLevelDOWN.prototype._setupIteratorOptions = function (options) {\n  var self = this\n\n  options = xtend(options)\n\n  ;[ 'start', 'end', 'gt', 'gte', 'lt', 'lte' ].forEach(function (o) {\n    if (options[o] && self._isBuffer(options[o]) && options[o].length === 0)\n      delete options[o]\n  })\n\n  options.reverse = !!options.reverse\n\n  // fix `start` so it takes into account gt, gte, lt, lte as appropriate\n  if (options.reverse && options.lt)\n    options.start = options.lt\n  if (options.reverse && options.lte)\n    options.start = options.lte\n  if (!options.reverse && options.gt)\n    options.start = options.gt\n  if (!options.reverse && options.gte)\n    options.start = options.gte\n\n  if ((options.reverse && options.lt && !options.lte)\n    || (!options.reverse && options.gt && !options.gte))\n    options.exclusiveStart = true // start should *not* include matching key\n\n  return options\n}\n\nAbstractLevelDOWN.prototype.iterator = function (options) {\n  if (typeof options != 'object')\n    options = {}\n\n  options = this._setupIteratorOptions(options)\n\n  if (typeof this._iterator == 'function')\n    return this._iterator(options)\n\n  return new AbstractIterator(this)\n}\n\nAbstractLevelDOWN.prototype._chainedBatch = function () {\n  return new AbstractChainedBatch(this)\n}\n\nAbstractLevelDOWN.prototype._isBuffer = function (obj) {\n  return Buffer.isBuffer(obj)\n}\n\nAbstractLevelDOWN.prototype._checkKeyValue = function (obj, type) {\n\n  if (obj === null || obj === undefined)\n    return new Error(type + ' cannot be `null` or `undefined`')\n\n  if (this._isBuffer(obj)) {\n    if (obj.length === 0)\n      return new Error(type + ' cannot be an empty Buffer')\n  } else if (String(obj) === '')\n    return new Error(type + ' cannot be an empty String')\n}\n\nmodule.exports.AbstractLevelDOWN    = AbstractLevelDOWN\nmodule.exports.AbstractIterator     = AbstractIterator\nmodule.exports.AbstractChainedBatch = AbstractChainedBatch\n","module.exports = extend\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (source.hasOwnProperty(key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","var DuplexStream = require('readable-stream').Duplex\n  , util         = require('util')\n\nfunction BufferList (callback) {\n  if (!(this instanceof BufferList))\n    return new BufferList(callback)\n\n  this._bufs  = []\n  this.length = 0\n\n  if (typeof callback == 'function') {\n    this._callback = callback\n\n    var piper = function (err) {\n      if (this._callback) {\n        this._callback(err)\n        this._callback = null\n      }\n    }.bind(this)\n\n    this.on('pipe', function (src) {\n      src.on('error', piper)\n    })\n    this.on('unpipe', function (src) {\n      src.removeListener('error', piper)\n    })\n  }\n  else if (Buffer.isBuffer(callback))\n    this.append(callback)\n  else if (Array.isArray(callback)) {\n    callback.forEach(function (b) {\n      Buffer.isBuffer(b) && this.append(b)\n    }.bind(this))\n  }\n\n  DuplexStream.call(this)\n}\n\nutil.inherits(BufferList, DuplexStream)\n\nBufferList.prototype._offset = function (offset) {\n  var tot = 0, i = 0, _t\n  for (; i < this._bufs.length; i++) {\n    _t = tot + this._bufs[i].length\n    if (offset < _t)\n      return [ i, offset - tot ]\n    tot = _t\n  }\n}\n\nBufferList.prototype.append = function (buf) {\n  this._bufs.push(Buffer.isBuffer(buf) ? buf : new Buffer(buf))\n  this.length += buf.length\n  return this\n}\n\nBufferList.prototype._write = function (buf, encoding, callback) {\n  this.append(buf)\n  if (callback)\n    callback()\n}\n\nBufferList.prototype._read = function (size) {\n  if (!this.length)\n    return this.push(null)\n  size = Math.min(size, this.length)\n  this.push(this.slice(0, size))\n  this.consume(size)\n}\n\nBufferList.prototype.end = function (chunk) {\n  DuplexStream.prototype.end.call(this, chunk)\n\n  if (this._callback) {\n    this._callback(null, this.slice())\n    this._callback = null\n  }\n}\n\nBufferList.prototype.get = function (index) {\n  return this.slice(index, index + 1)[0]\n}\n\nBufferList.prototype.slice = function (start, end) {\n  return this.copy(null, 0, start, end)\n}\n\nBufferList.prototype.copy = function (dst, dstStart, srcStart, srcEnd) {\n  if (typeof srcStart != 'number' || srcStart < 0)\n    srcStart = 0\n  if (typeof srcEnd != 'number' || srcEnd > this.length)\n    srcEnd = this.length\n  if (srcStart >= this.length)\n    return dst || new Buffer(0)\n  if (srcEnd <= 0)\n    return dst || new Buffer(0)\n\n  var copy   = !!dst\n    , off    = this._offset(srcStart)\n    , len    = srcEnd - srcStart\n    , bytes  = len\n    , bufoff = (copy && dstStart) || 0\n    , start  = off[1]\n    , l\n    , i\n\n  // copy/slice everything\n  if (srcStart === 0 && srcEnd == this.length) {\n    if (!copy) // slice, just return a full concat\n      return Buffer.concat(this._bufs)\n\n    // copy, need to copy individual buffers\n    for (i = 0; i < this._bufs.length; i++) {\n      this._bufs[i].copy(dst, bufoff)\n      bufoff += this._bufs[i].length\n    }\n\n    return dst\n  }\n\n  // easy, cheap case where it's a subset of one of the buffers\n  if (bytes <= this._bufs[off[0]].length - start) {\n    return copy\n      ? this._bufs[off[0]].copy(dst, dstStart, start, start + bytes)\n      : this._bufs[off[0]].slice(start, start + bytes)\n  }\n\n  if (!copy) // a slice, we need something to copy in to\n    dst = new Buffer(len)\n\n  for (i = off[0]; i < this._bufs.length; i++) {\n    l = this._bufs[i].length - start\n\n    if (bytes > l) {\n      this._bufs[i].copy(dst, bufoff, start)\n    } else {\n      this._bufs[i].copy(dst, bufoff, start, start + bytes)\n      break\n    }\n\n    bufoff += l\n    bytes -= l\n\n    if (start)\n      start = 0\n  }\n\n  return dst\n}\n\nBufferList.prototype.toString = function (encoding, start, end) {\n  return this.slice(start, end).toString(encoding)\n}\n\nBufferList.prototype.consume = function (bytes) {\n  while (this._bufs.length) {\n    if (bytes > this._bufs[0].length) {\n      bytes -= this._bufs[0].length\n      this.length -= this._bufs[0].length\n      this._bufs.shift()\n    } else {\n      this._bufs[0] = this._bufs[0].slice(bytes)\n      this.length -= bytes\n      break\n    }\n  }\n  return this\n}\n\nBufferList.prototype.duplicate = function () {\n  var i = 0\n    , copy = new BufferList()\n\n  for (; i < this._bufs.length; i++)\n    copy.append(this._bufs[i])\n\n  return copy\n}\n\nBufferList.prototype.destroy = function () {\n  this._bufs.length = 0;\n  this.length = 0;\n  this.push(null);\n}\n\n;(function () {\n  var methods = {\n      'readDoubleBE' : 8\n    , 'readDoubleLE' : 8\n    , 'readFloatBE'  : 4\n    , 'readFloatLE'  : 4\n    , 'readInt32BE'  : 4\n    , 'readInt32LE'  : 4\n    , 'readUInt32BE' : 4\n    , 'readUInt32LE' : 4\n    , 'readInt16BE'  : 2\n    , 'readInt16LE'  : 2\n    , 'readUInt16BE' : 2\n    , 'readUInt16LE' : 2\n    , 'readInt8'     : 1\n    , 'readUInt8'    : 1\n  }\n\n  for (var m in methods) {\n    (function (m) {\n      BufferList.prototype[m] = function (offset) {\n        return this.slice(offset, offset + methods[m])[m](0)\n      }\n    }(m))\n  }\n}())\n\nmodule.exports = BufferList\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough))\n    return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\n  cb(null, chunk);\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : 16 * 1024;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = false;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // In streams that never have any data, and do push(null) right away,\n  // the consumer can miss the 'end' event if they do some I/O before\n  // consuming the stream.  So, we don't emit('end') until some reading\n  // happens.\n  this.calledRead = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, becuase any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (typeof chunk === 'string' && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (chunk === null || chunk === undefined) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      // update the buffer info.\n      state.length += state.objectMode ? 1 : chunk.length;\n      if (addToFront) {\n        state.buffer.unshift(chunk);\n      } else {\n        state.reading = false;\n        state.buffer.push(chunk);\n      }\n\n      if (state.needReadable)\n        emitReadable(stream);\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (n === null || isNaN(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  var state = this._readableState;\n  state.calledRead = true;\n  var nOrig = n;\n  var ret;\n\n  if (typeof n !== 'number' || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    ret = null;\n\n    // In cases where the decoder did not receive enough data\n    // to produce a full chunk, then immediately received an\n    // EOF, state.buffer will contain [<Buffer >, <Buffer 00 ...>].\n    // howMuchToRead will see this and coerce the amount to\n    // read to zero (because it's looking at the length of the\n    // first <Buffer > in state.buffer), and we'll end up here.\n    //\n    // This can only happen via state.decoder -- no other venue\n    // exists for pushing a zero-length chunk into state.buffer\n    // and triggering this behavior. In this case, we return our\n    // remaining data and end the stream, if appropriate.\n    if (state.length > 0 && state.decoder) {\n      ret = fromList(n, state);\n      state.length -= ret.length;\n    }\n\n    if (state.length === 0)\n      endReadable(this);\n\n    return ret;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length - n <= state.highWaterMark)\n    doRead = true;\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading)\n    doRead = false;\n\n  if (doRead) {\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read called its callback synchronously, then `reading`\n  // will be false, and we need to re-evaluate how much data we\n  // can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we happened to read() exactly the remaining amount in the\n  // buffer, and the EOF has been seen at this point, then make sure\n  // that we emit 'end' on the very next tick.\n  if (state.ended && !state.endEmitted && state.length === 0)\n    endReadable(this);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!Buffer.isBuffer(chunk) &&\n      'string' !== typeof chunk &&\n      chunk !== null &&\n      chunk !== undefined &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // if we've ended and we have some data left, then emit\n  // 'readable' now to make sure it gets picked up.\n  if (state.length > 0)\n    emitReadable(stream);\n  else\n    endReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (state.emittedReadable)\n    return;\n\n  state.emittedReadable = true;\n  if (state.sync)\n    process.nextTick(function() {\n      emitReadable_(stream);\n    });\n  else\n    emitReadable_(stream);\n}\n\nfunction emitReadable_(stream) {\n  stream.emit('readable');\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    if (readable !== src) return;\n    cleanup();\n  }\n\n  function onend() {\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (!dest._writableState || dest._writableState.needDrain)\n      ondrain();\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    // the handler that waits for readable events after all\n    // the data gets sucked out in flow.\n    // This would be easier to follow with a .once() handler\n    // in flow(), but that is too slow.\n    this.on('readable', pipeOnReadable);\n\n    state.flowing = true;\n    process.nextTick(function() {\n      flow(src);\n    });\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var dest = this;\n    var state = src._readableState;\n    state.awaitDrain--;\n    if (state.awaitDrain === 0)\n      flow(src);\n  };\n}\n\nfunction flow(src) {\n  var state = src._readableState;\n  var chunk;\n  state.awaitDrain = 0;\n\n  function write(dest, i, list) {\n    var written = dest.write(chunk);\n    if (false === written) {\n      state.awaitDrain++;\n    }\n  }\n\n  while (state.pipesCount && null !== (chunk = src.read())) {\n\n    if (state.pipesCount === 1)\n      write(state.pipes, 0, null);\n    else\n      forEach(state.pipes, write);\n\n    src.emit('data', chunk);\n\n    // if anyone needs a drain, then we have to wait for that.\n    if (state.awaitDrain > 0)\n      return;\n  }\n\n  // if every destination was unpiped, either before entering this\n  // function, or in the while loop, then stop flowing.\n  //\n  // NB: This is a pretty rare edge case.\n  if (state.pipesCount === 0) {\n    state.flowing = false;\n\n    // if there were data event listeners added, then switch to old mode.\n    if (EE.listenerCount(src, 'data') > 0)\n      emitDataEvents(src);\n    return;\n  }\n\n  // at this point, no one needed a drain, so we just ran out of data\n  // on the next readable event, start it over again.\n  state.ranOut = true;\n}\n\nfunction pipeOnReadable() {\n  if (this._readableState.ranOut) {\n    this._readableState.ranOut = false;\n    flow(this);\n  }\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    this.removeListener('readable', pipeOnReadable);\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    this.removeListener('readable', pipeOnReadable);\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data' && !this._readableState.flowing)\n    emitDataEvents(this);\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        this.read(0);\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  emitDataEvents(this);\n  this.read(0);\n  this.emit('resume');\n};\n\nReadable.prototype.pause = function() {\n  emitDataEvents(this, true);\n  this.emit('pause');\n};\n\nfunction emitDataEvents(stream, startPaused) {\n  var state = stream._readableState;\n\n  if (state.flowing) {\n    // https://github.com/isaacs/readable-stream/issues/16\n    throw new Error('Cannot switch to old mode now.');\n  }\n\n  var paused = startPaused || false;\n  var readable = false;\n\n  // convert to an old-style stream.\n  stream.readable = true;\n  stream.pipe = Stream.prototype.pipe;\n  stream.on = stream.addListener = Stream.prototype.on;\n\n  stream.on('readable', function() {\n    readable = true;\n\n    var c;\n    while (!paused && (null !== (c = stream.read())))\n      stream.emit('data', c);\n\n    if (c === null) {\n      readable = false;\n      stream._readableState.needReadable = true;\n    }\n  });\n\n  stream.pause = function() {\n    paused = true;\n    this.emit('pause');\n  };\n\n  stream.resume = function() {\n    paused = false;\n    if (readable)\n      process.nextTick(function() {\n        stream.emit('readable');\n      });\n    else\n      this.read(0);\n    this.emit('resume');\n  };\n\n  // now make it start, just in case it hadn't already.\n  stream.emit('readable');\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    //if (state.objectMode && util.isNullOrUndefined(chunk))\n    if (state.objectMode && (chunk === null || chunk === undefined))\n      return;\n    else if (!state.objectMode && (!chunk || !chunk.length))\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (typeof stream[i] === 'function' &&\n        typeof this[i] === 'undefined') {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted && state.calledRead) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined)\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  var ts = this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('finish', function() {\n    if ('function' === typeof this._flush)\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var rs = stream._readableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : 16 * 1024;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, becuase any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!Buffer.isBuffer(chunk) &&\n      'string' !== typeof chunk &&\n      chunk !== null &&\n      chunk !== undefined &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (Buffer.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function')\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb))\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n\n  return ret;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      typeof chunk === 'string') {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (Buffer.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      cb(er);\n    });\n  else\n    cb(er);\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished && !state.bufferProcessing && state.buffer.length)\n      clearBuffer(stream, state);\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  cb();\n  if (finished)\n    finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  for (var c = 0; c < state.buffer.length; c++) {\n    var entry = state.buffer[c];\n    var chunk = entry.chunk;\n    var encoding = entry.encoding;\n    var cb = entry.callback;\n    var len = state.objectMode ? 1 : chunk.length;\n\n    doWrite(stream, state, len, chunk, encoding, cb);\n\n    // if we didn't call the onwrite immediately, then\n    // it means that we need to wait until it does.\n    // also, that means that the chunk and cb are currently\n    // being processed, so move the buffer counter past them.\n    if (state.writing) {\n      c++;\n      break;\n    }\n  }\n\n  state.bufferProcessing = false;\n  if (c < state.buffer.length)\n    state.buffer = state.buffer.slice(c);\n  else\n    state.buffer.length = 0;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n};\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (typeof chunk !== 'undefined' && chunk !== null)\n    this.write(chunk, encoding);\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    state.finished = true;\n    stream.emit('finish');\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n","var Stream = require('stream'); // hack to fix a circular dependency issue when used with browserify\nexports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = Stream;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nif (!process.browser && process.env.READABLE_STREAM === 'disable') {\n  module.exports = require('stream');\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n","var leveljs = require('level-js');\nvar levelup = require('levelup');\nvar fs = require('level-filesystem');\n\nvar db = levelup('level-filesystem', {db:leveljs});\nmodule.exports = fs(db);","/* eslint-disable node/no-deprecated-api */\n\nvar toString = Object.prototype.toString\n\nvar isModern = (\n  typeof Buffer !== 'undefined' &&\n  typeof Buffer.alloc === 'function' &&\n  typeof Buffer.allocUnsafe === 'function' &&\n  typeof Buffer.from === 'function'\n)\n\nfunction isArrayBuffer (input) {\n  return toString.call(input).slice(8, -1) === 'ArrayBuffer'\n}\n\nfunction fromArrayBuffer (obj, byteOffset, length) {\n  byteOffset >>>= 0\n\n  var maxLength = obj.byteLength - byteOffset\n\n  if (maxLength < 0) {\n    throw new RangeError(\"'offset' is out of bounds\")\n  }\n\n  if (length === undefined) {\n    length = maxLength\n  } else {\n    length >>>= 0\n\n    if (length > maxLength) {\n      throw new RangeError(\"'length' is out of bounds\")\n    }\n  }\n\n  return isModern\n    ? Buffer.from(obj.slice(byteOffset, byteOffset + length))\n    : new Buffer(new Uint8Array(obj.slice(byteOffset, byteOffset + length)))\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  return isModern\n    ? Buffer.from(string, encoding)\n    : new Buffer(string, encoding)\n}\n\nfunction bufferFrom (value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (isArrayBuffer(value)) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  return isModern\n    ? Buffer.from(value)\n    : new Buffer(value)\n}\n\nmodule.exports = bufferFrom\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","'use strict';\n\nvar bind = require('function-bind');\n\nvar $apply = require('./functionApply');\nvar $call = require('./functionCall');\nvar $reflectApply = require('./reflectApply');\n\n/** @type {import('./actualApply')} */\nmodule.exports = $reflectApply || bind.call($call, $apply);\n","'use strict';\n\nvar bind = require('function-bind');\nvar $apply = require('./functionApply');\nvar actualApply = require('./actualApply');\n\n/** @type {import('./applyBind')} */\nmodule.exports = function applyBind() {\n\treturn actualApply(bind, $apply, arguments);\n};\n","'use strict';\n\n/** @type {import('./functionApply')} */\nmodule.exports = Function.prototype.apply;\n","'use strict';\n\n/** @type {import('./functionCall')} */\nmodule.exports = Function.prototype.call;\n","'use strict';\n\nvar bind = require('function-bind');\nvar $TypeError = require('es-errors/type');\n\nvar $call = require('./functionCall');\nvar $actualApply = require('./actualApply');\n\n/** @type {(args: [Function, thisArg?: unknown, ...args: unknown[]]) => Function} TODO FIXME, find a way to use import('.') */\nmodule.exports = function callBindBasic(args) {\n\tif (args.length < 1 || typeof args[0] !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\treturn $actualApply(bind, $call, args);\n};\n","'use strict';\n\n/** @type {import('./reflectApply')} */\nmodule.exports = typeof Reflect !== 'undefined' && Reflect && Reflect.apply;\n","'use strict';\n\nvar setFunctionLength = require('set-function-length');\n\nvar $defineProperty = require('es-define-property');\n\nvar callBindBasic = require('call-bind-apply-helpers');\nvar applyBind = require('call-bind-apply-helpers/applyBind');\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = callBindBasic(arguments);\n\tvar adjustedLength = originalFunction.length - (arguments.length - 1);\n\treturn setFunctionLength(\n\t\tfunc,\n\t\t1 + (adjustedLength > 0 ? adjustedLength : 0),\n\t\ttrue\n\t);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBindBasic = require('call-bind-apply-helpers');\n\n/** @type {(thisArg: string, searchString: string, position?: number) => number} */\nvar $indexOf = callBindBasic([GetIntrinsic('%String.prototype.indexOf%')]);\n\n/** @type {import('.')} */\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\t/* eslint no-extra-parens: 0 */\n\n\tvar intrinsic = /** @type {(this: unknown, ...args: unknown[]) => unknown} */ (GetIntrinsic(name, !!allowMissing));\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBindBasic(/** @type {const} */ ([intrinsic]));\n\t}\n\treturn intrinsic;\n};\n","var Writable = require('readable-stream').Writable\nvar inherits = require('inherits')\nvar bufferFrom = require('buffer-from')\n\nif (typeof Uint8Array === 'undefined') {\n  var U8 = require('typedarray').Uint8Array\n} else {\n  var U8 = Uint8Array\n}\n\nfunction ConcatStream(opts, cb) {\n  if (!(this instanceof ConcatStream)) return new ConcatStream(opts, cb)\n\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n  if (!opts) opts = {}\n\n  var encoding = opts.encoding\n  var shouldInferEncoding = false\n\n  if (!encoding) {\n    shouldInferEncoding = true\n  } else {\n    encoding =  String(encoding).toLowerCase()\n    if (encoding === 'u8' || encoding === 'uint8') {\n      encoding = 'uint8array'\n    }\n  }\n\n  Writable.call(this, { objectMode: true })\n\n  this.encoding = encoding\n  this.shouldInferEncoding = shouldInferEncoding\n\n  if (cb) this.on('finish', function () { cb(this.getBody()) })\n  this.body = []\n}\n\nmodule.exports = ConcatStream\ninherits(ConcatStream, Writable)\n\nConcatStream.prototype._write = function(chunk, enc, next) {\n  this.body.push(chunk)\n  next()\n}\n\nConcatStream.prototype.inferEncoding = function (buff) {\n  var firstBuffer = buff === undefined ? this.body[0] : buff;\n  if (Buffer.isBuffer(firstBuffer)) return 'buffer'\n  if (typeof Uint8Array !== 'undefined' && firstBuffer instanceof Uint8Array) return 'uint8array'\n  if (Array.isArray(firstBuffer)) return 'array'\n  if (typeof firstBuffer === 'string') return 'string'\n  if (Object.prototype.toString.call(firstBuffer) === \"[object Object]\") return 'object'\n  return 'buffer'\n}\n\nConcatStream.prototype.getBody = function () {\n  if (!this.encoding && this.body.length === 0) return []\n  if (this.shouldInferEncoding) this.encoding = this.inferEncoding()\n  if (this.encoding === 'array') return arrayConcat(this.body)\n  if (this.encoding === 'string') return stringConcat(this.body)\n  if (this.encoding === 'buffer') return bufferConcat(this.body)\n  if (this.encoding === 'uint8array') return u8Concat(this.body)\n  return this.body\n}\n\nvar isArray = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]'\n}\n\nfunction isArrayish (arr) {\n  return /Array\\]$/.test(Object.prototype.toString.call(arr))\n}\n\nfunction isBufferish (p) {\n  return typeof p === 'string' || isArrayish(p) || (p && typeof p.subarray === 'function')\n}\n\nfunction stringConcat (parts) {\n  var strings = []\n  var needsToString = false\n  for (var i = 0; i < parts.length; i++) {\n    var p = parts[i]\n    if (typeof p === 'string') {\n      strings.push(p)\n    } else if (Buffer.isBuffer(p)) {\n      strings.push(p)\n    } else if (isBufferish(p)) {\n      strings.push(bufferFrom(p))\n    } else {\n      strings.push(bufferFrom(String(p)))\n    }\n  }\n  if (Buffer.isBuffer(parts[0])) {\n    strings = Buffer.concat(strings)\n    strings = strings.toString('utf8')\n  } else {\n    strings = strings.join('')\n  }\n  return strings\n}\n\nfunction bufferConcat (parts) {\n  var bufs = []\n  for (var i = 0; i < parts.length; i++) {\n    var p = parts[i]\n    if (Buffer.isBuffer(p)) {\n      bufs.push(p)\n    } else if (isBufferish(p)) {\n      bufs.push(bufferFrom(p))\n    } else {\n      bufs.push(bufferFrom(String(p)))\n    }\n  }\n  return Buffer.concat(bufs)\n}\n\nfunction arrayConcat (parts) {\n  var res = []\n  for (var i = 0; i < parts.length; i++) {\n    res.push.apply(res, parts[i])\n  }\n  return res\n}\n\nfunction u8Concat (parts) {\n  var len = 0\n  for (var i = 0; i < parts.length; i++) {\n    if (typeof parts[i] === 'string') {\n      parts[i] = bufferFrom(parts[i])\n    }\n    len += parts[i].length\n  }\n  var u8 = new U8(len)\n  for (var i = 0, offset = 0; i < parts.length; i++) {\n    var part = parts[i]\n    for (var j = 0; j < part.length; j++) {\n      u8[offset++] = part[j]\n    }\n  }\n  return u8\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('buffer').Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","var util              = require('util')\n  , AbstractLevelDOWN = require('abstract-leveldown').AbstractLevelDOWN\n\nfunction DeferredLevelDOWN (location) {\n  AbstractLevelDOWN.call(this, typeof location == 'string' ? location : '') // optional location, who cares?\n  this._db         = undefined\n  this._operations = []\n}\n\nutil.inherits(DeferredLevelDOWN, AbstractLevelDOWN)\n\n// called by LevelUP when we have a real DB to take its place\nDeferredLevelDOWN.prototype.setDb = function (db) {\n  this._db = db\n  this._operations.forEach(function (op) {\n    db[op.method].apply(db, op.args)\n  })\n}\n\nDeferredLevelDOWN.prototype._open = function (options, callback) {\n  return process.nextTick(callback)\n}\n\n// queue a new deferred operation\nDeferredLevelDOWN.prototype._operation = function (method, args) {\n  if (this._db)\n    return this._db[method].apply(this._db, args)\n  this._operations.push({ method: method, args: args })\n}\n\n// deferrables\n'put get del batch approximateSize'.split(' ').forEach(function (m) {\n  DeferredLevelDOWN.prototype['_' + m] = function () {\n    this._operation(m, arguments)\n  }\n})\n\nDeferredLevelDOWN.prototype._isBuffer = function (obj) {\n  return Buffer.isBuffer(obj)\n}\n\n// don't need to implement this as LevelUP's ReadStream checks for 'ready' state\nDeferredLevelDOWN.prototype._iterator = function () {\n  throw new TypeError('not implemented')\n}\n\nmodule.exports = DeferredLevelDOWN\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\n\nvar gopd = require('gopd');\n\n/** @type {import('.')} */\nmodule.exports = function defineDataProperty(\n\tobj,\n\tproperty,\n\tvalue\n) {\n\tif (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n\t\tthrow new $TypeError('`obj` must be an object or a function`');\n\t}\n\tif (typeof property !== 'string' && typeof property !== 'symbol') {\n\t\tthrow new $TypeError('`property` must be a string or a symbol`');\n\t}\n\tif (arguments.length > 3 && typeof arguments[3] !== 'boolean' && arguments[3] !== null) {\n\t\tthrow new $TypeError('`nonEnumerable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 4 && typeof arguments[4] !== 'boolean' && arguments[4] !== null) {\n\t\tthrow new $TypeError('`nonWritable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 5 && typeof arguments[5] !== 'boolean' && arguments[5] !== null) {\n\t\tthrow new $TypeError('`nonConfigurable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 6 && typeof arguments[6] !== 'boolean') {\n\t\tthrow new $TypeError('`loose`, if provided, must be a boolean');\n\t}\n\n\tvar nonEnumerable = arguments.length > 3 ? arguments[3] : null;\n\tvar nonWritable = arguments.length > 4 ? arguments[4] : null;\n\tvar nonConfigurable = arguments.length > 5 ? arguments[5] : null;\n\tvar loose = arguments.length > 6 ? arguments[6] : false;\n\n\t/* @type {false | TypedPropertyDescriptor<unknown>} */\n\tvar desc = !!gopd && gopd(obj, property);\n\n\tif ($defineProperty) {\n\t\t$defineProperty(obj, property, {\n\t\t\tconfigurable: nonConfigurable === null && desc ? desc.configurable : !nonConfigurable,\n\t\t\tenumerable: nonEnumerable === null && desc ? desc.enumerable : !nonEnumerable,\n\t\t\tvalue: value,\n\t\t\twritable: nonWritable === null && desc ? desc.writable : !nonWritable\n\t\t});\n\t} else if (loose || (!nonEnumerable && !nonWritable && !nonConfigurable)) {\n\t\t// must fall back to [[Set]], and was not explicitly asked to make non-enumerable, non-writable, or non-configurable\n\t\tobj[property] = value; // eslint-disable-line no-param-reassign\n\t} else {\n\t\tthrow new $SyntaxError('This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.');\n\t}\n};\n","'use strict';\n\nvar callBind = require('call-bind-apply-helpers');\nvar gOPD = require('gopd');\n\nvar hasProtoAccessor;\ntry {\n\t// eslint-disable-next-line no-extra-parens, no-proto\n\thasProtoAccessor = /** @type {{ __proto__?: typeof Array.prototype }} */ ([]).__proto__ === Array.prototype;\n} catch (e) {\n\tif (!e || typeof e !== 'object' || !('code' in e) || e.code !== 'ERR_PROTO_ACCESS') {\n\t\tthrow e;\n\t}\n}\n\n// eslint-disable-next-line no-extra-parens\nvar desc = !!hasProtoAccessor && gOPD && gOPD(Object.prototype, /** @type {keyof typeof Object.prototype} */ ('__proto__'));\n\nvar $Object = Object;\nvar $getPrototypeOf = $Object.getPrototypeOf;\n\n/** @type {import('./get')} */\nmodule.exports = desc && typeof desc.get === 'function'\n\t? callBind([desc.get])\n\t: typeof $getPrototypeOf === 'function'\n\t\t? /** @type {import('./get')} */ function getDunder(value) {\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\treturn $getPrototypeOf(value == null ? value : $Object(value));\n\t\t}\n\t\t: false;\n","var prr = require('prr')\n\nfunction init (type, message, cause) {\n  if (!!message && typeof message != 'string') {\n    message = message.message || message.name\n  }\n  prr(this, {\n      type    : type\n    , name    : type\n      // can be passed just a 'cause'\n    , cause   : typeof message != 'string' ? message : cause\n    , message : message\n  }, 'ewr')\n}\n\n// generic prototype, not intended to be actually used - helpful for `instanceof`\nfunction CustomError (message, cause) {\n  Error.call(this)\n  if (Error.captureStackTrace)\n    Error.captureStackTrace(this, this.constructor)\n  init.call(this, 'CustomError', message, cause)\n}\n\nCustomError.prototype = new Error()\n\nfunction createError (errno, type, proto) {\n  var err = function (message, cause) {\n    init.call(this, type, message, cause)\n    //TODO: the specificity here is stupid, errno should be available everywhere\n    if (type == 'FilesystemError') {\n      this.code    = this.cause.code\n      this.path    = this.cause.path\n      this.errno   = this.cause.errno\n      this.message =\n        (errno.errno[this.cause.errno]\n          ? errno.errno[this.cause.errno].description\n          : this.cause.message)\n        + (this.cause.path ? ' [' + this.cause.path + ']' : '')\n    }\n    Error.call(this)\n    if (Error.captureStackTrace)\n      Error.captureStackTrace(this, err)\n  }\n  err.prototype = !!proto ? new proto() : new CustomError()\n  return err\n}\n\nmodule.exports = function (errno) {\n  var ce = function (type, proto) {\n    return createError(errno, type, proto)\n  }\n  return {\n      CustomError     : CustomError\n    , FilesystemError : ce('FilesystemError')\n    , createError     : ce\n  }\n}\n","var all = module.exports.all = [\n  {\n    errno: -2,\n    code: 'ENOENT',\n    description: 'no such file or directory'\n  },\n  {\n    errno: -1,\n    code: 'UNKNOWN',\n    description: 'unknown error'\n  },\n  {\n    errno: 0,\n    code: 'OK',\n    description: 'success'\n  },\n  {\n    errno: 1,\n    code: 'EOF',\n    description: 'end of file'\n  },\n  {\n    errno: 2,\n    code: 'EADDRINFO',\n    description: 'getaddrinfo error'\n  },\n  {\n    errno: 3,\n    code: 'EACCES',\n    description: 'permission denied'\n  },\n  {\n    errno: 4,\n    code: 'EAGAIN',\n    description: 'resource temporarily unavailable'\n  },\n  {\n    errno: 5,\n    code: 'EADDRINUSE',\n    description: 'address already in use'\n  },\n  {\n    errno: 6,\n    code: 'EADDRNOTAVAIL',\n    description: 'address not available'\n  },\n  {\n    errno: 7,\n    code: 'EAFNOSUPPORT',\n    description: 'address family not supported'\n  },\n  {\n    errno: 8,\n    code: 'EALREADY',\n    description: 'connection already in progress'\n  },\n  {\n    errno: 9,\n    code: 'EBADF',\n    description: 'bad file descriptor'\n  },\n  {\n    errno: 10,\n    code: 'EBUSY',\n    description: 'resource busy or locked'\n  },\n  {\n    errno: 11,\n    code: 'ECONNABORTED',\n    description: 'software caused connection abort'\n  },\n  {\n    errno: 12,\n    code: 'ECONNREFUSED',\n    description: 'connection refused'\n  },\n  {\n    errno: 13,\n    code: 'ECONNRESET',\n    description: 'connection reset by peer'\n  },\n  {\n    errno: 14,\n    code: 'EDESTADDRREQ',\n    description: 'destination address required'\n  },\n  {\n    errno: 15,\n    code: 'EFAULT',\n    description: 'bad address in system call argument'\n  },\n  {\n    errno: 16,\n    code: 'EHOSTUNREACH',\n    description: 'host is unreachable'\n  },\n  {\n    errno: 17,\n    code: 'EINTR',\n    description: 'interrupted system call'\n  },\n  {\n    errno: 18,\n    code: 'EINVAL',\n    description: 'invalid argument'\n  },\n  {\n    errno: 19,\n    code: 'EISCONN',\n    description: 'socket is already connected'\n  },\n  {\n    errno: 20,\n    code: 'EMFILE',\n    description: 'too many open files'\n  },\n  {\n    errno: 21,\n    code: 'EMSGSIZE',\n    description: 'message too long'\n  },\n  {\n    errno: 22,\n    code: 'ENETDOWN',\n    description: 'network is down'\n  },\n  {\n    errno: 23,\n    code: 'ENETUNREACH',\n    description: 'network is unreachable'\n  },\n  {\n    errno: 24,\n    code: 'ENFILE',\n    description: 'file table overflow'\n  },\n  {\n    errno: 25,\n    code: 'ENOBUFS',\n    description: 'no buffer space available'\n  },\n  {\n    errno: 26,\n    code: 'ENOMEM',\n    description: 'not enough memory'\n  },\n  {\n    errno: 27,\n    code: 'ENOTDIR',\n    description: 'not a directory'\n  },\n  {\n    errno: 28,\n    code: 'EISDIR',\n    description: 'illegal operation on a directory'\n  },\n  {\n    errno: 29,\n    code: 'ENONET',\n    description: 'machine is not on the network'\n  },\n  {\n    errno: 31,\n    code: 'ENOTCONN',\n    description: 'socket is not connected'\n  },\n  {\n    errno: 32,\n    code: 'ENOTSOCK',\n    description: 'socket operation on non-socket'\n  },\n  {\n    errno: 33,\n    code: 'ENOTSUP',\n    description: 'operation not supported on socket'\n  },\n  {\n    errno: 34,\n    code: 'ENOENT',\n    description: 'no such file or directory'\n  },\n  {\n    errno: 35,\n    code: 'ENOSYS',\n    description: 'function not implemented'\n  },\n  {\n    errno: 36,\n    code: 'EPIPE',\n    description: 'broken pipe'\n  },\n  {\n    errno: 37,\n    code: 'EPROTO',\n    description: 'protocol error'\n  },\n  {\n    errno: 38,\n    code: 'EPROTONOSUPPORT',\n    description: 'protocol not supported'\n  },\n  {\n    errno: 39,\n    code: 'EPROTOTYPE',\n    description: 'protocol wrong type for socket'\n  },\n  {\n    errno: 40,\n    code: 'ETIMEDOUT',\n    description: 'connection timed out'\n  },\n  {\n    errno: 41,\n    code: 'ECHARSET',\n    description: 'invalid Unicode character'\n  },\n  {\n    errno: 42,\n    code: 'EAIFAMNOSUPPORT',\n    description: 'address family for hostname not supported'\n  },\n  {\n    errno: 44,\n    code: 'EAISERVICE',\n    description: 'servname not supported for ai_socktype'\n  },\n  {\n    errno: 45,\n    code: 'EAISOCKTYPE',\n    description: 'ai_socktype not supported'\n  },\n  {\n    errno: 46,\n    code: 'ESHUTDOWN',\n    description: 'cannot send after transport endpoint shutdown'\n  },\n  {\n    errno: 47,\n    code: 'EEXIST',\n    description: 'file already exists'\n  },\n  {\n    errno: 48,\n    code: 'ESRCH',\n    description: 'no such process'\n  },\n  {\n    errno: 49,\n    code: 'ENAMETOOLONG',\n    description: 'name too long'\n  },\n  {\n    errno: 50,\n    code: 'EPERM',\n    description: 'operation not permitted'\n  },\n  {\n    errno: 51,\n    code: 'ELOOP',\n    description: 'too many symbolic links encountered'\n  },\n  {\n    errno: 52,\n    code: 'EXDEV',\n    description: 'cross-device link not permitted'\n  },\n  {\n    errno: 53,\n    code: 'ENOTEMPTY',\n    description: 'directory not empty'\n  },\n  {\n    errno: 54,\n    code: 'ENOSPC',\n    description: 'no space left on device'\n  },\n  {\n    errno: 55,\n    code: 'EIO',\n    description: 'i/o error'\n  },\n  {\n    errno: 56,\n    code: 'EROFS',\n    description: 'read-only file system'\n  },\n  {\n    errno: 57,\n    code: 'ENODEV',\n    description: 'no such device'\n  },\n  {\n    errno: 58,\n    code: 'ESPIPE',\n    description: 'invalid seek'\n  },\n  {\n    errno: 59,\n    code: 'ECANCELED',\n    description: 'operation canceled'\n  }\n]\n\nmodule.exports.errno = {}\nmodule.exports.code = {}\n\nall.forEach(function (error) {\n  module.exports.errno[error.errno] = error\n  module.exports.code[error.code] = error\n})\n\nmodule.exports.custom = require('./custom')(module.exports)\nmodule.exports.create = module.exports.custom.createError\n","'use strict';\n\n/** @type {import('.')} */\nvar $defineProperty = Object.defineProperty || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n","'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n","'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n","'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n","'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n","'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n","'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Object;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","'use strict';\n\nvar isCallable = require('is-callable');\n\nvar toStr = Object.prototype.toString;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/** @type {<This, A extends readonly unknown[]>(arr: A, iterator: (this: This | void, value: A[number], index: number, arr: A) => void, receiver: This | undefined) => void} */\nvar forEachArray = function forEachArray(array, iterator, receiver) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            if (receiver == null) {\n                iterator(array[i], i, array);\n            } else {\n                iterator.call(receiver, array[i], i, array);\n            }\n        }\n    }\n};\n\n/** @type {<This, S extends string>(string: S, iterator: (this: This | void, value: S[number], index: number, string: S) => void, receiver: This | undefined) => void} */\nvar forEachString = function forEachString(string, iterator, receiver) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        if (receiver == null) {\n            iterator(string.charAt(i), i, string);\n        } else {\n            iterator.call(receiver, string.charAt(i), i, string);\n        }\n    }\n};\n\n/** @type {<This, O>(obj: O, iterator: (this: This | void, value: O[keyof O], index: keyof O, obj: O) => void, receiver: This | undefined) => void} */\nvar forEachObject = function forEachObject(object, iterator, receiver) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            if (receiver == null) {\n                iterator(object[k], k, object);\n            } else {\n                iterator.call(receiver, object[k], k, object);\n            }\n        }\n    }\n};\n\n/** @type {(x: unknown) => x is readonly unknown[]} */\nfunction isArray(x) {\n    return toStr.call(x) === '[object Array]';\n}\n\n/** @type {import('.')._internal} */\nmodule.exports = function forEach(list, iterator, thisArg) {\n    if (!isCallable(iterator)) {\n        throw new TypeError('iterator must be a function');\n    }\n\n    var receiver;\n    if (arguments.length >= 3) {\n        receiver = thisArg;\n    }\n\n    if (isArray(list)) {\n        forEachArray(list, iterator, receiver);\n    } else if (typeof list === 'string') {\n        forEachString(list, iterator, receiver);\n    } else {\n        forEachObject(list, iterator, receiver);\n    }\n};\n","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","var Writable = require('readable-stream/writable');\nvar Readable = require('readable-stream/readable');\nvar Duplex = require('readable-stream/duplex');\n\nvar DUMMY = new Buffer(0);\nvar noop = function() {};\n\nvar toFunction = function(fn) {\n\tif (typeof fn === 'function') return fn;\n\treturn function(cb) {\n\t\tcb(null, fn);\n\t};\n};\n\nvar onreadable = function(rs, init) {\n\tvar reading = false;\n\tvar destroyed = false;\n\n\trs._read = function() {\n\t\treading = true;\n\t};\n\n\trs.destroy = function() {\n\t\tdestroyed = true;\n\t};\n\n\tinit(function(err, source) {\n\t\tif (err) return rs.emit('error', err);\n\n\t\tvar fwd = function() {\n\t\t\tvar data;\n\t\t\twhile ((data = source.read()) !== null) {\n\t\t\t\treading = false;\n\t\t\t\trs.push(data);\n\t\t\t}\n\t\t};\n\n\t\tsource.on('readable', function() {\n\t\t\tif (reading) fwd();\n\t\t});\n\n\t\tsource.on('end', function() {\n\t\t\tfwd();\n\t\t\trs.push(null);\n\t\t});\n\n\t\tsource.on('error', function(err) {\n\t\t\trs.emit('error', err);\n\t\t});\n\n\t\tsource.on('close', function() {\n\t\t\tfwd();\n\t\t\tprocess.nextTick(function() {\n\t\t\t\trs.emit('close');\n\t\t\t});\n\t\t});\n\n\t\trs._read = function() {\n\t\t\treading = true;\n\t\t\tfwd();\n\t\t};\n\n\t\trs.destroy = function() {\n\t\t\tif (destroyed) return;\n\t\t\tdestroyed = true;\n\t\t\tif (source.destroy) source.destroy();\n\t\t};\n\n\t\tif (destroyed) {\n\t\t\tdestroyed = false;\n\t\t\trs.destroy();\n\t\t\treturn;\n\t\t}\n\n\t\tif (reading) fwd();\n\t});\n\n\treturn rs;\n};\n\nvar onwritable = function(ws, init) {\n\tvar ready = noop;\n\tvar destroyed = false;\n\n\tws._write = function(data, enc, cb) {\n\t\tready = cb;\n\t};\n\n\tws.destroy = function() {\n\t\tdestroyed = true;\n\t};\n\n\tws.write(DUMMY);\n\n\tinit(function(err, source) {\n\t\tif (err) return ws.emit('error', err);\n\n\t\tsource.on('close', function() {\n\t\t\tws.emit('close');\n\t\t});\n\n\t\tsource.on('error', function(err) {\n\t\t\tws.emit('error', err);\n\t\t});\n\n\t\tws._write = function(data, enc, cb) {\n\t\t\tif (data === DUMMY) return cb();\n\t\t\tsource.write(data, enc, cb);\n\t\t};\n\n\t\tvar emit = ws.emit;\n\n\t\tsource.on('finish', function() {\n\t\t\temit.call(ws, 'finish');\n\t\t});\n\n\t\tws.destroy = function() {\n\t\t\tif (destroyed) return;\n\t\t\tdestroyed = true;\n\t\t\tif (source.destroy) source.destroy();\n\t\t};\n\n\t\tws.emit = function(name) {\n\t\t\tif (name !== 'finish') return emit.apply(ws, arguments);\n\t\t\tsource.end();\n\t\t};\n\n\t\tif (destroyed) {\n\t\t\tdestroyed = false;\n\t\t\tws.destroy();\n\t\t\treturn;\n\t\t}\n\n\t\tready();\n\t});\n\n\treturn ws;\n};\n\nexports.readable = function(opts, init) {\n\tif (arguments.length === 1) return exports.readable(null, opts);\n\tif (!opts) opts = {};\n\treturn onreadable(new Readable(opts), toFunction(init));\n};\n\nexports.writable = function(opts, init) {\n\tif (arguments.length === 1) return exports.writable(null, opts);\n\tif (!opts) opts = {};\n\treturn onwritable(new Writable(opts), toFunction(init));\n};\n\nexports.duplex = function(opts, initWritable, initReadable) {\n\tif (arguments.length === 2) return exports.duplex(null, opts, initWritable);\n\tif (!opts) opts = {};\n\tvar dupl = new Duplex(opts);\n\tonwritable(dupl, toFunction(initWritable));\n\tonreadable(dupl, toFunction(initReadable));\n\treturn dupl;\n};","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","module.exports = require(\"./lib/_stream_duplex.js\")\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough))\n    return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\n  cb(null, chunk);\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : 16 * 1024;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = false;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // In streams that never have any data, and do push(null) right away,\n  // the consumer can miss the 'end' event if they do some I/O before\n  // consuming the stream.  So, we don't emit('end') until some reading\n  // happens.\n  this.calledRead = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, becuase any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (typeof chunk === 'string' && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (chunk === null || chunk === undefined) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      // update the buffer info.\n      state.length += state.objectMode ? 1 : chunk.length;\n      if (addToFront) {\n        state.buffer.unshift(chunk);\n      } else {\n        state.reading = false;\n        state.buffer.push(chunk);\n      }\n\n      if (state.needReadable)\n        emitReadable(stream);\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (n === null || isNaN(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  var state = this._readableState;\n  state.calledRead = true;\n  var nOrig = n;\n  var ret;\n\n  if (typeof n !== 'number' || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    ret = null;\n\n    // In cases where the decoder did not receive enough data\n    // to produce a full chunk, then immediately received an\n    // EOF, state.buffer will contain [<Buffer >, <Buffer 00 ...>].\n    // howMuchToRead will see this and coerce the amount to\n    // read to zero (because it's looking at the length of the\n    // first <Buffer > in state.buffer), and we'll end up here.\n    //\n    // This can only happen via state.decoder -- no other venue\n    // exists for pushing a zero-length chunk into state.buffer\n    // and triggering this behavior. In this case, we return our\n    // remaining data and end the stream, if appropriate.\n    if (state.length > 0 && state.decoder) {\n      ret = fromList(n, state);\n      state.length -= ret.length;\n    }\n\n    if (state.length === 0)\n      endReadable(this);\n\n    return ret;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length - n <= state.highWaterMark)\n    doRead = true;\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading)\n    doRead = false;\n\n  if (doRead) {\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read called its callback synchronously, then `reading`\n  // will be false, and we need to re-evaluate how much data we\n  // can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we happened to read() exactly the remaining amount in the\n  // buffer, and the EOF has been seen at this point, then make sure\n  // that we emit 'end' on the very next tick.\n  if (state.ended && !state.endEmitted && state.length === 0)\n    endReadable(this);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!Buffer.isBuffer(chunk) &&\n      'string' !== typeof chunk &&\n      chunk !== null &&\n      chunk !== undefined &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // if we've ended and we have some data left, then emit\n  // 'readable' now to make sure it gets picked up.\n  if (state.length > 0)\n    emitReadable(stream);\n  else\n    endReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (state.emittedReadable)\n    return;\n\n  state.emittedReadable = true;\n  if (state.sync)\n    process.nextTick(function() {\n      emitReadable_(stream);\n    });\n  else\n    emitReadable_(stream);\n}\n\nfunction emitReadable_(stream) {\n  stream.emit('readable');\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    if (readable !== src) return;\n    cleanup();\n  }\n\n  function onend() {\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (!dest._writableState || dest._writableState.needDrain)\n      ondrain();\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    // the handler that waits for readable events after all\n    // the data gets sucked out in flow.\n    // This would be easier to follow with a .once() handler\n    // in flow(), but that is too slow.\n    this.on('readable', pipeOnReadable);\n\n    state.flowing = true;\n    process.nextTick(function() {\n      flow(src);\n    });\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var dest = this;\n    var state = src._readableState;\n    state.awaitDrain--;\n    if (state.awaitDrain === 0)\n      flow(src);\n  };\n}\n\nfunction flow(src) {\n  var state = src._readableState;\n  var chunk;\n  state.awaitDrain = 0;\n\n  function write(dest, i, list) {\n    var written = dest.write(chunk);\n    if (false === written) {\n      state.awaitDrain++;\n    }\n  }\n\n  while (state.pipesCount && null !== (chunk = src.read())) {\n\n    if (state.pipesCount === 1)\n      write(state.pipes, 0, null);\n    else\n      forEach(state.pipes, write);\n\n    src.emit('data', chunk);\n\n    // if anyone needs a drain, then we have to wait for that.\n    if (state.awaitDrain > 0)\n      return;\n  }\n\n  // if every destination was unpiped, either before entering this\n  // function, or in the while loop, then stop flowing.\n  //\n  // NB: This is a pretty rare edge case.\n  if (state.pipesCount === 0) {\n    state.flowing = false;\n\n    // if there were data event listeners added, then switch to old mode.\n    if (EE.listenerCount(src, 'data') > 0)\n      emitDataEvents(src);\n    return;\n  }\n\n  // at this point, no one needed a drain, so we just ran out of data\n  // on the next readable event, start it over again.\n  state.ranOut = true;\n}\n\nfunction pipeOnReadable() {\n  if (this._readableState.ranOut) {\n    this._readableState.ranOut = false;\n    flow(this);\n  }\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    this.removeListener('readable', pipeOnReadable);\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    this.removeListener('readable', pipeOnReadable);\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data' && !this._readableState.flowing)\n    emitDataEvents(this);\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        this.read(0);\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  emitDataEvents(this);\n  this.read(0);\n  this.emit('resume');\n};\n\nReadable.prototype.pause = function() {\n  emitDataEvents(this, true);\n  this.emit('pause');\n};\n\nfunction emitDataEvents(stream, startPaused) {\n  var state = stream._readableState;\n\n  if (state.flowing) {\n    // https://github.com/isaacs/readable-stream/issues/16\n    throw new Error('Cannot switch to old mode now.');\n  }\n\n  var paused = startPaused || false;\n  var readable = false;\n\n  // convert to an old-style stream.\n  stream.readable = true;\n  stream.pipe = Stream.prototype.pipe;\n  stream.on = stream.addListener = Stream.prototype.on;\n\n  stream.on('readable', function() {\n    readable = true;\n\n    var c;\n    while (!paused && (null !== (c = stream.read())))\n      stream.emit('data', c);\n\n    if (c === null) {\n      readable = false;\n      stream._readableState.needReadable = true;\n    }\n  });\n\n  stream.pause = function() {\n    paused = true;\n    this.emit('pause');\n  };\n\n  stream.resume = function() {\n    paused = false;\n    if (readable)\n      process.nextTick(function() {\n        stream.emit('readable');\n      });\n    else\n      this.read(0);\n    this.emit('resume');\n  };\n\n  // now make it start, just in case it hadn't already.\n  stream.emit('readable');\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    //if (state.objectMode && util.isNullOrUndefined(chunk))\n    if (state.objectMode && (chunk === null || chunk === undefined))\n      return;\n    else if (!state.objectMode && (!chunk || !chunk.length))\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (typeof stream[i] === 'function' &&\n        typeof this[i] === 'undefined') {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted && state.calledRead) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined)\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  var ts = this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('finish', function() {\n    if ('function' === typeof this._flush)\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var rs = stream._readableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : 16 * 1024;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, becuase any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!Buffer.isBuffer(chunk) &&\n      'string' !== typeof chunk &&\n      chunk !== null &&\n      chunk !== undefined &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (Buffer.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function')\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb))\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n\n  return ret;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      typeof chunk === 'string') {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (Buffer.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      cb(er);\n    });\n  else\n    cb(er);\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished && !state.bufferProcessing && state.buffer.length)\n      clearBuffer(stream, state);\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  cb();\n  if (finished)\n    finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  for (var c = 0; c < state.buffer.length; c++) {\n    var entry = state.buffer[c];\n    var chunk = entry.chunk;\n    var encoding = entry.encoding;\n    var cb = entry.callback;\n    var len = state.objectMode ? 1 : chunk.length;\n\n    doWrite(stream, state, len, chunk, encoding, cb);\n\n    // if we didn't call the onwrite immediately, then\n    // it means that we need to wait until it does.\n    // also, that means that the chunk and cb are currently\n    // being processed, so move the buffer counter past them.\n    if (state.writing) {\n      c++;\n      break;\n    }\n  }\n\n  state.bufferProcessing = false;\n  if (c < state.buffer.length)\n    state.buffer = state.buffer.slice(c);\n  else\n    state.buffer.length = 0;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n};\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (typeof chunk !== 'undefined' && chunk !== null)\n    this.write(chunk, encoding);\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    state.finished = true;\n    stream.emit('finish');\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n","var Stream = require('stream'); // hack to fix a circular dependency issue when used with browserify\nexports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = Stream;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nif (!process.browser && process.env.READABLE_STREAM === 'disable') {\n  module.exports = require('stream');\n}\n","module.exports = require(\"./lib/_stream_writable.js\")\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n","'use strict';\n\nvar undefined;\n\nvar $Object = require('es-object-atoms');\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar abs = require('math-intrinsics/abs');\nvar floor = require('math-intrinsics/floor');\nvar max = require('math-intrinsics/max');\nvar min = require('math-intrinsics/min');\nvar pow = require('math-intrinsics/pow');\nvar round = require('math-intrinsics/round');\nvar sign = require('math-intrinsics/sign');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = require('gopd');\nvar $defineProperty = require('es-define-property');\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = require('get-proto');\nvar $ObjectGPO = require('get-proto/Object.getPrototypeOf');\nvar $ReflectGPO = require('get-proto/Reflect.getPrototypeOf');\n\nvar $apply = require('call-bind-apply-helpers/functionApply');\nvar $call = require('call-bind-apply-helpers/functionCall');\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float16Array%': typeof Float16Array === 'undefined' ? undefined : Float16Array,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': $Object,\n\t'%Object.getOwnPropertyDescriptor%': $gOPD,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\n\t'%Function.prototype.call%': $call,\n\t'%Function.prototype.apply%': $apply,\n\t'%Object.defineProperty%': $defineProperty,\n\t'%Object.getPrototypeOf%': $ObjectGPO,\n\t'%Math.abs%': abs,\n\t'%Math.floor%': floor,\n\t'%Math.max%': max,\n\t'%Math.min%': min,\n\t'%Math.pow%': pow,\n\t'%Math.round%': round,\n\t'%Math.sign%': sign,\n\t'%Reflect.getPrototypeOf%': $ReflectGPO\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call($call, Array.prototype.concat);\nvar $spliceApply = bind.call($apply, Array.prototype.splice);\nvar $replace = bind.call($call, String.prototype.replace);\nvar $strSlice = bind.call($call, String.prototype.slice);\nvar $exec = bind.call($call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar $Object = require('es-object-atoms');\n\n/** @type {import('./Object.getPrototypeOf')} */\nmodule.exports = $Object.getPrototypeOf || null;\n","'use strict';\n\n/** @type {import('./Reflect.getPrototypeOf')} */\nmodule.exports = (typeof Reflect !== 'undefined' && Reflect.getPrototypeOf) || null;\n","'use strict';\n\nvar reflectGetProto = require('./Reflect.getPrototypeOf');\nvar originalGetProto = require('./Object.getPrototypeOf');\n\nvar getDunderProto = require('dunder-proto/get');\n\n/** @type {import('.')} */\nmodule.exports = reflectGetProto\n\t? function getProto(O) {\n\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\treturn reflectGetProto(O);\n\t}\n\t: originalGetProto\n\t\t? function getProto(O) {\n\t\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\t\tthrow new TypeError('getProto: not an object');\n\t\t\t}\n\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\treturn originalGetProto(O);\n\t\t}\n\t\t: getDunderProto\n\t\t\t? function getProto(O) {\n\t\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\t\treturn getDunderProto(O);\n\t\t\t}\n\t\t\t: null;\n","'use strict';\n\n/** @type {import('./gOPD')} */\nmodule.exports = Object.getOwnPropertyDescriptor;\n","'use strict';\n\n/** @type {import('.')} */\nvar $gOPD = require('./gOPD');\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar hasPropertyDescriptors = function hasPropertyDescriptors() {\n\treturn !!$defineProperty;\n};\n\nhasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {\n\t// node v0.6 has a bug where array lengths can be Set but not Defined\n\tif (!$defineProperty) {\n\t\treturn null;\n\t}\n\ttry {\n\t\treturn $defineProperty([], 'length', { value: 1 }).length !== 1;\n\t} catch (e) {\n\t\t// In Firefox 4-22, defining length on an array throws an exception.\n\t\treturn true;\n\t}\n};\n\nmodule.exports = hasPropertyDescriptors;\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\n/** @type {import('.')} */\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/** @type {import('./shams')} */\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\t/** @type {{ [k in symbol]?: unknown }} */\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (var _ in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\t// eslint-disable-next-line no-extra-parens\n\t\tvar descriptor = /** @type {PropertyDescriptor} */ (Object.getOwnPropertyDescriptor(obj, sym));\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar hasSymbols = require('has-symbols/shams');\n\n/** @type {import('.')} */\nmodule.exports = function hasToStringTagShams() {\n\treturn hasSymbols() && !!Symbol.toStringTag;\n};\n","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n","/*global window:false, self:false, define:false, module:false */\n\n/**\n * @license IDBWrapper - A cross-browser wrapper for IndexedDB\n * Version 1.7.2\n * Copyright (c) 2011 - 2017 Jens Arps\n * http://jensarps.de/\n *\n * Licensed under the MIT license\n */\n\n(function (name, definition, global) {\n\n    'use strict';\n\n    if (typeof define === 'function') {\n        define(definition);\n    } else if (typeof module !== 'undefined' && module.exports) {\n        module.exports = definition();\n    } else {\n        global[name] = definition();\n    }\n})('IDBStore', function () {\n\n    'use strict';\n\n    var defaultErrorHandler = function (error) {\n        throw error;\n    };\n    var defaultSuccessHandler = function () {\n    };\n\n    var defaults = {\n        storeName: 'Store',\n        storePrefix: 'IDBWrapper-',\n        dbVersion: 1,\n        keyPath: 'id',\n        autoIncrement: true,\n        onStoreReady: function () {\n        },\n        onError: defaultErrorHandler,\n        indexes: [],\n        implementationPreference: [\n            'indexedDB',\n            'webkitIndexedDB',\n            'mozIndexedDB',\n            'shimIndexedDB'\n        ]\n    };\n\n    /**\n     *\n     * The IDBStore constructor\n     *\n     * @constructor\n     * @name IDBStore\n     * @version 1.7.2\n     *\n     * @param {Object} [kwArgs] An options object used to configure the store and\n     *  set callbacks\n     * @param {String} [kwArgs.storeName='Store'] The name of the store\n     * @param {String} [kwArgs.storePrefix='IDBWrapper-'] A prefix that is\n     *  internally used to construct the name of the database, which will be\n     *  kwArgs.storePrefix + kwArgs.storeName\n     * @param {Number} [kwArgs.dbVersion=1] The version of the store\n     * @param {String} [kwArgs.keyPath='id'] The key path to use. If you want to\n     *  setup IDBWrapper to work with out-of-line keys, you need to set this to\n     *  `null`\n     * @param {Boolean} [kwArgs.autoIncrement=true] If set to true, IDBStore will\n     *  automatically make sure a unique keyPath value is present on each object\n     *  that is stored.\n     * @param {Function} [kwArgs.onStoreReady] A callback to be called when the\n     *  store is ready to be used.\n     * @param {Function} [kwArgs.onError=throw] A callback to be called when an\n     *  error occurred during instantiation of the store.\n     * @param {Array} [kwArgs.indexes=[]] An array of indexData objects\n     *  defining the indexes to use with the store. For every index to be used\n     *  one indexData object needs to be passed in the array.\n     *  An indexData object is defined as follows:\n     * @param {Object} [kwArgs.indexes.indexData] An object defining the index to\n     *  use\n     * @param {String} kwArgs.indexes.indexData.name The name of the index\n     * @param {String} [kwArgs.indexes.indexData.keyPath] The key path of the index\n     * @param {Boolean} [kwArgs.indexes.indexData.unique] Whether the index is unique\n     * @param {Boolean} [kwArgs.indexes.indexData.multiEntry] Whether the index is multi entry\n     * @param {Array} [kwArgs.implementationPreference=['indexedDB','webkitIndexedDB','mozIndexedDB','shimIndexedDB']] An array of strings naming implementations to be used, in order or preference\n     * @param {Function} [onStoreReady] A callback to be called when the store\n     * is ready to be used.\n     * @example\n     // create a store for customers with an additional index over the\n     // `lastname` property.\n     var myCustomerStore = new IDBStore({\n         dbVersion: 1,\n         storeName: 'customer-index',\n         keyPath: 'customerid',\n         autoIncrement: true,\n         onStoreReady: populateTable,\n         indexes: [\n             { name: 'lastname', keyPath: 'lastname', unique: false, multiEntry: false }\n         ]\n     });\n     * @example\n     // create a generic store\n     var myCustomerStore = new IDBStore({\n         storeName: 'my-data-store',\n         onStoreReady: function(){\n             // start working with the store.\n         }\n     });\n     */\n    var IDBStore = function (kwArgs, onStoreReady) {\n\n        if (typeof onStoreReady == 'undefined' && typeof kwArgs == 'function') {\n            onStoreReady = kwArgs;\n        }\n        if (Object.prototype.toString.call(kwArgs) != '[object Object]') {\n            kwArgs = {};\n        }\n\n        for (var key in defaults) {\n            this[key] = typeof kwArgs[key] != 'undefined' ? kwArgs[key] : defaults[key];\n        }\n\n        this.dbName = this.storePrefix + this.storeName;\n        this.dbVersion = parseInt(this.dbVersion, 10) || 1;\n\n        onStoreReady && (this.onStoreReady = onStoreReady);\n\n        var env = typeof window == 'object' ? window : self;\n        var availableImplementations = this.implementationPreference.filter(function (implName) {\n            return implName in env;\n        });\n        this.implementation = availableImplementations[0];\n        this.idb = env[this.implementation];\n        this.keyRange = env.IDBKeyRange || env.webkitIDBKeyRange || env.mozIDBKeyRange;\n\n        this.consts = {\n            'READ_ONLY': 'readonly',\n            'READ_WRITE': 'readwrite',\n            'VERSION_CHANGE': 'versionchange',\n            'NEXT': 'next',\n            'NEXT_NO_DUPLICATE': 'nextunique',\n            'PREV': 'prev',\n            'PREV_NO_DUPLICATE': 'prevunique'\n        };\n\n        this.openDB();\n    };\n\n    /** @lends IDBStore.prototype */\n    var proto = {\n\n        /**\n         * A pointer to the IDBStore ctor\n         *\n         * @private\n         * @type {Function}\n         * @constructs\n         */\n        constructor: IDBStore,\n\n        /**\n         * The version of IDBStore\n         *\n         * @type {String}\n         */\n        version: '1.7.2',\n\n        /**\n         * A reference to the IndexedDB object\n         *\n         * @type {IDBDatabase}\n         */\n        db: null,\n\n        /**\n         * The full name of the IndexedDB used by IDBStore, composed of\n         * this.storePrefix + this.storeName\n         *\n         * @type {String}\n         */\n        dbName: null,\n\n        /**\n         * The version of the IndexedDB used by IDBStore\n         *\n         * @type {Number}\n         */\n        dbVersion: null,\n\n        /**\n         * A reference to the objectStore used by IDBStore\n         *\n         * @type {IDBObjectStore}\n         */\n        store: null,\n\n        /**\n         * The store name\n         *\n         * @type {String}\n         */\n        storeName: null,\n\n        /**\n         * The prefix to prepend to the store name\n         *\n         * @type {String}\n         */\n        storePrefix: null,\n\n        /**\n         * The key path\n         *\n         * @type {String}\n         */\n        keyPath: null,\n\n        /**\n         * Whether IDBStore uses autoIncrement\n         *\n         * @type {Boolean}\n         */\n        autoIncrement: null,\n\n        /**\n         * The indexes used by IDBStore\n         *\n         * @type {Array}\n         */\n        indexes: null,\n\n        /**\n         * The implemantations to try to use, in order of preference\n         *\n         * @type {Array}\n         */\n        implementationPreference: null,\n\n        /**\n         * The actual implementation being used\n         *\n         * @type {String}\n         */\n        implementation: '',\n\n        /**\n         * The callback to be called when the store is ready to be used\n         *\n         * @type {Function}\n         */\n        onStoreReady: null,\n\n        /**\n         * The callback to be called if an error occurred during instantiation\n         * of the store\n         *\n         * @type {Function}\n         */\n        onError: null,\n\n        /**\n         * The internal insertID counter\n         *\n         * @type {Number}\n         * @private\n         */\n        _insertIdCount: 0,\n\n        /**\n         * Opens an IndexedDB; called by the constructor.\n         *\n         * Will check if versions match and compare provided index configuration\n         * with existing ones, and update indexes if necessary.\n         *\n         * Will call this.onStoreReady() if everything went well and the store\n         * is ready to use, and this.onError() is something went wrong.\n         *\n         * @private\n         *\n         */\n        openDB: function () {\n\n            var openRequest = this.idb.open(this.dbName, this.dbVersion);\n            var preventSuccessCallback = false;\n\n            openRequest.onerror = function (errorEvent) {\n\n                if (hasVersionError(errorEvent)) {\n                    this.onError(new Error('The version number provided is lower than the existing one.'));\n                } else {\n                    var error;\n\n                    if (errorEvent.target.error) {\n                        error = errorEvent.target.error;\n                    } else {\n                        var errorMessage = 'IndexedDB unknown error occurred when opening DB ' + this.dbName + ' version ' + this.dbVersion;\n                        if ('errorCode' in errorEvent.target) {\n                            errorMessage += ' with error code ' + errorEvent.target.errorCode;\n                        }\n                        error = new Error(errorMessage);\n                    }\n\n                    this.onError(error);\n                }\n            }.bind(this);\n\n            openRequest.onsuccess = function (event) {\n\n                if (preventSuccessCallback) {\n                    return;\n                }\n\n                if (this.db) {\n                    this.onStoreReady();\n                    return;\n                }\n\n                this.db = event.target.result;\n\n                if (typeof this.db.version == 'string') {\n                    this.onError(new Error('The IndexedDB implementation in this browser is outdated. Please upgrade your browser.'));\n                    return;\n                }\n\n                if (!this.db.objectStoreNames.contains(this.storeName)) {\n                    // We should never ever get here.\n                    // Lets notify the user anyway.\n                    this.onError(new Error('Object store couldn\\'t be created.'));\n                    return;\n                }\n\n                var emptyTransaction = this.db.transaction([this.storeName], this.consts.READ_ONLY);\n                this.store = emptyTransaction.objectStore(this.storeName);\n\n                // check indexes\n                var existingIndexes = Array.prototype.slice.call(this.getIndexList());\n                this.indexes.forEach(function (indexData) {\n                    var indexName = indexData.name;\n\n                    if (!indexName) {\n                        preventSuccessCallback = true;\n                        this.onError(new Error('Cannot create index: No index name given.'));\n                        return;\n                    }\n\n                    this.normalizeIndexData(indexData);\n\n                    if (this.hasIndex(indexName)) {\n                        // check if it complies\n                        var actualIndex = this.store.index(indexName);\n                        var complies = this.indexComplies(actualIndex, indexData);\n                        if (!complies) {\n                            preventSuccessCallback = true;\n                            this.onError(new Error('Cannot modify index \"' + indexName + '\" for current version. Please bump version number to ' + ( this.dbVersion + 1 ) + '.'));\n                        }\n\n                        existingIndexes.splice(existingIndexes.indexOf(indexName), 1);\n                    } else {\n                        preventSuccessCallback = true;\n                        this.onError(new Error('Cannot create new index \"' + indexName + '\" for current version. Please bump version number to ' + ( this.dbVersion + 1 ) + '.'));\n                    }\n\n                }, this);\n\n                if (existingIndexes.length) {\n                    preventSuccessCallback = true;\n                    this.onError(new Error('Cannot delete index(es) \"' + existingIndexes.toString() + '\" for current version. Please bump version number to ' + ( this.dbVersion + 1 ) + '.'));\n                }\n\n                preventSuccessCallback || this.onStoreReady();\n            }.bind(this);\n\n            openRequest.onupgradeneeded = function (/* IDBVersionChangeEvent */ event) {\n\n                this.db = event.target.result;\n\n                if (this.db.objectStoreNames.contains(this.storeName)) {\n                    this.store = event.target.transaction.objectStore(this.storeName);\n                } else {\n                    var optionalParameters = {autoIncrement: this.autoIncrement};\n                    if (this.keyPath !== null) {\n                        optionalParameters.keyPath = this.keyPath;\n                    }\n                    this.store = this.db.createObjectStore(this.storeName, optionalParameters);\n                }\n\n                var existingIndexes = Array.prototype.slice.call(this.getIndexList());\n                this.indexes.forEach(function (indexData) {\n                    var indexName = indexData.name;\n\n                    if (!indexName) {\n                        preventSuccessCallback = true;\n                        this.onError(new Error('Cannot create index: No index name given.'));\n                    }\n\n                    this.normalizeIndexData(indexData);\n\n                    if (this.hasIndex(indexName)) {\n                        // check if it complies\n                        var actualIndex = this.store.index(indexName);\n                        var complies = this.indexComplies(actualIndex, indexData);\n                        if (!complies) {\n                            // index differs, need to delete and re-create\n                            this.store.deleteIndex(indexName);\n                            this.store.createIndex(indexName, indexData.keyPath, {\n                                unique: indexData.unique,\n                                multiEntry: indexData.multiEntry\n                            });\n                        }\n\n                        existingIndexes.splice(existingIndexes.indexOf(indexName), 1);\n                    } else {\n                        this.store.createIndex(indexName, indexData.keyPath, {\n                            unique: indexData.unique,\n                            multiEntry: indexData.multiEntry\n                        });\n                    }\n\n                }, this);\n\n                if (existingIndexes.length) {\n                    existingIndexes.forEach(function (_indexName) {\n                        this.store.deleteIndex(_indexName);\n                    }, this);\n                }\n\n            }.bind(this);\n        },\n\n        /**\n         * Deletes the database used for this store if the IDB implementations\n         * provides that functionality.\n         *\n         * @param {Function} [onSuccess] A callback that is called if deletion\n         *  was successful.\n         * @param {Function} [onError] A callback that is called if deletion\n         *  failed.\n         */\n        deleteDatabase: function (onSuccess, onError) {\n            if (this.idb.deleteDatabase) {\n                this.db.close();\n                var deleteRequest = this.idb.deleteDatabase(this.dbName);\n                deleteRequest.onsuccess = onSuccess;\n                deleteRequest.onerror = onError;\n            } else {\n                onError(new Error('Browser does not support IndexedDB deleteDatabase!'));\n            }\n        },\n\n        /*********************\n         * data manipulation *\n         *********************/\n\n        /**\n         * Puts an object into the store. If an entry with the given id exists,\n         * it will be overwritten. This method has a different signature for inline\n         * keys and out-of-line keys; please see the examples below.\n         *\n         * @param {*} [key] The key to store. This is only needed if IDBWrapper\n         *  is set to use out-of-line keys. For inline keys - the default scenario -\n         *  this can be omitted.\n         * @param {Object} value The data object to store.\n         * @param {Function} [onSuccess] A callback that is called if insertion\n         *  was successful.\n         * @param {Function} [onError] A callback that is called if insertion\n         *  failed.\n         * @returns {IDBTransaction} The transaction used for this operation.\n         * @example\n         // Storing an object, using inline keys (the default scenario):\n         var myCustomer = {\n             customerid: 2346223,\n             lastname: 'Doe',\n             firstname: 'John'\n         };\n         myCustomerStore.put(myCustomer, mySuccessHandler, myErrorHandler);\n         // Note that passing success- and error-handlers is optional.\n         * @example\n         // Storing an object, using out-of-line keys:\n         var myCustomer = {\n             lastname: 'Doe',\n             firstname: 'John'\n         };\n         myCustomerStore.put(2346223, myCustomer, mySuccessHandler, myErrorHandler);\n         // Note that passing success- and error-handlers is optional.\n         */\n        put: function (key, value, onSuccess, onError) {\n            if (this.keyPath !== null) {\n                onError = onSuccess;\n                onSuccess = value;\n                value = key;\n            }\n            onError || (onError = defaultErrorHandler);\n            onSuccess || (onSuccess = defaultSuccessHandler);\n\n            var hasSuccess = false,\n                result = null,\n                putRequest;\n\n            var putTransaction = this.db.transaction([this.storeName], this.consts.READ_WRITE);\n            putTransaction.oncomplete = function () {\n                var callback = hasSuccess ? onSuccess : onError;\n                callback(result);\n            };\n            putTransaction.onabort = onError;\n            putTransaction.onerror = onError;\n\n            if (this.keyPath !== null) { // in-line keys\n                this._addIdPropertyIfNeeded(value);\n                putRequest = putTransaction.objectStore(this.storeName).put(value);\n            } else { // out-of-line keys\n                putRequest = putTransaction.objectStore(this.storeName).put(value, key);\n            }\n            putRequest.onsuccess = function (event) {\n                hasSuccess = true;\n                result = event.target.result;\n            };\n            putRequest.onerror = onError;\n\n            return putTransaction;\n        },\n\n        /**\n         * Retrieves an object from the store. If no entry exists with the given id,\n         * the success handler will be called with null as first and only argument.\n         *\n         * @param {*} key The id of the object to fetch.\n         * @param {Function} [onSuccess] A callback that is called if fetching\n         *  was successful. Will receive the object as only argument.\n         * @param {Function} [onError] A callback that will be called if an error\n         *  occurred during the operation.\n         * @returns {IDBTransaction} The transaction used for this operation.\n         */\n        get: function (key, onSuccess, onError) {\n            onError || (onError = defaultErrorHandler);\n            onSuccess || (onSuccess = defaultSuccessHandler);\n\n            var hasSuccess = false,\n                result = null;\n\n            var getTransaction = this.db.transaction([this.storeName], this.consts.READ_ONLY);\n            getTransaction.oncomplete = function () {\n                var callback = hasSuccess ? onSuccess : onError;\n                callback(result);\n            };\n            getTransaction.onabort = onError;\n            getTransaction.onerror = onError;\n            var getRequest = getTransaction.objectStore(this.storeName).get(key);\n            getRequest.onsuccess = function (event) {\n                hasSuccess = true;\n                result = event.target.result;\n            };\n            getRequest.onerror = onError;\n\n            return getTransaction;\n        },\n\n        /**\n         * Removes an object from the store.\n         *\n         * @param {*} key The id of the object to remove.\n         * @param {Function} [onSuccess] A callback that is called if the removal\n         *  was successful.\n         * @param {Function} [onError] A callback that will be called if an error\n         *  occurred during the operation.\n         * @returns {IDBTransaction} The transaction used for this operation.\n         */\n        remove: function (key, onSuccess, onError) {\n            onError || (onError = defaultErrorHandler);\n            onSuccess || (onSuccess = defaultSuccessHandler);\n\n            var hasSuccess = false,\n                result = null;\n\n            var removeTransaction = this.db.transaction([this.storeName], this.consts.READ_WRITE);\n            removeTransaction.oncomplete = function () {\n                var callback = hasSuccess ? onSuccess : onError;\n                callback(result);\n            };\n            removeTransaction.onabort = onError;\n            removeTransaction.onerror = onError;\n\n            var deleteRequest = removeTransaction.objectStore(this.storeName)['delete'](key);\n            deleteRequest.onsuccess = function (event) {\n                hasSuccess = true;\n                result = event.target.result;\n            };\n            deleteRequest.onerror = onError;\n\n            return removeTransaction;\n        },\n\n        /**\n         * Runs a batch of put and/or remove operations on the store.\n         *\n         * @param {Array} dataArray An array of objects containing the operation to run\n         *  and the data object (for put operations).\n         * @param {Function} [onSuccess] A callback that is called if all operations\n         *  were successful.\n         * @param {Function} [onError] A callback that is called if an error\n         *  occurred during one of the operations.\n         * @returns {IDBTransaction} The transaction used for this operation.\n         */\n        batch: function (dataArray, onSuccess, onError) {\n            onError || (onError = defaultErrorHandler);\n            onSuccess || (onSuccess = defaultSuccessHandler);\n\n            if (Object.prototype.toString.call(dataArray) != '[object Array]') {\n                onError(new Error('dataArray argument must be of type Array.'));\n            } else if (dataArray.length === 0) {\n                return onSuccess(true);\n            }\n\n            var count = dataArray.length;\n            var called = false;\n            var hasSuccess = false;\n\n            var batchTransaction = this.db.transaction([this.storeName], this.consts.READ_WRITE);\n            batchTransaction.oncomplete = function () {\n                var callback = hasSuccess ? onSuccess : onError;\n                callback(hasSuccess);\n            };\n            batchTransaction.onabort = onError;\n            batchTransaction.onerror = onError;\n\n\n            var onItemSuccess = function () {\n                count--;\n                if (count === 0 && !called) {\n                    called = true;\n                    hasSuccess = true;\n                }\n            };\n\n            dataArray.forEach(function (operation) {\n                var type = operation.type;\n                var key = operation.key;\n                var value = operation.value;\n\n                var onItemError = function (err) {\n                    batchTransaction.abort();\n                    if (!called) {\n                        called = true;\n                        onError(err, type, key);\n                    }\n                };\n\n                if (type == 'remove') {\n                    var deleteRequest = batchTransaction.objectStore(this.storeName)['delete'](key);\n                    deleteRequest.onsuccess = onItemSuccess;\n                    deleteRequest.onerror = onItemError;\n                } else if (type == 'put') {\n                    var putRequest;\n                    if (this.keyPath !== null) { // in-line keys\n                        this._addIdPropertyIfNeeded(value);\n                        putRequest = batchTransaction.objectStore(this.storeName).put(value);\n                    } else { // out-of-line keys\n                        putRequest = batchTransaction.objectStore(this.storeName).put(value, key);\n                    }\n                    putRequest.onsuccess = onItemSuccess;\n                    putRequest.onerror = onItemError;\n                }\n            }, this);\n\n            return batchTransaction;\n        },\n\n        /**\n         * Takes an array of objects and stores them in a single transaction.\n         *\n         * @param {Array} dataArray An array of objects to store\n         * @param {Function} [onSuccess] A callback that is called if all operations\n         *  were successful.\n         * @param {Function} [onError] A callback that is called if an error\n         *  occurred during one of the operations.\n         * @returns {IDBTransaction} The transaction used for this operation.\n         */\n        putBatch: function (dataArray, onSuccess, onError) {\n            var batchData = dataArray.map(function (item) {\n                return {type: 'put', value: item};\n            });\n\n            return this.batch(batchData, onSuccess, onError);\n        },\n\n        /**\n         * Like putBatch, takes an array of objects and stores them in a single\n         * transaction, but allows processing of the result values.  Returns the\n         * processed records containing the key for newly created records to the\n         * onSuccess calllback instead of only returning true or false for success.\n         * In addition, added the option for the caller to specify a key field that\n         * should be set to the newly created key.\n         *\n         * @param {Array} dataArray An array of objects to store\n         * @param {Object} [options] An object containing optional options\n         * @param {String} [options.keyField=this.keyPath] Specifies a field in the record to update\n         *  with the auto-incrementing key. Defaults to the store's keyPath.\n         * @param {Function} [onSuccess] A callback that is called if all operations\n         *  were successful.\n         * @param {Function} [onError] A callback that is called if an error\n         *  occurred during one of the operations.\n         * @returns {IDBTransaction} The transaction used for this operation.\n         *\n         */\n        upsertBatch: function (dataArray, options, onSuccess, onError) {\n            // handle `dataArray, onSuccess, onError` signature\n            if (typeof options == 'function') {\n                onSuccess = options;\n                onError = onSuccess;\n                options = {};\n            }\n\n            onError || (onError = defaultErrorHandler);\n            onSuccess || (onSuccess = defaultSuccessHandler);\n            options || (options = {});\n\n            if (Object.prototype.toString.call(dataArray) != '[object Array]') {\n                onError(new Error('dataArray argument must be of type Array.'));\n            }\n\n            var keyField = options.keyField || this.keyPath;\n            var count = dataArray.length;\n            var called = false;\n            var hasSuccess = false;\n            var index = 0; // assume success callbacks are executed in order\n\n            var batchTransaction = this.db.transaction([this.storeName], this.consts.READ_WRITE);\n            batchTransaction.oncomplete = function () {\n                if (hasSuccess) {\n                    onSuccess(dataArray);\n                } else {\n                    onError(false);\n                }\n            };\n            batchTransaction.onabort = onError;\n            batchTransaction.onerror = onError;\n\n            var onItemSuccess = function (event) {\n                var record = dataArray[index++];\n                record[keyField] = event.target.result;\n\n                count--;\n                if (count === 0 && !called) {\n                    called = true;\n                    hasSuccess = true;\n                }\n            };\n\n            dataArray.forEach(function (record) {\n                var key = record.key;\n\n                var onItemError = function (err) {\n                    batchTransaction.abort();\n                    if (!called) {\n                        called = true;\n                        onError(err);\n                    }\n                };\n\n                var putRequest;\n                if (this.keyPath !== null) { // in-line keys\n                    this._addIdPropertyIfNeeded(record);\n                    putRequest = batchTransaction.objectStore(this.storeName).put(record);\n                } else { // out-of-line keys\n                    putRequest = batchTransaction.objectStore(this.storeName).put(record, key);\n                }\n                putRequest.onsuccess = onItemSuccess;\n                putRequest.onerror = onItemError;\n            }, this);\n\n            return batchTransaction;\n        },\n\n        /**\n         * Takes an array of keys and removes matching objects in a single\n         * transaction.\n         *\n         * @param {Array} keyArray An array of keys to remove\n         * @param {Function} [onSuccess] A callback that is called if all operations\n         *  were successful.\n         * @param {Function} [onError] A callback that is called if an error\n         *  occurred during one of the operations.\n         * @returns {IDBTransaction} The transaction used for this operation.\n         */\n        removeBatch: function (keyArray, onSuccess, onError) {\n            var batchData = keyArray.map(function (key) {\n                return {type: 'remove', key: key};\n            });\n\n            return this.batch(batchData, onSuccess, onError);\n        },\n\n        /**\n         * Takes an array of keys and fetches matching objects\n         *\n         * @param {Array} keyArray An array of keys identifying the objects to fetch\n         * @param {Function} [onSuccess] A callback that is called if all operations\n         *  were successful.\n         * @param {Function} [onError] A callback that is called if an error\n         *  occurred during one of the operations.\n         * @param {String} [arrayType='sparse'] The type of array to pass to the\n         *  success handler. May be one of 'sparse', 'dense' or 'skip'. Defaults to\n         *  'sparse'. This parameter specifies how to handle the situation if a get\n         *  operation did not throw an error, but there was no matching object in\n         *  the database. In most cases, 'sparse' provides the most desired\n         *  behavior. See the examples for details.\n         * @returns {IDBTransaction} The transaction used for this operation.\n         * @example\n         // given that there are two objects in the database with the keypath\n         // values 1 and 2, and the call looks like this:\n         myStore.getBatch([1, 5, 2], onError, function (data) { … }, arrayType);\n\n         // this is what the `data` array will be like:\n\n         // arrayType == 'sparse':\n         // data is a sparse array containing two entries and having a length of 3:\n         [Object, 2: Object]\n         0: Object\n         2: Object\n         length: 3\n         // calling forEach on data will result in the callback being called two\n         // times, with the index parameter matching the index of the key in the\n         // keyArray.\n\n         // arrayType == 'dense':\n         // data is a dense array containing three entries and having a length of 3,\n         // where data[1] is of type undefined:\n         [Object, undefined, Object]\n         0: Object\n         1: undefined\n         2: Object\n         length: 3\n         // calling forEach on data will result in the callback being called three\n         // times, with the index parameter matching the index of the key in the\n         // keyArray, but the second call will have undefined as first argument.\n\n         // arrayType == 'skip':\n         // data is a dense array containing two entries and having a length of 2:\n         [Object, Object]\n         0: Object\n         1: Object\n         length: 2\n         // calling forEach on data will result in the callback being called two\n         // times, with the index parameter not matching the index of the key in the\n         // keyArray.\n         */\n        getBatch: function (keyArray, onSuccess, onError, arrayType) {\n            onError || (onError = defaultErrorHandler);\n            onSuccess || (onSuccess = defaultSuccessHandler);\n            arrayType || (arrayType = 'sparse');\n\n            if (Object.prototype.toString.call(keyArray) != '[object Array]') {\n                onError(new Error('keyArray argument must be of type Array.'));\n            } else if (keyArray.length === 0) {\n                return onSuccess([]);\n            }\n\n            var data = [];\n            var count = keyArray.length;\n            var called = false;\n            var hasSuccess = false;\n            var result = null;\n\n            var batchTransaction = this.db.transaction([this.storeName], this.consts.READ_ONLY);\n            batchTransaction.oncomplete = function () {\n                var callback = hasSuccess ? onSuccess : onError;\n                callback(result);\n            };\n            batchTransaction.onabort = onError;\n            batchTransaction.onerror = onError;\n\n            var onItemSuccess = function (event) {\n                if (event.target.result || arrayType == 'dense') {\n                    data.push(event.target.result);\n                } else if (arrayType == 'sparse') {\n                    data.length++;\n                }\n                count--;\n                if (count === 0) {\n                    called = true;\n                    hasSuccess = true;\n                    result = data;\n                }\n            };\n\n            keyArray.forEach(function (key) {\n\n                var onItemError = function (err) {\n                    called = true;\n                    result = err;\n                    onError(err);\n                    batchTransaction.abort();\n                };\n\n                var getRequest = batchTransaction.objectStore(this.storeName).get(key);\n                getRequest.onsuccess = onItemSuccess;\n                getRequest.onerror = onItemError;\n\n            }, this);\n\n            return batchTransaction;\n        },\n\n        /**\n         * Fetches all entries in the store.\n         *\n         * @param {Function} [onSuccess] A callback that is called if the operation\n         *  was successful. Will receive an array of objects.\n         * @param {Function} [onError] A callback that will be called if an error\n         *  occurred during the operation.\n         * @returns {IDBTransaction} The transaction used for this operation.\n         */\n        getAll: function (onSuccess, onError) {\n            onError || (onError = defaultErrorHandler);\n            onSuccess || (onSuccess = defaultSuccessHandler);\n            var getAllTransaction = this.db.transaction([this.storeName], this.consts.READ_ONLY);\n            var store = getAllTransaction.objectStore(this.storeName);\n            if (store.getAll) {\n                this._getAllNative(getAllTransaction, store, onSuccess, onError);\n            } else {\n                this._getAllCursor(getAllTransaction, store, onSuccess, onError);\n            }\n\n            return getAllTransaction;\n        },\n\n        /**\n         * Implements getAll for IDB implementations that have a non-standard\n         * getAll() method.\n         *\n         * @param {IDBTransaction} getAllTransaction An open READ transaction.\n         * @param {IDBObjectStore} store A reference to the store.\n         * @param {Function} onSuccess A callback that will be called if the\n         *  operation was successful.\n         * @param {Function} onError A callback that will be called if an\n         *  error occurred during the operation.\n         * @private\n         */\n        _getAllNative: function (getAllTransaction, store, onSuccess, onError) {\n            var hasSuccess = false,\n                result = null;\n\n            getAllTransaction.oncomplete = function () {\n                var callback = hasSuccess ? onSuccess : onError;\n                callback(result);\n            };\n            getAllTransaction.onabort = onError;\n            getAllTransaction.onerror = onError;\n\n            var getAllRequest = store.getAll();\n            getAllRequest.onsuccess = function (event) {\n                hasSuccess = true;\n                result = event.target.result;\n            };\n            getAllRequest.onerror = onError;\n        },\n\n        /**\n         * Implements getAll for IDB implementations that do not have a getAll()\n         * method.\n         *\n         * @param {IDBTransaction} getAllTransaction An open READ transaction.\n         * @param {IDBObjectStore} store A reference to the store.\n         * @param {Function} onSuccess A callback that will be called if the\n         *  operation was successful.\n         * @param {Function} onError A callback that will be called if an\n         *  error occurred during the operation.\n         * @private\n         */\n        _getAllCursor: function (getAllTransaction, store, onSuccess, onError) {\n            var all = [],\n                hasSuccess = false,\n                result = null;\n\n            getAllTransaction.oncomplete = function () {\n                var callback = hasSuccess ? onSuccess : onError;\n                callback(result);\n            };\n            getAllTransaction.onabort = onError;\n            getAllTransaction.onerror = onError;\n\n            var cursorRequest = store.openCursor();\n            cursorRequest.onsuccess = function (event) {\n                var cursor = event.target.result;\n                if (cursor) {\n                    all.push(cursor.value);\n                    cursor['continue']();\n                }\n                else {\n                    hasSuccess = true;\n                    result = all;\n                }\n            };\n            cursorRequest.onError = onError;\n        },\n\n        /**\n         * Clears the store, i.e. deletes all entries in the store.\n         *\n         * @param {Function} [onSuccess] A callback that will be called if the\n         *  operation was successful.\n         * @param {Function} [onError] A callback that will be called if an\n         *  error occurred during the operation.\n         * @returns {IDBTransaction} The transaction used for this operation.\n         */\n        clear: function (onSuccess, onError) {\n            onError || (onError = defaultErrorHandler);\n            onSuccess || (onSuccess = defaultSuccessHandler);\n\n            var hasSuccess = false,\n                result = null;\n\n            var clearTransaction = this.db.transaction([this.storeName], this.consts.READ_WRITE);\n            clearTransaction.oncomplete = function () {\n                var callback = hasSuccess ? onSuccess : onError;\n                callback(result);\n            };\n            clearTransaction.onabort = onError;\n            clearTransaction.onerror = onError;\n\n            var clearRequest = clearTransaction.objectStore(this.storeName).clear();\n            clearRequest.onsuccess = function (event) {\n                hasSuccess = true;\n                result = event.target.result;\n            };\n            clearRequest.onerror = onError;\n\n            return clearTransaction;\n        },\n\n        /**\n         * Checks if an id property needs to present on a object and adds one if\n         * necessary.\n         *\n         * @param {Object} dataObj The data object that is about to be stored\n         * @private\n         */\n        _addIdPropertyIfNeeded: function (dataObj) {\n            if (typeof dataObj[this.keyPath] == 'undefined') {\n                dataObj[this.keyPath] = this._insertIdCount++ + Date.now();\n            }\n        },\n\n        /************\n         * indexing *\n         ************/\n\n        /**\n         * Returns a DOMStringList of index names of the store.\n         *\n         * @return {DOMStringList} The list of index names\n         */\n        getIndexList: function () {\n            return this.store.indexNames;\n        },\n\n        /**\n         * Checks if an index with the given name exists in the store.\n         *\n         * @param {String} indexName The name of the index to look for\n         * @return {Boolean} Whether the store contains an index with the given name\n         */\n        hasIndex: function (indexName) {\n            return this.store.indexNames.contains(indexName);\n        },\n\n        /**\n         * Normalizes an object containing index data and assures that all\n         * properties are set.\n         *\n         * @param {Object} indexData The index data object to normalize\n         * @param {String} indexData.name The name of the index\n         * @param {String} [indexData.keyPath] The key path of the index\n         * @param {Boolean} [indexData.unique] Whether the index is unique\n         * @param {Boolean} [indexData.multiEntry] Whether the index is multi entry\n         */\n        normalizeIndexData: function (indexData) {\n            indexData.keyPath = indexData.keyPath || indexData.name;\n            indexData.unique = !!indexData.unique;\n            indexData.multiEntry = !!indexData.multiEntry;\n        },\n\n        /**\n         * Checks if an actual index complies with an expected index.\n         *\n         * @param {IDBIndex} actual The actual index found in the store\n         * @param {Object} expected An Object describing an expected index\n         * @return {Boolean} Whether both index definitions are identical\n         */\n        indexComplies: function (actual, expected) {\n            var complies = ['keyPath', 'unique', 'multiEntry'].every(function (key) {\n                // IE10 returns undefined for no multiEntry\n                if (key == 'multiEntry' && actual[key] === undefined && expected[key] === false) {\n                    return true;\n                }\n                // Compound keys\n                if (key == 'keyPath' && Object.prototype.toString.call(expected[key]) == '[object Array]') {\n                    var exp = expected.keyPath;\n                    var act = actual.keyPath;\n\n                    // IE10 can't handle keyPath sequences and stores them as a string.\n                    // The index will be unusable there, but let's still return true if\n                    // the keyPath sequence matches.\n                    if (typeof act == 'string') {\n                        return exp.toString() == act;\n                    }\n\n                    // Chrome/Opera stores keyPath squences as DOMStringList, Firefox\n                    // as Array\n                    if (!(typeof act.contains == 'function' || typeof act.indexOf == 'function')) {\n                        return false;\n                    }\n\n                    if (act.length !== exp.length) {\n                        return false;\n                    }\n\n                    for (var i = 0, m = exp.length; i < m; i++) {\n                        if (!( (act.contains && act.contains(exp[i])) || act.indexOf(exp[i] !== -1) )) {\n                            return false;\n                        }\n                    }\n                    return true;\n                }\n                return expected[key] == actual[key];\n            });\n            return complies;\n        },\n\n        /**********\n         * cursor *\n         **********/\n\n        /**\n         * Iterates over the store using the given options and calling onItem\n         * for each entry matching the options.\n         *\n         * @param {Function} onItem A callback to be called for each match\n         * @param {Object} [options] An object defining specific options\n         * @param {String} [options.index=null] A name of an IDBIndex to operate on\n         * @param {String} [options.order=ASC] The order in which to provide the\n         *  results, can be 'DESC' or 'ASC'\n         * @param {Boolean} [options.autoContinue=true] Whether to automatically\n         *  iterate the cursor to the next result\n         * @param {Boolean} [options.filterDuplicates=false] Whether to exclude\n         *  duplicate matches\n         * @param {IDBKeyRange} [options.keyRange=null] An IDBKeyRange to use\n         * @param {Boolean} [options.writeAccess=false] Whether grant write access\n         *  to the store in the onItem callback\n         * @param {Function} [options.onEnd=null] A callback to be called after\n         *  iteration has ended\n         * @param {Function} [options.onError=throw] A callback to be called\n         *  if an error occurred during the operation.\n         * @param {Number} [options.limit=Infinity] Limit the number of returned\n         *  results to this number\n         * @param {Number} [options.offset=0] Skip the provided number of results\n         *  in the resultset\n         * @param {Boolean} [options.allowItemRejection=false] Allows the onItem\n         * function to return a Boolean to accept or reject the current item\n         * @returns {IDBTransaction} The transaction used for this operation.\n         */\n        iterate: function (onItem, options) {\n            options = mixin({\n                index: null,\n                order: 'ASC',\n                autoContinue: true,\n                filterDuplicates: false,\n                keyRange: null,\n                writeAccess: false,\n                onEnd: null,\n                onError: defaultErrorHandler,\n                limit: Infinity,\n                offset: 0,\n                allowItemRejection: false\n            }, options || {});\n\n            var directionType = options.order.toLowerCase() == 'desc' ? 'PREV' : 'NEXT';\n            if (options.filterDuplicates) {\n                directionType += '_NO_DUPLICATE';\n            }\n\n            var hasSuccess = false;\n            var cursorTransaction = this.db.transaction([this.storeName], this.consts[options.writeAccess ? 'READ_WRITE' : 'READ_ONLY']);\n            var cursorTarget = cursorTransaction.objectStore(this.storeName);\n            if (options.index) {\n                cursorTarget = cursorTarget.index(options.index);\n            }\n            var recordCount = 0;\n\n            cursorTransaction.oncomplete = function () {\n                if (!hasSuccess) {\n                    options.onError(null);\n                    return;\n                }\n                if (options.onEnd) {\n                    options.onEnd();\n                } else {\n                    onItem(null);\n                }\n            };\n            cursorTransaction.onabort = options.onError;\n            cursorTransaction.onerror = options.onError;\n\n            var cursorRequest = cursorTarget.openCursor(options.keyRange, this.consts[directionType]);\n            cursorRequest.onerror = options.onError;\n            cursorRequest.onsuccess = function (event) {\n                var cursor = event.target.result;\n                if (cursor) {\n                    if (options.offset) {\n                        cursor.advance(options.offset);\n                        options.offset = 0;\n                    } else {\n                        var onItemReturn = onItem(cursor.value, cursor, cursorTransaction);\n                        if (!options.allowItemRejection || onItemReturn !== false) {\n                            recordCount++;\n                        }\n                        if (options.autoContinue) {\n                            if (recordCount + options.offset < options.limit) {\n                                cursor['continue']();\n                            } else {\n                                hasSuccess = true;\n                            }\n                        }\n                    }\n                } else {\n                    hasSuccess = true;\n                }\n            };\n\n            return cursorTransaction;\n        },\n\n        /**\n         * Runs a query against the store and passes an array containing matched\n         * objects to the success handler.\n         *\n         * @param {Function} onSuccess A callback to be called when the operation\n         *  was successful.\n         * @param {Object} [options] An object defining specific options\n         * @param {String} [options.index=null] A name of an IDBIndex to operate on\n         * @param {String} [options.order=ASC] The order in which to provide the\n         *  results, can be 'DESC' or 'ASC'\n         * @param {Boolean} [options.filterDuplicates=false] Whether to exclude\n         *  duplicate matches\n         * @param {IDBKeyRange} [options.keyRange=null] An IDBKeyRange to use\n         * @param {Function} [options.onError=throw] A callback to be called\n         *  if an error occurred during the operation.\n         * @param {Number} [options.limit=Infinity] Limit the number of returned\n         *  results to this number\n         * @param {Number} [options.offset=0] Skip the provided number of results\n         *  in the resultset\n         * @param {Function} [options.filter=null] A custom filter function to\n         *  apply to query resuts before returning. Must return `false` to reject\n         *  an item. Can be combined with keyRanges.\n         * @returns {IDBTransaction} The transaction used for this operation.\n         */\n        query: function (onSuccess, options) {\n            var result = [],\n                processedItems = 0;\n            options = options || {};\n            options.autoContinue = true;\n            options.writeAccess = false;\n            options.allowItemRejection = !!options.filter;\n            options.onEnd = function () {\n                onSuccess(result, processedItems);\n            };\n            return this.iterate(function (item) {\n                processedItems++;\n                var accept = options.filter ? options.filter(item) : true;\n                if (accept !== false) {\n                    result.push(item);\n                }\n                return accept;\n            }, options);\n        },\n\n        /**\n         *\n         * Runs a query against the store, but only returns the number of matches\n         * instead of the matches itself.\n         *\n         * @param {Function} onSuccess A callback to be called if the opration\n         *  was successful.\n         * @param {Object} [options] An object defining specific options\n         * @param {String} [options.index=null] A name of an IDBIndex to operate on\n         * @param {IDBKeyRange} [options.keyRange=null] An IDBKeyRange to use\n         * @param {Function} [options.onError=throw] A callback to be called if an error\n         *  occurred during the operation.\n         * @returns {IDBTransaction} The transaction used for this operation.\n         */\n        count: function (onSuccess, options) {\n\n            options = mixin({\n                index: null,\n                keyRange: null\n            }, options || {});\n\n            var onError = options.onError || defaultErrorHandler;\n\n            var hasSuccess = false,\n                result = null;\n\n            var cursorTransaction = this.db.transaction([this.storeName], this.consts.READ_ONLY);\n            cursorTransaction.oncomplete = function () {\n                var callback = hasSuccess ? onSuccess : onError;\n                callback(result);\n            };\n            cursorTransaction.onabort = onError;\n            cursorTransaction.onerror = onError;\n\n            var cursorTarget = cursorTransaction.objectStore(this.storeName);\n            if (options.index) {\n                cursorTarget = cursorTarget.index(options.index);\n            }\n            var countRequest = cursorTarget.count(options.keyRange);\n            countRequest.onsuccess = function (evt) {\n                hasSuccess = true;\n                result = evt.target.result;\n            };\n            countRequest.onError = onError;\n\n            return cursorTransaction;\n        },\n\n        /**************/\n        /* key ranges */\n        /**************/\n\n        /**\n         * Creates a key range using specified options. This key range can be\n         * handed over to the count() and iterate() methods.\n         *\n         * Note: You must provide at least one or both of \"lower\" or \"upper\" value.\n         *\n         * @param {Object} options The options for the key range to create\n         * @param {*} [options.lower] The lower bound\n         * @param {Boolean} [options.excludeLower] Whether to exclude the lower\n         *  bound passed in options.lower from the key range\n         * @param {*} [options.upper] The upper bound\n         * @param {Boolean} [options.excludeUpper] Whether to exclude the upper\n         *  bound passed in options.upper from the key range\n         * @param {*} [options.only] A single key value. Use this if you need a key\n         *  range that only includes one value for a key. Providing this\n         *  property invalidates all other properties.\n         * @return {IDBKeyRange} The IDBKeyRange representing the specified options\n         */\n        makeKeyRange: function (options) {\n            /*jshint onecase:true */\n            var keyRange,\n                hasLower = typeof options.lower != 'undefined',\n                hasUpper = typeof options.upper != 'undefined',\n                isOnly = typeof options.only != 'undefined';\n\n            switch (true) {\n                case isOnly:\n                    keyRange = this.keyRange.only(options.only);\n                    break;\n                case hasLower && hasUpper:\n                    keyRange = this.keyRange.bound(options.lower, options.upper, options.excludeLower, options.excludeUpper);\n                    break;\n                case hasLower:\n                    keyRange = this.keyRange.lowerBound(options.lower, options.excludeLower);\n                    break;\n                case hasUpper:\n                    keyRange = this.keyRange.upperBound(options.upper, options.excludeUpper);\n                    break;\n                default:\n                    throw new Error('Cannot create KeyRange. Provide one or both of \"lower\" or \"upper\" value, or an \"only\" value.');\n            }\n\n            return keyRange;\n\n        }\n\n    };\n\n    /** helpers **/\n    var empty = {};\n\n    function mixin (target, source) {\n        var name, s;\n        for (name in source) {\n            s = source[name];\n            if (s !== empty[name] && s !== target[name]) {\n                target[name] = s;\n            }\n        }\n        return target;\n    }\n\n    function hasVersionError(errorEvent) {\n        if ('error' in errorEvent.target) {\n            return errorEvent.target.error.name == 'VersionError';\n        } else if ('errorCode' in errorEvent.target) {\n            return errorEvent.target.errorCode == 12;\n        }\n        return false;\n    }\n\n    IDBStore.prototype = proto;\n    IDBStore.version = proto.version;\n\n    return IDBStore;\n\n}, this);\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar callBound = require('call-bound');\n\nvar $toString = callBound('Object.prototype.toString');\n\n/** @type {import('.')} */\nvar isStandardArguments = function isArguments(value) {\n\tif (\n\t\thasToStringTag\n\t\t&& value\n\t\t&& typeof value === 'object'\n\t\t&& Symbol.toStringTag in value\n\t) {\n\t\treturn false;\n\t}\n\treturn $toString(value) === '[object Arguments]';\n};\n\n/** @type {import('.')} */\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null\n\t\t&& typeof value === 'object'\n\t\t&& 'length' in value\n\t\t&& typeof value.length === 'number'\n\t\t&& value.length >= 0\n\t\t&& $toString(value) !== '[object Array]'\n\t\t&& 'callee' in value\n\t\t&& $toString(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\n// @ts-expect-error TODO make this not error\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\n/** @type {import('.')} */\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","'use strict';\n\nvar fnToStr = Function.prototype.toString;\nvar reflectApply = typeof Reflect === 'object' && Reflect !== null && Reflect.apply;\nvar badArrayLike;\nvar isCallableMarker;\nif (typeof reflectApply === 'function' && typeof Object.defineProperty === 'function') {\n\ttry {\n\t\tbadArrayLike = Object.defineProperty({}, 'length', {\n\t\t\tget: function () {\n\t\t\t\tthrow isCallableMarker;\n\t\t\t}\n\t\t});\n\t\tisCallableMarker = {};\n\t\t// eslint-disable-next-line no-throw-literal\n\t\treflectApply(function () { throw 42; }, null, badArrayLike);\n\t} catch (_) {\n\t\tif (_ !== isCallableMarker) {\n\t\t\treflectApply = null;\n\t\t}\n\t}\n} else {\n\treflectApply = null;\n}\n\nvar constructorRegex = /^\\s*class\\b/;\nvar isES6ClassFn = function isES6ClassFunction(value) {\n\ttry {\n\t\tvar fnStr = fnToStr.call(value);\n\t\treturn constructorRegex.test(fnStr);\n\t} catch (e) {\n\t\treturn false; // not a function\n\t}\n};\n\nvar tryFunctionObject = function tryFunctionToStr(value) {\n\ttry {\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tfnToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar objectClass = '[object Object]';\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar ddaClass = '[object HTMLAllCollection]'; // IE 11\nvar ddaClass2 = '[object HTML document.all class]';\nvar ddaClass3 = '[object HTMLCollection]'; // IE 9-10\nvar hasToStringTag = typeof Symbol === 'function' && !!Symbol.toStringTag; // better: use `has-tostringtag`\n\nvar isIE68 = !(0 in [,]); // eslint-disable-line no-sparse-arrays, comma-spacing\n\nvar isDDA = function isDocumentDotAll() { return false; };\nif (typeof document === 'object') {\n\t// Firefox 3 canonicalizes DDA to undefined when it's not accessed directly\n\tvar all = document.all;\n\tif (toStr.call(all) === toStr.call(document.all)) {\n\t\tisDDA = function isDocumentDotAll(value) {\n\t\t\t/* globals document: false */\n\t\t\t// in IE 6-8, typeof document.all is \"object\" and it's truthy\n\t\t\tif ((isIE68 || !value) && (typeof value === 'undefined' || typeof value === 'object')) {\n\t\t\t\ttry {\n\t\t\t\t\tvar str = toStr.call(value);\n\t\t\t\t\treturn (\n\t\t\t\t\t\tstr === ddaClass\n\t\t\t\t\t\t|| str === ddaClass2\n\t\t\t\t\t\t|| str === ddaClass3 // opera 12.16\n\t\t\t\t\t\t|| str === objectClass // IE 6-8\n\t\t\t\t\t) && value('') == null; // eslint-disable-line eqeqeq\n\t\t\t\t} catch (e) { /**/ }\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t}\n}\n\nmodule.exports = reflectApply\n\t? function isCallable(value) {\n\t\tif (isDDA(value)) { return true; }\n\t\tif (!value) { return false; }\n\t\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\t\ttry {\n\t\t\treflectApply(value, null, badArrayLike);\n\t\t} catch (e) {\n\t\t\tif (e !== isCallableMarker) { return false; }\n\t\t}\n\t\treturn !isES6ClassFn(value) && tryFunctionObject(value);\n\t}\n\t: function isCallable(value) {\n\t\tif (isDDA(value)) { return true; }\n\t\tif (!value) { return false; }\n\t\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\t\tif (hasToStringTag) { return tryFunctionObject(value); }\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tvar strClass = toStr.call(value);\n\t\tif (strClass !== fnClass && strClass !== genClass && !(/^\\[object HTML/).test(strClass)) { return false; }\n\t\treturn tryFunctionObject(value);\n\t};\n","'use strict';\n\nvar callBound = require('call-bound');\nvar safeRegexTest = require('safe-regex-test');\nvar isFnRegex = safeRegexTest(/^\\s*(?:function)?\\*/);\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar getProto = require('get-proto');\n\nvar toStr = callBound('Object.prototype.toString');\nvar fnToStr = callBound('Function.prototype.toString');\n\nvar getGeneratorFunc = function () { // eslint-disable-line consistent-return\n\tif (!hasToStringTag) {\n\t\treturn false;\n\t}\n\ttry {\n\t\treturn Function('return function*() {}')();\n\t} catch (e) {\n\t}\n};\n/** @type {undefined | false | null | GeneratorFunctionConstructor} */\nvar GeneratorFunction;\n\n/** @type {import('.')} */\nmodule.exports = function isGeneratorFunction(fn) {\n\tif (typeof fn !== 'function') {\n\t\treturn false;\n\t}\n\tif (isFnRegex(fnToStr(fn))) {\n\t\treturn true;\n\t}\n\tif (!hasToStringTag) {\n\t\tvar str = toStr(fn);\n\t\treturn str === '[object GeneratorFunction]';\n\t}\n\tif (!getProto) {\n\t\treturn false;\n\t}\n\tif (typeof GeneratorFunction === 'undefined') {\n\t\tvar generatorFunc = getGeneratorFunc();\n\t\tGeneratorFunction = generatorFunc\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t? /** @type {GeneratorFunctionConstructor} */ (getProto(generatorFunc))\n\t\t\t: false;\n\t}\n\treturn getProto(fn) === GeneratorFunction;\n};\n","'use strict';\n\nvar callBound = require('call-bound');\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar hasOwn = require('hasown');\nvar gOPD = require('gopd');\n\n/** @type {import('.')} */\nvar fn;\n\nif (hasToStringTag) {\n\t/** @type {(receiver: ThisParameterType<typeof RegExp.prototype.exec>, ...args: Parameters<typeof RegExp.prototype.exec>) => ReturnType<typeof RegExp.prototype.exec>} */\n\tvar $exec = callBound('RegExp.prototype.exec');\n\t/** @type {object} */\n\tvar isRegexMarker = {};\n\n\tvar throwRegexMarker = function () {\n\t\tthrow isRegexMarker;\n\t};\n\t/** @type {{ toString(): never, valueOf(): never, [Symbol.toPrimitive]?(): never }} */\n\tvar badStringifier = {\n\t\ttoString: throwRegexMarker,\n\t\tvalueOf: throwRegexMarker\n\t};\n\n\tif (typeof Symbol.toPrimitive === 'symbol') {\n\t\tbadStringifier[Symbol.toPrimitive] = throwRegexMarker;\n\t}\n\n\t/** @type {import('.')} */\n\t// @ts-expect-error TS can't figure out that the $exec call always throws\n\t// eslint-disable-next-line consistent-return\n\tfn = function isRegex(value) {\n\t\tif (!value || typeof value !== 'object') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// eslint-disable-next-line no-extra-parens\n\t\tvar descriptor = /** @type {NonNullable<typeof gOPD>} */ (gOPD)(/** @type {{ lastIndex?: unknown }} */ (value), 'lastIndex');\n\t\tvar hasLastIndexDataProperty = descriptor && hasOwn(descriptor, 'value');\n\t\tif (!hasLastIndexDataProperty) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t$exec(value, /** @type {string} */ (/** @type {unknown} */ (badStringifier)));\n\t\t} catch (e) {\n\t\t\treturn e === isRegexMarker;\n\t\t}\n\t};\n} else {\n\t/** @type {(receiver: ThisParameterType<typeof Object.prototype.toString>, ...args: Parameters<typeof Object.prototype.toString>) => ReturnType<typeof Object.prototype.toString>} */\n\tvar $toString = callBound('Object.prototype.toString');\n\t/** @const @type {'[object RegExp]'} */\n\tvar regexClass = '[object RegExp]';\n\n\t/** @type {import('.')} */\n\tfn = function isRegex(value) {\n\t\t// In older browsers, typeof regex incorrectly returns 'function'\n\t\tif (!value || (typeof value !== 'object' && typeof value !== 'function')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn $toString(value) === regexClass;\n\t};\n}\n\nmodule.exports = fn;\n","'use strict';\n\nvar whichTypedArray = require('which-typed-array');\n\n/** @type {import('.')} */\nmodule.exports = function isTypedArray(value) {\n\treturn !!whichTypedArray(value);\n};\n","\n/**!\n * is\n * the definitive JavaScript type testing library\n * \n * @copyright 2013 Enrico Marino\n * @license MIT\n */\n\nvar objProto = Object.prototype;\nvar owns = objProto.hasOwnProperty;\nvar toString = objProto.toString;\nvar isActualNaN = function (value) {\n  return value !== value;\n};\nvar NON_HOST_TYPES = {\n  \"boolean\": 1,\n  \"number\": 1,\n  \"string\": 1,\n  \"undefined\": 1\n};\n\n/**\n * Expose `is`\n */\n\nvar is = module.exports = {};\n\n/**\n * Test general.\n */\n\n/**\n * is.type\n * Test if `value` is a type of `type`.\n *\n * @param {Mixed} value value to test\n * @param {String} type type\n * @return {Boolean} true if `value` is a type of `type`, false otherwise\n * @api public\n */\n\nis.a =\nis.type = function (value, type) {\n  return typeof value === type;\n};\n\n/**\n * is.defined\n * Test if `value` is defined.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if 'value' is defined, false otherwise\n * @api public\n */\n\nis.defined = function (value) {\n  return value !== undefined;\n};\n\n/**\n * is.empty\n * Test if `value` is empty.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is empty, false otherwise\n * @api public\n */\n\nis.empty = function (value) {\n  var type = toString.call(value);\n  var key;\n\n  if ('[object Array]' === type || '[object Arguments]' === type) {\n    return value.length === 0;\n  }\n\n  if ('[object Object]' === type) {\n    for (key in value) if (owns.call(value, key)) return false;\n    return true;\n  }\n\n  if ('[object String]' === type) {\n    return '' === value;\n  }\n\n  return false;\n};\n\n/**\n * is.equal\n * Test if `value` is equal to `other`.\n *\n * @param {Mixed} value value to test\n * @param {Mixed} other value to compare with\n * @return {Boolean} true if `value` is equal to `other`, false otherwise\n */\n\nis.equal = function (value, other) {\n  var type = toString.call(value)\n  var key;\n\n  if (type !== toString.call(other)) {\n    return false;\n  }\n\n  if ('[object Object]' === type) {\n    for (key in value) {\n      if (!is.equal(value[key], other[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  if ('[object Array]' === type) {\n    key = value.length;\n    if (key !== other.length) {\n      return false;\n    }\n    while (--key) {\n      if (!is.equal(value[key], other[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  if ('[object Function]' === type) {\n    return value.prototype === other.prototype;\n  }\n\n  if ('[object Date]' === type) {\n    return value.getTime() === other.getTime();\n  }\n\n  return value === other;\n};\n\n/**\n * is.hosted\n * Test if `value` is hosted by `host`.\n *\n * @param {Mixed} value to test\n * @param {Mixed} host host to test with\n * @return {Boolean} true if `value` is hosted by `host`, false otherwise\n * @api public\n */\n\nis.hosted = function (value, host) {\n  var type = typeof host[value];\n  return type === 'object' ? !!host[value] : !NON_HOST_TYPES[type];\n};\n\n/**\n * is.instance\n * Test if `value` is an instance of `constructor`.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an instance of `constructor`\n * @api public\n */\n\nis.instance = is['instanceof'] = function (value, constructor) {\n  return value instanceof constructor;\n};\n\n/**\n * is.null\n * Test if `value` is null.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is null, false otherwise\n * @api public\n */\n\nis['null'] = function (value) {\n  return value === null;\n};\n\n/**\n * is.undefined\n * Test if `value` is undefined.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is undefined, false otherwise\n * @api public\n */\n\nis.undefined = function (value) {\n  return value === undefined;\n};\n\n/**\n * Test arguments.\n */\n\n/**\n * is.arguments\n * Test if `value` is an arguments object.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an arguments object, false otherwise\n * @api public\n */\n\nis.arguments = function (value) {\n  var isStandardArguments = '[object Arguments]' === toString.call(value);\n  var isOldArguments = !is.array(value) && is.arraylike(value) && is.object(value) && is.fn(value.callee);\n  return isStandardArguments || isOldArguments;\n};\n\n/**\n * Test array.\n */\n\n/**\n * is.array\n * Test if 'value' is an array.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an array, false otherwise\n * @api public\n */\n\nis.array = function (value) {\n  return '[object Array]' === toString.call(value);\n};\n\n/**\n * is.arguments.empty\n * Test if `value` is an empty arguments object.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an empty arguments object, false otherwise\n * @api public\n */\nis.arguments.empty = function (value) {\n  return is.arguments(value) && value.length === 0;\n};\n\n/**\n * is.array.empty\n * Test if `value` is an empty array.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an empty array, false otherwise\n * @api public\n */\nis.array.empty = function (value) {\n  return is.array(value) && value.length === 0;\n};\n\n/**\n * is.arraylike\n * Test if `value` is an arraylike object.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an arguments object, false otherwise\n * @api public\n */\n\nis.arraylike = function (value) {\n  return !!value && !is.boolean(value)\n    && owns.call(value, 'length')\n    && isFinite(value.length)\n    && is.number(value.length)\n    && value.length >= 0;\n};\n\n/**\n * Test boolean.\n */\n\n/**\n * is.boolean\n * Test if `value` is a boolean.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a boolean, false otherwise\n * @api public\n */\n\nis.boolean = function (value) {\n  return '[object Boolean]' === toString.call(value);\n};\n\n/**\n * is.false\n * Test if `value` is false.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is false, false otherwise\n * @api public\n */\n\nis['false'] = function (value) {\n  return is.boolean(value) && (value === false || value.valueOf() === false);\n};\n\n/**\n * is.true\n * Test if `value` is true.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is true, false otherwise\n * @api public\n */\n\nis['true'] = function (value) {\n  return is.boolean(value) && (value === true || value.valueOf() === true);\n};\n\n/**\n * Test date.\n */\n\n/**\n * is.date\n * Test if `value` is a date.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a date, false otherwise\n * @api public\n */\n\nis.date = function (value) {\n  return '[object Date]' === toString.call(value);\n};\n\n/**\n * Test element.\n */\n\n/**\n * is.element\n * Test if `value` is an html element.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an HTML Element, false otherwise\n * @api public\n */\n\nis.element = function (value) {\n  return value !== undefined\n    && typeof HTMLElement !== 'undefined'\n    && value instanceof HTMLElement\n    && value.nodeType === 1;\n};\n\n/**\n * Test error.\n */\n\n/**\n * is.error\n * Test if `value` is an error object.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an error object, false otherwise\n * @api public\n */\n\nis.error = function (value) {\n  return '[object Error]' === toString.call(value);\n};\n\n/**\n * Test function.\n */\n\n/**\n * is.fn / is.function (deprecated)\n * Test if `value` is a function.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a function, false otherwise\n * @api public\n */\n\nis.fn = is['function'] = function (value) {\n  var isAlert = typeof window !== 'undefined' && value === window.alert;\n  return isAlert || '[object Function]' === toString.call(value);\n};\n\n/**\n * Test number.\n */\n\n/**\n * is.number\n * Test if `value` is a number.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a number, false otherwise\n * @api public\n */\n\nis.number = function (value) {\n  return '[object Number]' === toString.call(value);\n};\n\n/**\n * is.infinite\n * Test if `value` is positive or negative infinity.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is positive or negative Infinity, false otherwise\n * @api public\n */\nis.infinite = function (value) {\n  return value === Infinity || value === -Infinity;\n};\n\n/**\n * is.decimal\n * Test if `value` is a decimal number.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a decimal number, false otherwise\n * @api public\n */\n\nis.decimal = function (value) {\n  return is.number(value) && !isActualNaN(value) && !is.infinite(value) && value % 1 !== 0;\n};\n\n/**\n * is.divisibleBy\n * Test if `value` is divisible by `n`.\n *\n * @param {Number} value value to test\n * @param {Number} n dividend\n * @return {Boolean} true if `value` is divisible by `n`, false otherwise\n * @api public\n */\n\nis.divisibleBy = function (value, n) {\n  var isDividendInfinite = is.infinite(value);\n  var isDivisorInfinite = is.infinite(n);\n  var isNonZeroNumber = is.number(value) && !isActualNaN(value) && is.number(n) && !isActualNaN(n) && n !== 0;\n  return isDividendInfinite || isDivisorInfinite || (isNonZeroNumber && value % n === 0);\n};\n\n/**\n * is.int\n * Test if `value` is an integer.\n *\n * @param value to test\n * @return {Boolean} true if `value` is an integer, false otherwise\n * @api public\n */\n\nis.int = function (value) {\n  return is.number(value) && !isActualNaN(value) && value % 1 === 0;\n};\n\n/**\n * is.maximum\n * Test if `value` is greater than 'others' values.\n *\n * @param {Number} value value to test\n * @param {Array} others values to compare with\n * @return {Boolean} true if `value` is greater than `others` values\n * @api public\n */\n\nis.maximum = function (value, others) {\n  if (isActualNaN(value)) {\n    throw new TypeError('NaN is not a valid value');\n  } else if (!is.arraylike(others)) {\n    throw new TypeError('second argument must be array-like');\n  }\n  var len = others.length;\n\n  while (--len >= 0) {\n    if (value < others[len]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * is.minimum\n * Test if `value` is less than `others` values.\n *\n * @param {Number} value value to test\n * @param {Array} others values to compare with\n * @return {Boolean} true if `value` is less than `others` values\n * @api public\n */\n\nis.minimum = function (value, others) {\n  if (isActualNaN(value)) {\n    throw new TypeError('NaN is not a valid value');\n  } else if (!is.arraylike(others)) {\n    throw new TypeError('second argument must be array-like');\n  }\n  var len = others.length;\n\n  while (--len >= 0) {\n    if (value > others[len]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * is.nan\n * Test if `value` is not a number.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is not a number, false otherwise\n * @api public\n */\n\nis.nan = function (value) {\n  return !is.number(value) || value !== value;\n};\n\n/**\n * is.even\n * Test if `value` is an even number.\n *\n * @param {Number} value value to test\n * @return {Boolean} true if `value` is an even number, false otherwise\n * @api public\n */\n\nis.even = function (value) {\n  return is.infinite(value) || (is.number(value) && value === value && value % 2 === 0);\n};\n\n/**\n * is.odd\n * Test if `value` is an odd number.\n *\n * @param {Number} value value to test\n * @return {Boolean} true if `value` is an odd number, false otherwise\n * @api public\n */\n\nis.odd = function (value) {\n  return is.infinite(value) || (is.number(value) && value === value && value % 2 !== 0);\n};\n\n/**\n * is.ge\n * Test if `value` is greater than or equal to `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean}\n * @api public\n */\n\nis.ge = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value >= other;\n};\n\n/**\n * is.gt\n * Test if `value` is greater than `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean}\n * @api public\n */\n\nis.gt = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value > other;\n};\n\n/**\n * is.le\n * Test if `value` is less than or equal to `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean} if 'value' is less than or equal to 'other'\n * @api public\n */\n\nis.le = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value <= other;\n};\n\n/**\n * is.lt\n * Test if `value` is less than `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean} if `value` is less than `other`\n * @api public\n */\n\nis.lt = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value < other;\n};\n\n/**\n * is.within\n * Test if `value` is within `start` and `finish`.\n *\n * @param {Number} value value to test\n * @param {Number} start lower bound\n * @param {Number} finish upper bound\n * @return {Boolean} true if 'value' is is within 'start' and 'finish'\n * @api public\n */\nis.within = function (value, start, finish) {\n  if (isActualNaN(value) || isActualNaN(start) || isActualNaN(finish)) {\n    throw new TypeError('NaN is not a valid value');\n  } else if (!is.number(value) || !is.number(start) || !is.number(finish)) {\n    throw new TypeError('all arguments must be numbers');\n  }\n  var isAnyInfinite = is.infinite(value) || is.infinite(start) || is.infinite(finish);\n  return isAnyInfinite || (value >= start && value <= finish);\n};\n\n/**\n * Test object.\n */\n\n/**\n * is.object\n * Test if `value` is an object.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an object, false otherwise\n * @api public\n */\n\nis.object = function (value) {\n  return value && '[object Object]' === toString.call(value);\n};\n\n/**\n * is.hash\n * Test if `value` is a hash - a plain object literal.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a hash, false otherwise\n * @api public\n */\n\nis.hash = function (value) {\n  return is.object(value) && value.constructor === Object && !value.nodeType && !value.setInterval;\n};\n\n/**\n * Test regexp.\n */\n\n/**\n * is.regexp\n * Test if `value` is a regular expression.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a regexp, false otherwise\n * @api public\n */\n\nis.regexp = function (value) {\n  return '[object RegExp]' === toString.call(value);\n};\n\n/**\n * Test string.\n */\n\n/**\n * is.string\n * Test if `value` is a string.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if 'value' is a string, false otherwise\n * @api public\n */\n\nis.string = function (value) {\n  return '[object String]' === toString.call(value);\n};\n\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","var Buffer = require('buffer').Buffer;\n\nmodule.exports = isBuffer;\n\nfunction isBuffer (o) {\n  return Buffer.isBuffer(o)\n    || /\\[object (.+Array|Array.+)\\]/.test(Object.prototype.toString.call(o));\n}\n","var Writable = require('readable-stream/writable');\nvar Readable = require('readable-stream/readable');\nvar peek = require('level-peek');\nvar util = require('util');\nvar once = require('once');\n\nvar EMPTY = new Buffer(0);\nvar ENCODER = {\n\tencode: function(data) {\n\t\treturn typeof data === 'string' ? data = new Buffer(data) : data;\n\t},\n\tdecode: function(data) {\n\t\treturn Buffer.isBuffer(data) ? data : new Buffer(data);\n\t},\n\tbuffer: true,\n\ttype: 'raw'\n};\n\nvar noop = function() {};\n\nvar pad = function(n) {\n\tn = n.toString(16);\n\treturn '00000000'.slice(0, -n.length)+n;\n};\n\nvar expand = function(buf, len) {\n\tvar tmp = new Buffer(len);\n\tbuf.copy(tmp);\n\treturn tmp;\n};\n\nmodule.exports = function(db, opts) {\n\tif (!opts) opts = {};\n\n\tvar blobs = {};\n\n\tvar blockSize = opts.blockSize || 65536;\n\tvar maxBatch = opts.batch || 100;\n\tvar blank = new Buffer(blockSize);\n\n\tdb.put('\\x00', 'ignore', noop); // memdown#12 workaround\n\n\tvar reservations = {};\n\tvar mutateBlock = function(key, offset, block, append, cb) {\n\t\tvar release = function() {\n\t\t\tif (!--reservations[key].locks) delete reservations[key];\n\t\t};\n\n\t\tvar onreservation = function(r) {\n\t\t\tr.locks++;\n\n\t\t\tif (!r.block && !offset) {\n\t\t\t\tr.block = block;\n\t\t\t\tcb(null, r.block, release);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!r.block) r.block = new Buffer(blockSize);\n\t\t\tif (r.block.length < offset + block.length) r.block = expand(r.block, offset + block.length);\n\n\t\t\tblock.copy(r.block, offset);\n\n\t\t\tif (!append && offset + block.length < r.block.length) r.block = r.block.slice(0, offset+block.length);\n\t\t\tcb(null, r.block, release);\n\t\t};\n\n\t\tif (reservations[key]) return onreservation(reservations[key]);\n\n\t\tdb.get(key, {valueEncoding:ENCODER}, function(err, block) {\n\t\t\tif (err && !err.notFound) return cb(err);\n\t\t\tif (!reservations[key]) reservations[key] = {locks:0, block:block};\n\t\t\tonreservation(reservations[key]);\n\t\t});\n\t};\n\n\tvar WriteStream = function(name, opts) {\n\t\tif (!(this instanceof WriteStream)) return new WriteStream(name, opts);\n\t\tif (!opts) opts = {};\n\n\t\tthis.name = name;\n\t\tthis.blocks = [];\n\t\tthis.batch = [];\n\t\tthis.bytesWritten = 0;\n\t\tthis.truncate = !opts.append;\n\t\tthis.append = opts.append;\n\n\t\tthis._shouldInitAppend = this.append && opts.start === undefined;\n\t\tthis._destroyed = false;\n\t\tthis._init(opts.start || 0);\n\n\t\tWritable.call(this);\n\t};\n\n\tutil.inherits(WriteStream, Writable);\n\n\tWriteStream.prototype._init = function(start) {\n\t\tthis.blockIndex = (start / blockSize) | 0;\n\t\tthis.blockOffset = start - this.blockIndex * blockSize;\n\t\tthis.blockLength = this.blockOffset;\n\t};\n\n\tWriteStream.prototype._flush = function(cb) {\n\t\tif (!this.batch.length) return cb();\n\n\t\tvar key = this.batch[this.batch.length-1].key;\n\t\tvar batch = this.batch;\n\t\tthis.batch = [];\n\n\t\tif (!this.truncate) return db.batch(batch, cb);\n\t\tthis.truncate = false;\n\t\tthis._truncate(batch, key, cb);\n\t};\n\n\tWriteStream.prototype._truncate = function(batch, key, cb) {\n\t\tcb = once(cb);\n\n\t\tvar dels = [];\n\t\tvar keys = db.createKeyStream({\n\t\t\tstart: key,\n\t\t\tend: this.name+'\\xff\\xff'\n\t\t});\n\n\t\tkeys.on('error', cb);\n\n\t\tkeys.on('data', function(key) {\n\t\t\tdels.push({type:'del', key:key});\n\t\t});\n\n\t\tkeys.on('end', function() {\n\t\t\tdels.push.apply(dels, batch);\n\t\t\tdb.batch(dels, cb);\n\t\t});\n\t};\n\n\tWriteStream.prototype._writeBlock = function(cb) {\n\t\tvar block = this.blocks.length === 1 ? this.blocks[0] : Buffer.concat(this.blocks, this.blockLength - this.blockOffset);\n\t\tvar index = this.blockIndex;\n\t\tvar offset = this.blockOffset;\n\t\tvar self = this;\n\n\t\tthis.blockOffset = 0;\n\t\tthis.blockLength = 0;\n\t\tthis.blockIndex++;\n\t\tthis.blocks = [];\n\n\t\tvar key = this.name+'\\xff'+pad(index);\n\n\t\tvar append = function(block, force, cb) {\n\t\t\tif (block.length) {\n\t\t\t\tself.batch.push({\n\t\t\t\t\ttype: 'put',\n\t\t\t\t\tkey: key,\n\t\t\t\t\tvalue: block,\n\t\t\t\t\tvalueEncoding: ENCODER\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!force && self.batch.length < maxBatch) return cb();\n\t\t\treturn self._flush(cb);\n\t\t};\n\n\t\tif (!offset && block.length === blockSize) return append(block, false, cb);\n\t\tif (!offset && !this.append) return append(block, false, cb);\n\n\t\t// partial write\n\t\tmutateBlock(key, offset, block, this.append, function(err, block, release) {\n\t\t\tif (err) return cb(err);\n\t\t\tappend(block, true, function(err) {\n\t\t\t\trelease();\n\t\t\t\tcb(err);\n\t\t\t});\n\t\t});\n\t};\n\n\tWriteStream.prototype._initAppend = function(data, enc, cb) {\n\t\tvar self = this;\n\t\tthis._shouldInitAppend = false;\n\t\tblobs.size(this.name, function(err, size) {\n\t\t\tif (err) return cb(err);\n\t\t\tself._init(size);\n\t\t\tself._write(data, enc, cb);\n\t\t});\n\t};\n\n\tWriteStream.prototype._write = function(data, enc, cb) {\n\t\tif (!data.length || this._destroyed) return cb();\n\t\tif (this._shouldInitAppend) return this._initAppend(data, enc, cb);\n\n\t\tvar self = this;\n\t\tvar overflow;\n\t\tvar free = blockSize - this.blockLength;\n\n\t\tvar done = function(err) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (overflow) return self._write(overflow, enc, cb);\n\t\t\tcb();\n\t\t};\n\n\t\tif (data.length > free) {\n\t\t\toverflow = data.slice(free);\n\t\t\tdata = data.slice(0, free);\n\t\t}\n\n\t\tthis.bytesWritten += data.length;\n\t\tthis.blockLength += data.length;\n\t\tthis.blocks.push(data);\n\n\t\tif (data.length < free) return done();\n\t\tthis._writeBlock(done);\n\t};\n\n\tWriteStream.prototype.destroy = function() {\n\t\tif (this._destroyed) return;\n\t\tthis._destroyed = true;\n\t\tprocess.nextTick(this.emit.bind(this, 'close'));\n\t};\n\n\tWriteStream.prototype.end = function(data) {\n\t\tvar self = this;\n\t\tvar args = arguments;\n\n\t\tif (data && typeof data !== 'function') {\n\t\t\tthis.write(data);\n\t\t\tdata = EMPTY;\n\t\t}\n\n\t\tthis.write(EMPTY, function() {\n\t\t\tself._writeBlock(function(err) {\n\t\t\t\tif (err) return self.emit('error', err);\n\t\t\t\tself._flush(function(err) {\n\t\t\t\t\tif (err) return self.emit('error', err);\n\t\t\t\t\tWritable.prototype.end.apply(self, args);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tvar ReadStream = function(name, opts) {\n\t\tif (!opts) opts = {};\n\n\t\tvar self = this;\n\n\t\tvar start = opts.start || 0;\n\t\tvar blockIndex = (start / blockSize) | 0;\n\t\tvar blockOffset = start - blockIndex * blockSize;\n\t\tvar key = name+'\\xff'+pad(blockIndex);\n\n\t\tthis.name = name;\n\t\tthis._missing = (typeof opts.end === 'number' ? opts.end : Infinity) - start + 1;\n\t\tthis._paused = false;\n\t\tthis._destroyed = false;\n\n\t\tthis._reader = db.createReadStream({\n\t\t\tstart: key,\n\t\t\tend: name+'\\xff\\xff',\n\t\t\tvalueEncoding: ENCODER\n\t\t});\n\n\t\tvar onblock = function(val) {\n\t\t\tkey = name+'\\xff'+pad(++blockIndex);\n\n\t\t\tif (!self._missing) return false;\n\n\t\t\tif (blockOffset) {\n\t\t\t\tval = val.slice(blockOffset);\n\t\t\t\tblockOffset = 0;\n\t\t\t\tif (!val.length) return true;\n\t\t\t}\n\n\t\t\tif (val.length > self._missing) val = val.slice(0, self._missing);\n\n\t\t\tself._missing -= val.length;\n\t\t\tself._pause(!self.push(val));\n\n\t\t\treturn !!self._missing;\n\t\t};\n\n\t\tthis._reader.on('data', function(data) {\n\t\t\twhile (data.key > key) {\n\t\t\t\tif (!onblock(blank)) return;\n\t\t\t}\n\n\t\t\tonblock(data.value);\n\t\t});\n\n\t\tthis._reader.on('error', function(err) {\n\t\t\tself.emit('error', err);\n\t\t});\n\n\t\tthis._reader.on('end', function() {\n\t\t\tself.push(null);\n\t\t});\n\n\t\tReadable.call(this);\n\t};\n\n\tutil.inherits(ReadStream, Readable);\n\n\tReadStream.prototype.destroy = function() {\n\t\tif (this._destroyed) return;\n\t\tthis._destroyed = true;\n\t\tthis._reader.destroy();\n\t\tprocess.nextTick(this.emit.bind(this, 'close'));\n\t};\n\n\tReadStream.prototype._pause = function(paused) {\n\t\tif (this._paused === paused) return;\n\t\tthis._paused = paused;\n\t\tif (this._paused) this._reader.pause();\n\t\telse this._reader.resume();\n\t};\n\n\tReadStream.prototype._read = function() {\n\t\tthis._pause(false);\n\t};\n\n\tblobs.remove = function(name, cb) {\n\t\tcb = once(cb || noop);\n\n\t\tvar batch = [];\n\t\tvar keys = db.createKeyStream({\n\t\t\tstart: name+'\\xff',\n\t\t\tend: name+'\\xff\\xff'\n\t\t});\n\n\t\tkeys.on('error', cb);\n\n\t\tkeys.on('data', function(key) {\n\t\t\tbatch.push({type:'del', key:key});\n\t\t});\n\n\t\tkeys.on('end', function() {\n\t\t\tdb.batch(batch, cb);\n\t\t});\n\t};\n\n\tblobs.size = function(name, cb) {\n\t\tpeek.last(db, {\n\t\t\tstart: name+'\\xff',\n\t\t\tend: name+'\\xff\\xff',\n\t\t\tvalueEncoding:ENCODER\n\t\t}, function(err, latest, val) {\n\t\t\tif (err && err.message === 'range not found') return cb(null, 0);\n\t\t\tif (err) return cb(err);\n\t\t\tif (latest.slice(0, name.length+1) !== name+'\\xff') return cb(null, 0);\n\n\t\t\tcb(null, parseInt(latest.toString().slice(name.length+1), 16) * blockSize + val.length);\n\t\t});\n\t};\n\n\tblobs.write = function(name, data, opts, cb) {\n\t\tif (typeof opts === 'function') return blobs.write(name, data, null, opts);\n\t\tif (!opts) opts = {};\n\t\tif (!cb) cb = noop;\n\n\t\tvar ws = blobs.createWriteStream(name, opts);\n\n\t\tws.on('error', cb);\n\t\tws.on('finish', function() {\n\t\t\tcb();\n\t\t});\n\n\t\tws.write(data);\n\t\tws.end();\n\t}\n\n\tblobs.read = function(name, opts, cb) {\n\t\tif (typeof opts === 'function') return blobs.read(name, null, opts);\n\t\tif (!opts) opts = {};\n\n\t\tvar rs = blobs.createReadStream(name, opts);\n\t\tvar list = [];\n\n\t\trs.on('error', cb);\n\t\trs.on('data', function(data) {\n\t\t\tlist.push(data);\n\t\t});\n\t\trs.on('end', function() {\n\t\t\tcb(null, list.length === 1 ? list[0] : Buffer.concat(list));\n\t\t});\n\t};\n\n\tblobs.createReadStream = function(name, opts) {\n\t\treturn new ReadStream(name, opts);\n\t};\n\n\tblobs.createWriteStream = function(name, opts) {\n\t\treturn new WriteStream(name, opts);\n\t};\n\n\treturn blobs;\n};","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough))\n    return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\n  cb(null, chunk);\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\n\n/*<replacement>*/\nvar debug = require('util');\nif (debug && debug.debuglog) {\n  debug = debug.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (util.isString(chunk) && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (util.isNullOrUndefined(chunk)) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      if (!addToFront)\n        state.reading = false;\n\n      // if we want the data now, just emit it.\n      if (state.flowing && state.length === 0 && !state.sync) {\n        stream.emit('data', chunk);\n        stream.read(0);\n      } else {\n        // update the buffer info.\n        state.length += state.objectMode ? 1 : chunk.length;\n        if (addToFront)\n          state.buffer.unshift(chunk);\n        else\n          state.buffer.push(chunk);\n\n        if (state.needReadable)\n          emitReadable(stream);\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (isNaN(n) || util.isNull(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  debug('read', n);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (!util.isNumber(n) || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended)\n      endReadable(this);\n    else\n      emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0)\n      endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  }\n\n  if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read pushed data synchronously, then `reading` will be false,\n  // and we need to re-evaluate how much data we can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  var ret;\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (util.isNull(ret)) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we tried to read() past the EOF, then emit end on the next tick.\n  if (nOrig !== n && state.ended && state.length === 0)\n    endReadable(this);\n\n  if (!util.isNull(ret))\n    this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync)\n      process.nextTick(function() {\n        emitReadable_(stream);\n      });\n    else\n      emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain &&\n        (!dest._writableState || dest._writableState.needDrain))\n      ondrain();\n  }\n\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    if (false === ret) {\n      debug('false write response, pause',\n            src._readableState.awaitDrain);\n      src._readableState.awaitDrain++;\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain)\n      state.awaitDrain--;\n    if (state.awaitDrain === 0 && EE.listenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  // If listening to data, and it has not explicitly been paused,\n  // then call resume to start the flow of data on the next tick.\n  if (ev === 'data' && false !== this._readableState.flowing) {\n    this.resume();\n  }\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        var self = this;\n        process.nextTick(function() {\n          debug('readable nexttick read 0');\n          self.read(0);\n        });\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    if (!state.reading) {\n      debug('resume read 0');\n      this.read(0);\n    }\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(function() {\n      resume_(stream, state);\n    });\n  }\n}\n\nfunction resume_(stream, state) {\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading)\n    stream.read(0);\n}\n\nReadable.prototype.pause = function() {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  if (state.flowing) {\n    do {\n      var chunk = stream.read();\n    } while (null !== chunk && state.flowing);\n  }\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    debug('wrapped data');\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n    if (!chunk || !state.objectMode && !chunk.length)\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (util.isFunction(stream[i]) && util.isUndefined(this[i])) {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (!util.isNullOrUndefined(data))\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('prefinish', function() {\n    if (util.isFunction(this._flush))\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (!util.isNull(ts.writechunk) && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (!util.isFunction(cb))\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function() {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function() {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing &&\n        !state.corked &&\n        !state.finished &&\n        !state.bufferProcessing &&\n        state.buffer.length)\n      clearBuffer(this, state);\n  }\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      util.isString(chunk)) {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing || state.corked)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev)\n    stream._writev(chunk, state.onwrite);\n  else\n    stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      state.pendingcb--;\n      cb(er);\n    });\n  else {\n    state.pendingcb--;\n    cb(er);\n  }\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished &&\n        !state.corked &&\n        !state.bufferProcessing &&\n        state.buffer.length) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  if (stream._writev && state.buffer.length > 1) {\n    // Fast case, write everything using _writev()\n    var cbs = [];\n    for (var c = 0; c < state.buffer.length; c++)\n      cbs.push(state.buffer[c].callback);\n\n    // count the one we are adding, as well.\n    // TODO(isaacs) clean this up\n    state.pendingcb++;\n    doWrite(stream, state, true, state.length, state.buffer, '', function(err) {\n      for (var i = 0; i < cbs.length; i++) {\n        state.pendingcb--;\n        cbs[i](err);\n      }\n    });\n\n    // Clear buffer\n    state.buffer = [];\n  } else {\n    // Slow case, write chunks one-by-one\n    for (var c = 0; c < state.buffer.length; c++) {\n      var entry = state.buffer[c];\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        c++;\n        break;\n      }\n    }\n\n    if (c < state.buffer.length)\n      state.buffer = state.buffer.slice(c);\n    else\n      state.buffer.length = 0;\n  }\n\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (util.isFunction(chunk)) {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (!util.isNullOrUndefined(chunk))\n    this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else\n      prefinish(stream, state);\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = require('stream');\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nif (!process.browser && process.env.READABLE_STREAM === 'disable') {\n  module.exports = require('stream');\n}\n","module.exports = require(\"./lib/_stream_writable.js\")\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n","var errno = require('errno');\n\nObject.keys(errno.code).forEach(function(code) {\n\tvar e = errno.code[code];\n\n\texports[code] = function(path) {\n\t\tvar err = new Error(code+', '+e.description+(path ? ' \\''+path+'\\'' : ''));\n\t\terr.errno = e.errno;\n\t\terr.code = code;\n\t\terr.path = path;\n\t\treturn err;\n\t};\n});","var fwd = require('fwd-stream');\nvar sublevel = require('level-sublevel');\nvar blobs = require('level-blobs');\nvar peek = require('level-peek');\nvar once = require('once');\nvar octal = require('octal')\nvar errno = require('./errno');\nvar paths = require('./paths');\nvar watchers = require('./watchers');\n\nvar nextTick = function(cb, err, val) {\n\tprocess.nextTick(function() {\n\t\tcb(err, val);\n\t});\n};\n\nvar noop = function() {};\n\nmodule.exports = function(db, opts) {\n\tvar fs = {};\n\n\tdb = sublevel(db);\n\n\tvar bl = blobs(db.sublevel('blobs'), opts);\n\tvar ps = paths(db.sublevel('stats'));\n\tvar links = db.sublevel('links');\n\n\tvar listeners = watchers();\n\tvar fds = [];\n\n\tvar now = Date.now();\n\tvar inc = function() {\n\t\treturn ++now;\n\t};\n\n\tfs.mkdir = function(key, mode, cb) {\n\t\tif (typeof mode === 'function') return fs.mkdir(key, null, mode);\n\t\tif (!mode) mode = octal(777);\n\t\tif (!cb) cb = noop;\n\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err && err.code !== 'ENOENT') return cb(err);\n\t\t\tif (stat) return cb(errno.EEXIST(key));\n\n\t\t\tps.put(key, {\n\t\t\t\ttype:'directory',\n\t\t\t\tmode: mode,\n\t\t\t\tsize: 4096\n\t\t\t}, listeners.cb(key, cb));\n\t\t});\n\t};\n\n\tfs.rmdir = function(key, cb) {\n\t\tif (!cb) cb = noop;\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tfs.readdir(key, function(err, files) {\n\t\t\t\tif (err) return cb(err);\n\t\t\t\tif (files.length) return cb(errno.ENOTEMPTY(key));\n\t\t\t\tps.del(key, listeners.cb(key, cb));\n\t\t\t});\n\t\t});\n\n\t};\n\n\tfs.readdir = function(key, cb) {\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (!stat) return cb(errno.ENOENT(key));\n\t\t\tif (!stat.isDirectory()) return cb(errno.ENOTDIR(key));\n\t\t\tps.list(key, cb);\n\t\t});\n\t};\n\n\tvar stat = function(key, lookup, cb) {\n\t\tlookup(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (!stat.isFile()) return cb(null, stat);\n\t\t\tvar blob = stat && stat.blob || key;\n\t\t\tbl.size(blob, function(err, size) {\n\t\t\t\tif (err) return cb(err);\n\t\t\t\tstat.size = size;\n\t\t\t\tcb(null, stat);\n\t\t\t});\n\t\t});\n\t};\n\n\tfs.stat = function(key, cb) {\n\t\tstat(key, ps.follow, cb);\n\t};\n\n\tfs.lstat = function(key, cb) {\n\t\tstat(key, ps.get, cb);\n\t};\n\n\tfs.exists = function(key, cb) {\n\t\tps.follow(key, function(err) {\n\t\t\tcb(!err);\n\t\t});\n\t};\n\n\tvar chmod = function(key, lookup, mode, cb) {\n\t\tif (!cb) cb = noop;\n\t\tlookup(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tps.update(key, {mode:mode}, listeners.cb(key, cb));\n\t\t});\n\t};\n\n\tfs.chmod = function(key, mode, cb) {\n\t\tchmod(key, ps.follow, mode, cb);\n\t};\n\n\tfs.lchmod = function(key, mode, cb) {\n\t\tchmod(key, ps.get, mode, cb);\n\t};\n\n\tvar chown = function(key, lookup, uid, gid, cb) {\n\t\tif (!cb) cb = noop;\n\t\tlookup(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tps.update(key, {uid:uid, gid:gid}, listeners.cb(key, cb));\n\t\t});\n\t};\n\n\tfs.chown = function(key, uid, gid, cb) {\n\t\tchown(key, ps.follow, uid, gid, cb);\n\t};\n\n\tfs.lchown = function(key, uid, gid, cb) {\n\t\tchown(key, ps.get, uid, gid, cb);\n\t};\n\n\tfs.utimes = function(key, atime, mtime, cb) {\n\t\tif (!cb) cb = noop;\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tvar upd = {};\n\t\t\tif (atime) upd.atime = atime;\n\t\t\tif (mtime) upd.mtime = mtime;\n\t\t\tps.update(key, upd, listeners.cb(key, cb));\n\t\t});\n\t};\n\n\tfs.rename = function(from, to, cb) {\n\t\tif (!cb) cb = noop;\n\n\t\tps.follow(from, function(err, statFrom, from) {\n\t\t\tif (err) return cb(err);\n\n\t\t\tvar rename = function() {\n\t\t\t\tcb = listeners.cb(to, listeners.cb(from, cb));\n\t\t\t\tps.put(to, statFrom, function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\t\t\t\t\tps.del(from, cb);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tps.follow(to, function(err, statTo, to) {\n\t\t\t\tif (err && err.code !== 'ENOENT') return cb(err);\n\t\t\t\tif (!statTo) return rename();\n\t\t\t\tif (statFrom.isDirectory() !== statTo.isDirectory()) return cb(errno.EISDIR(from));\n\n\t\t\t\tif (statTo.isDirectory()) {\n\t\t\t\t\tfs.readdir(to, function(err, list) {\n\t\t\t\t\t\tif (err) return cb(err);\n\t\t\t\t\t\tif (list.length) return cb(errno.ENOTEMPTY(from));\n\t\t\t\t\t\trename();\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\trename();\n\t\t\t});\n\t\t});\n\t};\n\n\tfs.realpath = function(key, cache, cb) {\n\t\tif (typeof cache === 'function') return fs.realpath(key, null, cache);\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tcb(null, key);\n\t\t});\n\t};\n\n\tfs.writeFile = function(key, data, opts, cb) {\n\t\tif (typeof opts === 'function') return fs.writeFile(key, data, null, opts);\n\t\tif (typeof opts === 'string') opts = {encoding:opts};\n\t\tif (!opts) opts = {};\n\t\tif (!cb) cb = noop;\n\n\t\tif (!Buffer.isBuffer(data)) data = new Buffer(data, opts.encoding || 'utf-8');\n\n\t\tvar flags = opts.flags || 'w';\n\t\topts.append = flags[0] !== 'w';\n\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err && err.code !== 'ENOENT') return cb(err);\n\t\t\tif (stat && stat.isDirectory()) return cb(errno.EISDIR(key));\n\t\t\tif (stat && flags[1] === 'x') return cb(errno.EEXIST(key));\n\n\t\t\tvar blob = stat && stat.blob || key;\n\t\t\tps.writable(key, function(err) {\n\t\t\t\tif (err) return cb(err);\n\n\t\t\t\tbl.write(blob, data, opts, function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\n\t\t\t\t\tps.put(key, {\n\t\t\t\t\t\tctime: stat && stat.ctime,\n\t\t\t\t\t\tmtime: new Date(),\n\t\t\t\t\t\tmode: opts.mode || octal(666),\n\t\t\t\t\t\ttype:'file'\n\t\t\t\t\t}, listeners.cb(key, cb));\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tfs.appendFile = function(key, data, opts, cb) {\n\t\tif (typeof opts === 'function') return fs.appendFile(key, data, null, opts);\n\t\tif (typeof opts === 'string') opts = {encoding:opts};\n\t\tif (!opts) opts = {};\n\n\t\topts.flags = 'a';\n\t\tfs.writeFile(key, data, opts, cb);\n\t};\n\n\tfs.unlink = function(key, cb) {\n\t\tif (!cb) cb = noop;\n\n\t\tps.get(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (stat.isDirectory()) return cb(errno.EISDIR(key));\n\n\t\t\tvar clean = function(target) {\n\t\t\t\tpeek(links, {start:target+'\\xff', end:target+'\\xff\\xff'}, function(err) {\n\t\t\t\t\tif (err) return bl.remove(target, cb); // no more links\n\t\t\t\t\tcb();\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar onlink = function() {\n\t\t\t\tvar target = stat.link.slice(0, stat.link.indexOf('\\xff'));\n\t\t\t\tlinks.del(stat.link, function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\t\t\t\t\tclean(target);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tps.del(key, listeners.cb(key, function(err) {\n\t\t\t\tif (err) return cb(err);\n\t\t\t\tif (stat.link) return onlink();\n\t\t\t\tlinks.del(key+'\\xff', function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\t\t\t\t\tclean(key);\n\t\t\t\t});\n\t\t\t}));\n\t\t});\n\t};\n\n\tfs.readFile = function(key, opts, cb) {\n\t\tif (typeof opts === 'function') return fs.readFile(key, null, opts);\n\t\tif (typeof opts === 'string') opts = {encoding:opts};\n\t\tif (!opts) opts = {};\n\n\t\tvar encoding = opts.encoding || 'binary';\n\t\tvar flag = opts.flag || 'r';\n\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (stat.isDirectory()) return cb(errno.EISDIR(key));\n\n\t\t\tvar blob = stat && stat.blob || key;\n\t\t\tbl.read(blob, function(err, data) {\n\t\t\t\tif (err) return cb(err);\n\t\t\t\tcb(null, opts.encoding ? data.toString(opts.encoding) : data);\n\t\t\t});\n\t\t});\n\t};\n\n\tfs.createReadStream = function(key, opts) {\n\t\tif (!opts) opts = {};\n\n\t\tvar closed = false;\n\t\tvar rs = fwd.readable(function(cb) {\n\t\t\tps.follow(key, function(err, stat, key) {\n\t\t\t\tif (err) return cb(err);\n\t\t\t\tif (stat.isDirectory()) return cb(errno.EISDIR(key));\n\n\t\t\t\tvar blob = stat && stat.blob || key;\n\t\t\t\tvar r = bl.createReadStream(blob, opts);\n\n\t\t\t\trs.emit('open');\n\t\t\t\tr.on('end', function() {\n\t\t\t\t\tprocess.nextTick(function() {\n\t\t\t\t\t\tif (!closed) rs.emit('close');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tcb(null, r);\n\t\t\t});\n\t\t});\n\n\t\trs.on('close', function() {\n\t\t\tclosed = true;\n\t\t});\n\n\t\treturn rs;\n\t};\n\n\tfs.createWriteStream = function(key, opts) {\n\t\tif (!opts) opts = {};\n\n\t\tvar flags = opts.flags || 'w';\n\t\tvar closed = false;\n\t\tvar mode = opts.mode || octal(666);\n\n\t\topts.append = flags[0] === 'a';\n\n\t\tvar ws = fwd.writable(function(cb) {\n\t\t\tps.follow(key, function(err, stat, key) {\n\t\t\t\tif (err && err.code !== 'ENOENT') return cb(err);\n\t\t\t\tif (stat && stat.isDirectory()) return cb(errno.EISDIR(key));\n\t\t\t\tif (stat && flags[1] === 'x') return cb(errno.EEXIST(key));\n\n\t\t\t\tvar blob = stat && stat.blob || key;\n\t\t\t\tps.writable(blob, function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\n\t\t\t\t\tvar ctime = stat ? stat.ctime : new Date();\n\t\t\t\t\tvar s = {\n\t\t\t\t\t\tctime: ctime,\n\t\t\t\t\t\tmtime: new Date(),\n\t\t\t\t\t\tmode: mode,\n\t\t\t\t\t\ttype:'file'\n\t\t\t\t\t};\n\n\t\t\t\t\tps.put(key, s, function(err) {\n\t\t\t\t\t\tif (err) return cb(err);\n\n\t\t\t\t\t\tvar w = bl.createWriteStream(blob, opts);\n\n\t\t\t\t\t\tws.emit('open');\n\t\t\t\t\t\tw.on('finish', function() {\n\t\t\t\t\t\t\ts.mtime = new Date();\n\t\t\t\t\t\t\tps.put(key, s, function() {\n\t\t\t\t\t\t\t\tlisteners.change(key);\n\t\t\t\t\t\t\t\tif (!closed) ws.emit('close');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tcb(null, w);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\tws.on('close', function() {\n\t\t\tclosed = true;\n\t\t});\n\n\t\treturn ws;\n\t};\n\n\tfs.truncate = function(key, len, cb) {\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\n\t\t\tvar blob = stat && stat.blob || key;\n\t\t\tbl.size(blob, function(err, size) {\n\t\t\t\tif (err) return cb(err);\n\n\t\t\t\tps.writable(key, function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\n\t\t\t\t\tcb = once(listeners.cb(key, cb));\n\t\t\t\t\tif (!len) return bl.remove(blob, cb);\n\n\t\t\t\t\tvar ws = bl.createWriteStream(blob, {\n\t\t\t\t\t\tstart:size < len ? len-1 : len\n\t\t\t\t\t});\n\n\t\t\t\t\tws.on('error', cb);\n\t\t\t\t\tws.on('finish', cb);\n\n\t\t\t\t\tif (size < len) ws.write(new Buffer([0]));\n\t\t\t\t\tws.end();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tfs.watchFile = function(key, opts, cb) {\n\t\tif (typeof opts === 'function') return fs.watchFile(key, null, opts);\n\t\treturn listeners.watch(ps.normalize(key), cb);\n\t};\n\n\tfs.unwatchFile = function(key, cb) {\n\t\tlisteners.unwatch(ps.normalize(key), cb);\n\t};\n\n\tfs.watch = function(key, opts, cb) {\n\t\tif (typeof opts === 'function') return fs.watch(key, null, opts)\n\t\treturn listeners.watcher(ps.normalize(key), cb);\n\t};\n\n\tfs.notify = function(cb) {\n\t\tlisteners.on('change', cb)\n\t}\n\n\tfs.open = function(key, flags, mode, cb) {\n\t\tif (typeof mode === 'function') return fs.open(key, flags, null, mode);\n\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err && err.code !== 'ENOENT') return cb(err);\n\n\t\t\tvar fl = flags[0];\n\t\t\tvar plus = flags[1] === '+' || flags[2] === '+';\n\t\t\tvar blob = stat && stat.blob || key;\n\n\t\t\tvar f = {\n\t\t\t\tkey: key,\n\t\t\t\tblob: blob,\n\t\t\t\tmode: mode || octal(666),\n\t\t\t\treadable: fl === 'r' || ((fl === 'w' || fl === 'a') && plus),\n\t\t\t\twritable: fl === 'w' || fl === 'a' || (fl === 'r' && plus),\n\t\t\t\tappend: fl === 'a'\n\t\t\t};\n\n\t\t\tif (fl === 'r' && err) return cb(err);\n\t\t\tif (flags[1] === 'x' && stat) return cb(errno.EEXIST(key));\n\t\t\tif (stat && stat.isDirectory()) return cb(errno.EISDIR(key));\n\n\t\t\tbl.size(blob, function(err, size) {\n\t\t\t\tif (err) return cb(err);\n\n\t\t\t\tif (f.append) f.writePos = size;\n\n\t\t\t\tps.writable(key, function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\n\t\t\t\t\tvar onready = function(err) {\n\t\t\t\t\t\tif (err) return cb(err);\n\n\t\t\t\t\t\tvar i = fds.indexOf(null);\n\t\t\t\t\t\tif (i === -1) i = 10+fds.push(fds.length+10)-1;\n\n\t\t\t\t\t\tf.fd = i;\n\t\t\t\t\t\tfds[i] = f;\n\t\t\t\t\t\tlisteners.change(key);\n\n\t\t\t\t\t\tcb(null, f.fd);\n\t\t\t\t\t};\n\n\t\t\t\t\tvar ontruncate = function(err) {\n\t\t\t\t\t\tif (err) return cb(err);\n\t\t\t\t\t\tif (stat) return onready();\n\t\t\t\t\t\tps.put(blob, {ctime:stat && stat.ctime, type:'file'}, onready);\n\t\t\t\t\t};\n\n\t\t\t\t\tif (!f.append && f.writable) return bl.remove(blob, ontruncate);\n\t\t\t\t\tontruncate();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tfs.close = function(fd, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!f) return nextTick(cb, errno.EBADF());\n\n\t\tfds[fd] = null;\n\t\tnextTick(listeners.cb(f.key, cb));\n\t};\n\n\tfs.write = function(fd, buf, off, len, pos, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!cb) cb = noop;\n\t\tif (!f || !f.writable) return nextTick(cb, errno.EBADF());\n\n\t\tif (pos === null) pos = f.writePos || 0;\n\n\t\tvar slice = buf.slice(off, off+len);\n\t\tf.writePos = pos + slice.length;\n\n\t\tbl.write(f.blob, slice, {start:pos, append:true}, function(err) {\n\t\t\tif (err) return cb(err);\n\t\t\tcb(null, len, buf);\n\t\t});\n\t};\n\n\tfs.read = function(fd, buf, off, len, pos, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!cb) cb = noop;\n\t\tif (!f || !f.readable) return nextTick(cb, errno.EBADF());\n\n\t\tif (pos === null) pos = fs.readPos || 0;\n\n\t\tbl.read(f.blob, {start:pos, end:pos+len-1}, function(err, read) {\n\t\t\tif (err) return cb(err);\n\t\t\tvar slice = read.slice(0, len);\n\t\t\tslice.copy(buf, off);\n\t\t\tfs.readPos = pos+slice.length;\n\t\t\tcb(null, slice.length, buf);\n\t\t});\n\t};\n\n\tfs.fsync = function(fd, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!cb) cb = noop;\n\t\tif (!f || !f.writable) return nextTick(cb, errno.EBADF());\n\n\t\tnextTick(cb);\n\t};\n\n\tfs.ftruncate = function(fd, len, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!cb) cb = noop;\n\t\tif (!f) return nextTick(cb, errno.EBADF());\n\n\t\tfs.truncate(f.blob, len, cb);\n\t};\n\n\tfs.fchown = function(fd, uid, gid, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!cb) cb = noop;\n\t\tif (!f) return nextTick(cb, errno.EBADF());\n\n\t\tfs.chown(f.key, uid, gid, cb);\n\t};\n\n\tfs.fchmod = function(fd, mode, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!cb) cb = noop;\n\t\tif (!f) return nextTick(cb, errno.EBADF());\n\n\t\tfs.chmod(f.key, mode, cb);\n\t};\n\n\tfs.futimes = function(fd, atime, mtime, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!cb) cb = noop;\n\t\tif (!f) return nextTick(cb, errno.EBADF());\n\n\t\tfs.utimes(f.key, atime, mtime, cb);\n\t};\n\n\tfs.fstat = function(fd, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!f) return nextTick(cb, errno.EBADF());\n\n\t\tfs.stat(f.key, cb);\n\t};\n\n\tfs.symlink = function(target, name, cb) {\n\t\tif (!cb) cb = noop;\n\t\tps.follow(target, function(err, stat, target) {\n\t\t\tif (err) return cb(err);\n\t\t\tps.get(name, function(err, stat) {\n\t\t\t\tif (err && err.code !== 'ENOENT') return cb(err);\n\t\t\t\tif (stat) return cb(errno.EEXIST(name));\n\t\t\t\tps.put(name, {type:'symlink', target:target, mode:octal(777)}, cb);\n\t\t\t});\n\t\t});\n\t};\n\n\tfs.readlink = function(key, cb) {\n\t\tps.get(key, function(err, stat) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (!stat.target) return cb(errno.EINVAL(key));\n\t\t\tcb(null, stat.target);\n\t\t});\n\t};\n\n\tfs.link = function(target, name, cb) {\n\t\tif (!cb) cb = noop;\n\t\tps.follow(target, function(err, stat, target) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (!stat.isFile()) return cb(errno.EINVAL(target));\n\t\t\tps.get(name, function(err, st) {\n\t\t\t\tif (err && err.code !== 'ENOENT') return cb(err);\n\t\t\t\tif (st) return cb(errno.EEXIST(name));\n\t\t\t\tvar link = target+'\\xff'+inc();\n\t\t\t\tlinks.put(target+'\\xff', target, function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\t\t\t\t\tlinks.put(link, target, function(err) {\n\t\t\t\t\t\tif (err) return cb(err);\n\t\t\t\t\t\tps.put(name, {type:'file', link:link, blob:target, mode:stat.mode}, cb);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\treturn fs;\n};\n","var path = require('path');\nvar once = require('once');\nvar concat = require('concat-stream');\nvar octal = require('octal')\nvar stat = require('./stat');\nvar xtend = require('xtend');\nvar errno = require('./errno');\n\nvar ROOT = stat({\n\ttype: 'directory',\n\tmode: octal(777),\n\tsize: 4096\n});\n\nvar normalize = function(key) {\n\tkey = key[0] === '/' ? key : '/' + key;\n\tkey = path.normalize(key);\n\tif (key === '/') return key;\n\treturn key[key.length-1] === '/' ? key.slice(0, -1) : key;\n};\n\nvar prefix = function(key) {\n\tvar depth = key.split('/').length.toString(36);\n\treturn '0000000000'.slice(depth.length)+depth+key;\n};\n\nmodule.exports = function(db) {\n\tvar that = {};\n\n\tthat.normalize = normalize;\n\n\tthat.get = function(key, cb) {\n\t\tkey = normalize(key);\n\t\tif (key === '/') return process.nextTick(cb.bind(null, null, ROOT, '/'));\n\t\tdb.get(prefix(key), {valueEncoding:'json'}, function(err, doc) {\n\t\t\tif (err && err.notFound) return cb(errno.ENOENT(key), null, key);\n\t\t\tif (err) return cb(err, null, key);\n\t\t\tcb(null, stat(doc), key);\n\t\t});\n\t};\n\n\tthat.writable = function(key, cb) {\n\t\tkey = normalize(key);\n\t\tif (key === '/') return process.nextTick(cb.bind(null, errno.EPERM(key)));\n\t\tthat.follow(path.dirname(key), function(err, parent) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (!parent.isDirectory()) return cb(errno.ENOTDIR(key));\n\t\t\tcb(null, key);\n\t\t});\n\t};\n\n\tthat.list = function(key, cb) {\n\t\tkey = normalize(key);\n\n\t\tvar start = prefix(key === '/' ? key : key + '/');\n\t\tvar keys = db.createKeyStream({start: start, end: start+'\\xff'});\n\n\t\tcb = once(cb);\n\n\t\tkeys.on('error', cb);\n\t\tkeys.pipe(concat({encoding:'object'}, function(files) {\n\t\t\tfiles = files.map(function(file) {\n\t\t\t\treturn file.split('/').pop();\n\t\t\t});\n\n\t\t\tcb(null, files);\n\t\t}));\n\t};\n\n\tvar resolve = function(dir, cb) {\n\t\tvar root = '/';\n\t\tvar parts = dir.split('/').slice(1);\n\n\t\tvar loop = function() {\n\t\t\tthat.get(path.join(root, parts.shift()), function(err, doc, key) {\n\t\t\t\tif (err) return cb(err, doc, dir);\n\t\t\t\troot = doc.target || key;\n\t\t\t\tif (!parts.length) return cb(null, doc, key);\n\t\t\t\tloop();\n\t\t\t});\n\t\t};\n\n\t\tloop();\n\t};\n\n\tthat.follow = function(key, cb) {\n\t\tresolve(normalize(key), function loop(err, doc, key) {\n\t\t\tif (err) return cb(err, null, key);\n\t\t\tif (doc.target) return that.get(doc.target, loop);\n\t\t\tcb(null, stat(doc), key);\n\t\t});\n\t};\n\n\tthat.update = function(key, opts, cb) {\n\t\tthat.get(key, function(err, doc, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (key === '/') return cb(errno.EPERM(key));\n\t\t\tthat.put(key, xtend(doc, opts), cb);\n\t\t});\n\t};\n\n\tthat.put = function(key, opts, cb) {\n\t\tthat.writable(key, function(err, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tdb.put(prefix(key), stat(opts), {valueEncoding:'json'}, cb);\n\t\t});\n\t};\n\n\tthat.del = function(key, cb) {\n\t\tkey = normalize(key);\n\t\tif (key === '/') return process.nextTick(cb.bind(null, errno.EPERM(key)));\n\t\tdb.del(prefix(key), cb);\n\t};\n\n\treturn that;\n};\n","var toDate = function(date) {\n\tif (!date) return new Date();\n\tif (typeof date === 'string') return new Date(date);\n\treturn date;\n};\n\nvar Stat = function(opts) {\n\tthis.uid = opts.uid || 0;\n\tthis.gid = opts.gid || 0;\n\tthis.mode = opts.mode || 0;\n\tthis.size = opts.size || 0;\n\tthis.mtime = toDate(opts.mtime);\n\tthis.atime = toDate(opts.atime);\n\tthis.ctime = toDate(opts.ctime);\n\tthis.type = opts.type;\n\tthis.target = opts.target;\n\tthis.link = opts.link;\n\tthis.blob = opts.blob;\n};\n\nStat.prototype.isDirectory = function() {\n\treturn this.type === 'directory';\n};\n\nStat.prototype.isFile = function() {\n\treturn this.type === 'file';\n};\n\nStat.prototype.isBlockDevice = function() {\n\treturn false;\n};\n\nStat.prototype.isCharacterDevice = function() {\n\treturn false;\n};\n\nStat.prototype.isSymbolicLink = function() {\n\treturn this.type === 'symlink';\n};\n\nStat.prototype.isFIFO = function() {\n\treturn false;\n};\n\nStat.prototype.isSocket = function() {\n\treturn false;\n};\n\nmodule.exports = function(opts) {\n\treturn new Stat(opts);\n};","var events = require('events');\n\nmodule.exports = function() {\n\tvar listeners = {};\n\tvar that = new events.EventEmitter();\n\n\tthat.watch = function(key, cb) {\n\t\tif (!listeners[key]) {\n\t\t\tlisteners[key] = new events.EventEmitter();\n\t\t\tlisteners[key].setMaxListeners(0);\n\t\t}\n\n\t\tif (cb) listeners[key].on('change', cb);\n\t\treturn listeners[key];\n\t};\n\n\tthat.watcher = function(key, cb) {\n\t\tvar watcher = new events.EventEmitter();\n\t\tvar onchange = function() {\n\t\t\twatcher.emit('change', 'change', key);\n\t\t};\n\n\t\tthat.watch(key, onchange);\n\t\tif (cb) watcher.on('change', cb);\n\t\twatcher.close = function() {\n\t\t\tthat.unwatch(key, onchange);\n\t\t};\n\n\t\treturn watcher;\n\t};\n\n\tthat.unwatch = function(key, cb) {\n\t\tif (!listeners[key]) return;\n\t\tif (cb) listeners[key].removeListener('change', cb);\n\t\telse listeners[key].removeAllListeners('change');\n\t\tif (!listeners[key].listeners('change').length) delete listeners[key];;\n\t};\n\n\tthat.change = function(key) {\n\t\tif (listeners[key]) listeners[key].emit('change');\n\t\tthat.emit('change', key);\n\t};\n\n\tthat.cb = function(key, cb) {\n\t\treturn function(err, val) {\n\t\t\tif (key) that.change(key);\n\t\t\tif (cb) cb(err, val);\n\t\t};\n\t};\n\n\treturn that;\n};","\nmodule.exports = \nfunction fixRange(opts) {\n  var reverse = opts.reverse\n  var end     = opts.end\n  var start   = opts.start\n\n  var range = [start, end]\n  if(start != null && end != null)\n    range.sort()\n  if(reverse)\n    range = range.reverse()\n\n  opts.start   = range[0]\n  opts.end     = range[1]\n  return opts\n}\n\n","var ranges = require('string-range')\n\nmodule.exports = function (db) {\n\n  if(db.hooks) {\n    return     \n  }\n\n  var posthooks = []\n  var prehooks  = []\n\n  function getPrefix (p) {\n    return p && (\n        'string' ===   typeof p        ? p\n      : 'string' ===   typeof p.prefix ? p.prefix\n      : 'function' === typeof p.prefix ? p.prefix()\n      :                                  ''\n      )\n  }\n\n  function getKeyEncoding (db) {\n    if(db && db._getKeyEncoding)\n      return db._getKeyEncoding(db)\n  }\n\n  function getValueEncoding (db) {\n    if(db && db._getValueEncoding)\n      return db._getValueEncoding(db)\n  }\n\n  function remover (array, item) {\n    return function () {\n      var i = array.indexOf(item)\n      if(!~i) return false        \n      array.splice(i, 1)\n      return true\n    }\n  }\n\n  db.hooks = {\n    post: function (prefix, hook) {\n      if(!hook) hook = prefix, prefix = ''\n      var h = {test: ranges.checker(prefix), hook: hook}\n      posthooks.push(h)\n      return remover(posthooks, h)\n    },\n    pre: function (prefix, hook) {\n      if(!hook) hook = prefix, prefix = ''\n      var h = {\n        test: ranges.checker(prefix),\n        hook: hook,\n        safe: false !== prefix.safe\n      }\n      prehooks.push(h)\n      return remover(prehooks, h)\n    },\n    posthooks: posthooks,\n    prehooks: prehooks\n  }\n\n  //POST HOOKS\n\n  function each (e) {\n    if(e && e.type) {\n      posthooks.forEach(function (h) {\n        if(h.test(e.key)) h.hook(e)\n      })\n    }\n  }\n\n  db.on('put', function (key, val) {\n    each({type: 'put', key: key, value: val})\n  })\n  db.on('del', function (key, val) {\n    each({type: 'del', key: key, value: val})\n  })\n  db.on('batch', function onBatch (ary) {\n    ary.forEach(each)\n  })\n\n  //PRE HOOKS\n\n  var put = db.put\n  var del = db.del\n  var batch = db.batch\n\n  function callHooks (isBatch, b, opts, cb) {\n    try {\n    b.forEach(function hook(e, i) {\n      prehooks.forEach(function (h) {\n        if(h.test(String(e.key))) {\n          //optimize this?\n          //maybe faster to not create a new object each time?\n          //have one object and expose scope to it?\n          var context = {\n            add: function (ch, db) {\n              if(typeof ch === 'undefined') {\n                return this\n              }\n              if(ch === false)\n                return delete b[i]\n              var prefix = (\n                getPrefix(ch.prefix) || \n                getPrefix(db) || \n                h.prefix || ''\n              )  \n              //don't leave a circular json object there incase using multilevel.\n              if(prefix) ch.prefix = prefix\n              ch.key = prefix + ch.key\n              if(h.safe && h.test(String(ch.key))) {\n                //this usually means a stack overflow.\n                throw new Error('prehook cannot insert into own range')\n              }\n              var ke = ch.keyEncoding   || getKeyEncoding(ch.prefix)\n              var ve = ch.valueEncoding || getValueEncoding(ch.prefix)\n              if(ke) ch.keyEncoding = ke\n              if(ve) ch.valueEncoding = ve\n\n              b.push(ch)\n              hook(ch, b.length - 1)\n              return this\n            },\n            put: function (ch, db) {\n              if('object' === typeof ch) ch.type = 'put'\n              return this.add(ch, db)\n            },\n            del: function (ch, db) {\n              if('object' === typeof ch) ch.type = 'del'\n              return this.add(ch, db)\n            },\n            veto: function () {\n              return this.add(false)\n            }\n          }\n          h.hook.call(context, e, context.add, b)\n        }\n      })\n    })\n    } catch (err) {\n      return (cb || opts)(err)\n    }\n    b = b.filter(function (e) {\n      return e && e.type //filter out empty items\n    })\n\n    if(b.length == 1 && !isBatch) {\n      var change = b[0]\n      return change.type == 'put' \n        ? put.call(db, change.key, change.value, opts, cb) \n        : del.call(db, change.key, opts, cb)  \n    }\n    return batch.call(db, b, opts, cb)\n  }\n\n  db.put = function (key, value, opts, cb ) {\n    var batch = [{key: key, value: value, type: 'put'}]\n    return callHooks(false, batch, opts, cb)\n  }\n\n  db.del = function (key, opts, cb) {\n    var batch = [{key: key, type: 'del'}]\n    return callHooks(false, batch, opts, cb)\n  }\n\n  db.batch = function (batch, opts, cb) {\n    return callHooks(true, batch, opts, cb)\n  }\n}\n","module.exports = Level\n\nvar IDB = require('idb-wrapper')\nvar AbstractLevelDOWN = require('abstract-leveldown').AbstractLevelDOWN\nvar util = require('util')\nvar Iterator = require('./iterator')\nvar isBuffer = require('isbuffer')\nvar xtend = require('xtend')\nvar toBuffer = require('typedarray-to-buffer')\n\nfunction Level(location) {\n  if (!(this instanceof Level)) return new Level(location)\n  if (!location) throw new Error(\"constructor requires at least a location argument\")\n  this.IDBOptions = {}\n  this.location = location\n}\n\nutil.inherits(Level, AbstractLevelDOWN)\n\nLevel.prototype._open = function(options, callback) {\n  var self = this\n    \n  var idbOpts = {\n    storeName: this.location,\n    autoIncrement: false,\n    keyPath: null,\n    onStoreReady: function () {\n      callback && callback(null, self.idb)\n    }, \n    onError: function(err) {\n      callback && callback(err)\n    }\n  }\n  \n  xtend(idbOpts, options)\n  this.IDBOptions = idbOpts\n  this.idb = new IDB(idbOpts)\n}\n\nLevel.prototype._get = function (key, options, callback) {\n  this.idb.get(key, function (value) {\n    if (value === undefined) {\n      // 'NotFound' error, consistent with LevelDOWN API\n      return callback(new Error('NotFound'))\n    }\n    // by default return buffers, unless explicitly told not to\n    var asBuffer = true\n    if (options.asBuffer === false) asBuffer = false\n    if (options.raw) asBuffer = false\n    if (asBuffer) {\n      if (value instanceof Uint8Array) value = toBuffer(value)\n      else value = new Buffer(String(value))\n    }\n    return callback(null, value, key)\n  }, callback)\n}\n\nLevel.prototype._del = function(id, options, callback) {\n  this.idb.remove(id, callback, callback)\n}\n\nLevel.prototype._put = function (key, value, options, callback) {\n  if (value instanceof ArrayBuffer) {\n    value = toBuffer(new Uint8Array(value))\n  }\n  var obj = this.convertEncoding(key, value, options)\n  if (Buffer.isBuffer(obj.value)) {\n    if (typeof value.toArrayBuffer === 'function') {\n      obj.value = new Uint8Array(value.toArrayBuffer())\n    } else {\n      obj.value = new Uint8Array(value)\n    }\n  }\n  this.idb.put(obj.key, obj.value, function() { callback() }, callback)\n}\n\nLevel.prototype.convertEncoding = function(key, value, options) {\n  if (options.raw) return {key: key, value: value}\n  if (value) {\n    var stringed = value.toString()\n    if (stringed === 'NaN') value = 'NaN'\n  }\n  var valEnc = options.valueEncoding\n  var obj = {key: key, value: value}\n  if (value && (!valEnc || valEnc !== 'binary')) {\n    if (typeof obj.value !== 'object') {\n      obj.value = stringed\n    }\n  }\n  return obj\n}\n\nLevel.prototype.iterator = function (options) {\n  if (typeof options !== 'object') options = {}\n  return new Iterator(this.idb, options)\n}\n\nLevel.prototype._batch = function (array, options, callback) {\n  var op\n  var i\n  var k\n  var copiedOp\n  var currentOp\n  var modified = []\n  \n  if (array.length === 0) return setTimeout(callback, 0)\n  \n  for (i = 0; i < array.length; i++) {\n    copiedOp = {}\n    currentOp = array[i]\n    modified[i] = copiedOp\n    \n    var converted = this.convertEncoding(currentOp.key, currentOp.value, options)\n    currentOp.key = converted.key\n    currentOp.value = converted.value\n\n    for (k in currentOp) {\n      if (k === 'type' && currentOp[k] == 'del') {\n        copiedOp[k] = 'remove'\n      } else {\n        copiedOp[k] = currentOp[k]\n      }\n    }\n  }\n\n  return this.idb.batch(modified, function(){ callback() }, callback)\n}\n\nLevel.prototype._close = function (callback) {\n  this.idb.db.close()\n  callback()\n}\n\nLevel.prototype._approximateSize = function (start, end, callback) {\n  var err = new Error('Not implemented')\n  if (callback)\n    return callback(err)\n\n  throw err\n}\n\nLevel.prototype._isBuffer = function (obj) {\n  return Buffer.isBuffer(obj)\n}\n\nLevel.destroy = function (db, callback) {\n  if (typeof db === 'object') {\n    var prefix = db.IDBOptions.storePrefix || 'IDBWrapper-'\n    var dbname = db.location\n  } else {\n    var prefix = 'IDBWrapper-'\n    var dbname = db\n  }\n  var request = indexedDB.deleteDatabase(prefix + dbname)\n  request.onsuccess = function() {\n    callback()\n  }\n  request.onerror = function(err) {\n    callback(err)\n  }\n}\n\nvar checkKeyValue = Level.prototype._checkKeyValue = function (obj, type) {\n  if (obj === null || obj === undefined)\n    return new Error(type + ' cannot be `null` or `undefined`')\n  if (obj === null || obj === undefined)\n    return new Error(type + ' cannot be `null` or `undefined`')\n  if (isBuffer(obj) && obj.byteLength === 0)\n    return new Error(type + ' cannot be an empty ArrayBuffer')\n  if (String(obj) === '')\n    return new Error(type + ' cannot be an empty String')\n  if (obj.length === 0)\n    return new Error(type + ' cannot be an empty Array')\n}\n","var util = require('util')\nvar AbstractIterator  = require('abstract-leveldown').AbstractIterator\nvar ltgt = require('ltgt')\n\nmodule.exports = Iterator\n\nfunction Iterator (db, options) {\n  if (!options) options = {}\n  this.options = options\n  AbstractIterator.call(this, db)\n  this._order = options.reverse ? 'DESC': 'ASC'\n  this._limit = options.limit\n  this._count = 0\n  this._done  = false\n  var lower = ltgt.lowerBound(options)\n  var upper = ltgt.upperBound(options)\n  try {\n    this._keyRange = lower || upper ? this.db.makeKeyRange({\n      lower: lower,\n      upper: upper,\n      excludeLower: ltgt.lowerBoundExclusive(options),\n      excludeUpper: ltgt.upperBoundExclusive(options)\n    }) : null\n  } catch (e) {\n    // The lower key is greater than the upper key.\n    // IndexedDB throws an error, but we'll just return 0 results.\n    this._keyRangeError = true\n  }\n  this.callback = null\n}\n\nutil.inherits(Iterator, AbstractIterator)\n\nIterator.prototype.createIterator = function() {\n  var self = this\n\n  self.iterator = self.db.iterate(function () {\n    self.onItem.apply(self, arguments)\n  }, {\n    keyRange: self._keyRange,\n    autoContinue: false,\n    order: self._order,\n    onError: function(err) { console.log('horrible error', err) },\n  })\n}\n\n// TODO the limit implementation here just ignores all reads after limit has been reached\n// it should cancel the iterator instead but I don't know how\nIterator.prototype.onItem = function (value, cursor, cursorTransaction) {\n  if (!cursor && this.callback) {\n    this.callback()\n    this.callback = false\n    return\n  }\n  var shouldCall = true\n\n  if (!!this._limit && this._limit > 0 && this._count++ >= this._limit)\n    shouldCall = false\n\n  if (shouldCall) this.callback(false, cursor.key, cursor.value)\n  if (cursor) cursor['continue']()\n}\n\nIterator.prototype._next = function (callback) {\n  if (!callback) return new Error('next() requires a callback argument')\n  if (this._keyRangeError) return callback()\n  if (!this._started) {\n    this.createIterator()\n    this._started = true\n  }\n  this.callback = callback\n}\n","var hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nvar isFunction = function (fn) {\n\tvar isFunc = (typeof fn === 'function' && !(fn instanceof RegExp)) || toString.call(fn) === '[object Function]';\n\tif (!isFunc && typeof window !== 'undefined') {\n\t\tisFunc = fn === window.setTimeout || fn === window.alert || fn === window.confirm || fn === window.prompt;\n\t}\n\treturn isFunc;\n};\n\nmodule.exports = function forEach(obj, fn) {\n\tif (!isFunction(fn)) {\n\t\tthrow new TypeError('iterator must be a function');\n\t}\n\tvar i, k,\n\t\tisString = typeof obj === 'string',\n\t\tl = obj.length,\n\t\tcontext = arguments.length > 2 ? arguments[2] : null;\n\tif (l === +l) {\n\t\tfor (i = 0; i < l; i++) {\n\t\t\tif (context === null) {\n\t\t\t\tfn(isString ? obj.charAt(i) : obj[i], i, obj);\n\t\t\t} else {\n\t\t\t\tfn.call(context, isString ? obj.charAt(i) : obj[i], i, obj);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (k in obj) {\n\t\t\tif (hasOwn.call(obj, k)) {\n\t\t\t\tif (context === null) {\n\t\t\t\t\tfn(obj[k], k, obj);\n\t\t\t\t} else {\n\t\t\t\t\tfn.call(context, obj[k], k, obj);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n","module.exports = Object.keys || require('./shim');\n\n","var toString = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toString.call(value);\n\tvar isArguments = str === '[object Arguments]';\n\tif (!isArguments) {\n\t\tisArguments = str !== '[object Array]'\n\t\t\t&& value !== null\n\t\t\t&& typeof value === 'object'\n\t\t\t&& typeof value.length === 'number'\n\t\t\t&& value.length >= 0\n\t\t\t&& toString.call(value.callee) === '[object Function]';\n\t}\n\treturn isArguments;\n};\n\n","(function () {\n\t\"use strict\";\n\n\t// modified from https://github.com/kriskowal/es5-shim\n\tvar has = Object.prototype.hasOwnProperty,\n\t\ttoString = Object.prototype.toString,\n\t\tforEach = require('./foreach'),\n\t\tisArgs = require('./isArguments'),\n\t\thasDontEnumBug = !({'toString': null}).propertyIsEnumerable('toString'),\n\t\thasProtoEnumBug = (function () {}).propertyIsEnumerable('prototype'),\n\t\tdontEnums = [\n\t\t\t\"toString\",\n\t\t\t\"toLocaleString\",\n\t\t\t\"valueOf\",\n\t\t\t\"hasOwnProperty\",\n\t\t\t\"isPrototypeOf\",\n\t\t\t\"propertyIsEnumerable\",\n\t\t\t\"constructor\"\n\t\t],\n\t\tkeysShim;\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object',\n\t\t\tisFunction = toString.call(object) === '[object Function]',\n\t\t\tisArguments = isArgs(object),\n\t\t\ttheKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError(\"Object.keys called on a non-object\");\n\t\t}\n\n\t\tif (isArguments) {\n\t\t\tforEach(object, function (value) {\n\t\t\t\ttheKeys.push(value);\n\t\t\t});\n\t\t} else {\n\t\t\tvar name,\n\t\t\t\tskipProto = hasProtoEnumBug && isFunction;\n\n\t\t\tfor (name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(name);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar ctor = object.constructor,\n\t\t\t\tskipConstructor = ctor && ctor.prototype === object;\n\n\t\t\tforEach(dontEnums, function (dontEnum) {\n\t\t\t\tif (!(skipConstructor && dontEnum === 'constructor') && has.call(object, dontEnum)) {\n\t\t\t\t\ttheKeys.push(dontEnum);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn theKeys;\n\t};\n\n\tmodule.exports = keysShim;\n}());\n\n","module.exports = hasKeys\n\nfunction hasKeys(source) {\n    return source !== null &&\n        (typeof source === \"object\" ||\n        typeof source === \"function\")\n}\n","var Keys = require(\"object-keys\")\nvar hasKeys = require(\"./has-keys\")\n\nmodule.exports = extend\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        if (!hasKeys(source)) {\n            continue\n        }\n\n        var keys = Keys(source)\n\n        for (var j = 0; j < keys.length; j++) {\n            var name = keys[j]\n            target[name] = source[name]\n        }\n    }\n\n    return target\n}\n","var fixRange = require('level-fix-range')\n//get the first/last record in a range\n\nexports = module.exports = peek\nexports.first    = first\nexports.last     = last\n\nfunction once(emitter, events, listener) {\n  var remove = []\n  events.forEach(function (e) {\n    function onEvent (arg) {\n      if(listener(e, arg) === false) return\n      remove.forEach(function (r) {\n        r()\n      })\n    }\n    emitter.on(e, onEvent)\n    remove.push(function () {\n      emitter.removeListener(e, onEvent)\n    })\n  })\n  return emitter\n}\n\n\nfunction peek (db, opts, cb) {\n  opts.limit = opts.reverse ? 2 : 1\n  var stream = once(db.createReadStream(opts), \n    ['data', 'error', 'end'],\n    function (event, data) {\n      if(opts.reverse && data && opts.start \n        && (data.key.toString() > opts.start))\n        return false\n      if(event == 'error') cb(data)\n      else if(event == 'end') cb(new Error('range not found'), null, null)\n      else cb(null, data.key, data.value)\n    })\n}\n\nfunction first (db, opts, cb) {\n  if (!cb) {\n    cb = opts;\n    opts = {};\n  }\n  opts.reverse = false\n  return peek(db, fixRange(opts), cb)  \n}\n\n//SO, this is pretty horrible,\n//but it's works around an issue here\n//https://github.com/rvagg/node-levelup/issues/110\n\nfunction last (db, opts, cb) {\n  if (!cb) {\n    cb = opts;\n    opts = {};\n  }\n  var start = opts.start\n  opts.reverse = true\n  return peek(db, fixRange(opts), function (err, key, value) {\n    if(err) {\n      var _start = opts.start\n      opts.start = null\n      peek (db, opts, function (_, key, value) {\n        if(!key) return cb(err, null, null)\n        var _key = key.toString()\n        if(_key <= _start && (!opts.end || _key >= opts.end))\n          cb(_, key, value)\n        else cb(err, null, null)\n      })\n    }\n    else cb(err, key, value)\n  })\n}\n\n","function addOperation (type, key, value, options) {\n  var operation = {\n    type: type,\n    key: key,\n    value: value,\n    options: options\n  }\n\n  if (options && options.prefix) {\n    operation.prefix = options.prefix\n    delete options.prefix\n  }\n\n  this._operations.push(operation)\n\n  return this\n}\n\nfunction Batch(sdb) {\n  this._operations = []\n  this._sdb = sdb\n\n  this.put = addOperation.bind(this, 'put')\n  this.del = addOperation.bind(this, 'del')\n}\n\nvar B = Batch.prototype\n\n\nB.clear = function () {\n  this._operations = []\n}\n\nB.write = function (cb) {\n  this._sdb.batch(this._operations, cb)\n}\n\nmodule.exports = Batch\n","var EventEmitter = require('events').EventEmitter\nvar next         = process.nextTick\nvar SubDb        = require('./sub')\nvar Batch        = require('./batch')\nvar fixRange     = require('level-fix-range')\n\nvar Hooks   = require('level-hooks')\n\nmodule.exports   = function (_db, options) {\n  function DB () {}\n  DB.prototype = _db\n  var db = new DB()\n\n  if (db.sublevel) return db\n\n  options = options || {}\n\n  //use \\xff (255) as the seperator,\n  //so that sections of the database will sort after the regular keys\n  var sep = options.sep = options.sep || '\\xff'\n  db._options = options\n\n  Hooks(db)\n\n  db.sublevels = {}\n\n  db.sublevel = function (prefix, options) {\n    if(db.sublevels[prefix])\n      return db.sublevels[prefix]\n    return new SubDb(db, prefix, options || this._options)\n  }\n\n  db.methods = {}\n\n  db.prefix = function (key) {\n    return '' + (key || '')\n  }\n\n  db.pre = function (range, hook) {\n    if(!hook)\n      hook = range, range = {\n        max  : sep\n      }\n    return db.hooks.pre(range, hook)\n  }\n\n  db.post = function (range, hook) {\n    if(!hook)\n      hook = range, range = {\n        max : sep\n      }\n    return db.hooks.post(range, hook)\n  }\n\n  function safeRange(fun) {\n    return function (opts) {\n      opts = opts || {}\n      opts = fixRange(opts)\n\n      if(opts.reverse) opts.start = opts.start || sep\n      else             opts.end   = opts.end || sep\n\n      return fun.call(db, opts)\n    }\n  }\n\n  db.readStream =\n  db.createReadStream  = safeRange(db.createReadStream)\n  db.keyStream =\n  db.createKeyStream   = safeRange(db.createKeyStream)\n  db.valuesStream =\n  db.createValueStream = safeRange(db.createValueStream)\n\n  var batch = db.batch\n  db.batch = function (changes, opts, cb) {\n    if(!Array.isArray(changes))\n      return new Batch(db)\n    changes.forEach(function (e) {\n      if(e.prefix) {\n        if('function' === typeof e.prefix.prefix)\n          e.key = e.prefix.prefix(e.key)\n        else if('string'  === typeof e.prefix)\n          e.key = e.prefix + e.key\n      }\n    })\n    batch.call(db, changes, opts, cb)\n  }\n  return db\n}\n\n","'use strict';\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n// shim for Node's 'util' package\n// DO NOT REMOVE THIS! It is required for compatibility with EnderJS (http://enderjs.com/).\nvar util = {\n  isArray: function (ar) {\n    return Array.isArray(ar) || (typeof ar === 'object' && objectToString(ar) === '[object Array]');\n  },\n  isDate: function (d) {\n    return typeof d === 'object' && objectToString(d) === '[object Date]';\n  },\n  isRegExp: function (re) {\n    return typeof re === 'object' && objectToString(re) === '[object RegExp]';\n  },\n  getRegExpFlags: function (re) {\n    var flags = '';\n    re.global && (flags += 'g');\n    re.ignoreCase && (flags += 'i');\n    re.multiline && (flags += 'm');\n    return flags;\n  }\n};\n\n\nif (typeof module === 'object')\n  module.exports = clone;\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n*/\n\nfunction clone(parent, circular, depth, prototype) {\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth == 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (util.isArray(parent)) {\n      child = [];\n    } else if (util.isRegExp(parent)) {\n      child = new RegExp(parent.source, util.getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (util.isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      child = new Buffer(parent.length);\n      parent.copy(child);\n      return child;\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n      \n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n","var clone = require('clone')\n\nmodule.exports = \nfunction fixRange(opts) {\n  opts = clone(opts)\n\n  var reverse = opts.reverse\n  var end     = opts.max || opts.end\n  var start   = opts.min || opts.start\n\n  var range = [start, end]\n  if(start != null && end != null)\n    range.sort()\n  if(reverse)\n    range = range.reverse()\n\n  opts.start   = range[0]\n  opts.end     = range[1]\n\n  delete opts.min\n  delete opts.max\n\n  return opts\n}\n","module.exports = Object.keys || require('./shim');\n\n","(function () {\n\t\"use strict\";\n\n\t// modified from https://github.com/kriskowal/es5-shim\n\tvar has = Object.prototype.hasOwnProperty,\n\t\tis = require('is'),\n\t\tforEach = require('foreach'),\n\t\thasDontEnumBug = !({'toString': null}).propertyIsEnumerable('toString'),\n\t\tdontEnums = [\n\t\t\t\"toString\",\n\t\t\t\"toLocaleString\",\n\t\t\t\"valueOf\",\n\t\t\t\"hasOwnProperty\",\n\t\t\t\"isPrototypeOf\",\n\t\t\t\"propertyIsEnumerable\",\n\t\t\t\"constructor\"\n\t\t],\n\t\tkeysShim;\n\n\tkeysShim = function keys(object) {\n\t\tif (!is.object(object) && !is.array(object)) {\n\t\t\tthrow new TypeError(\"Object.keys called on a non-object\");\n\t\t}\n\n\t\tvar name, theKeys = [];\n\t\tfor (name in object) {\n\t\t\tif (has.call(object, name)) {\n\t\t\t\ttheKeys.push(name);\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tforEach(dontEnums, function (dontEnum) {\n\t\t\t\tif (has.call(object, dontEnum)) {\n\t\t\t\t\ttheKeys.push(dontEnum);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn theKeys;\n\t};\n\n\tmodule.exports = keysShim;\n}());\n\n","module.exports = hasKeys\n\nfunction hasKeys(source) {\n    return source !== null &&\n        (typeof source === \"object\" ||\n        typeof source === \"function\")\n}\n","var Keys = require(\"object-keys\")\nvar hasKeys = require(\"./has-keys\")\n\nmodule.exports = extend\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        if (!hasKeys(source)) {\n            continue\n        }\n\n        var keys = Keys(source)\n\n        for (var j = 0; j < keys.length; j++) {\n            var name = keys[j]\n            target[name] = source[name]\n        }\n    }\n\n    return target\n}\n","var EventEmitter = require('events').EventEmitter\nvar inherits     = require('util').inherits\nvar ranges       = require('string-range')\nvar fixRange     = require('level-fix-range')\nvar xtend        = require('xtend')\nvar Batch        = require('./batch')\n\ninherits(SubDB, EventEmitter)\n\nfunction SubDB (db, prefix, options) {\n  if('string' === typeof options) {\n    console.error('db.sublevel(name, seperator<string>) is depreciated')\n    console.error('use db.sublevel(name, {sep: separator})) if you must')\n    options = {sep: options}\n  }\n  if(!(this instanceof SubDB)) return new SubDB(db, prefix, options)\n  if(!db)     throw new Error('must provide db')\n  if(!prefix) throw new Error('must provide prefix')\n\n  options = options || {}\n  options.sep = options.sep || '\\xff'\n\n  this._parent = db\n  this._options = options\n  this.options = options\n  this._prefix = prefix\n  this._root = root(this)\n  db.sublevels[prefix] = this\n  this.sublevels = {}\n  this.methods = {}\n  var self = this\n  this.hooks = {\n    pre: function () {\n      return self.pre.apply(self, arguments)\n    },\n    post: function () {\n      return self.post.apply(self, arguments)\n    }\n  }\n}\n\nvar SDB = SubDB.prototype\n\nSDB._key = function (key) {\n  var sep = this._options.sep\n  return sep\n    + this._prefix\n    + sep\n    + key\n}\n\nSDB._getOptsAndCb = function (opts, cb) {\n  if (typeof opts == 'function') {\n    cb = opts\n    opts = {}\n  }\n  return { opts: xtend(opts, this._options), cb: cb }\n}\n\nSDB.sublevel = function (prefix, options) {\n  if(this.sublevels[prefix])\n    return this.sublevels[prefix]\n  return new SubDB(this, prefix, options || this._options)\n}\n\nSDB.put = function (key, value, opts, cb) {\n  var res = this._getOptsAndCb(opts, cb)\n  this._root.put(this.prefix(key), value, res.opts, res.cb)\n}\n\nSDB.get = function (key, opts, cb) {\n  var res = this._getOptsAndCb(opts, cb)\n  this._root.get(this.prefix(key), res.opts, res.cb)\n}\n\nSDB.del = function (key, opts, cb) {\n  var res = this._getOptsAndCb(opts, cb)\n  this._root.del(this.prefix(key), res.opts, res.cb)\n}\n\nSDB.batch = function (changes, opts, cb) {\n  if(!Array.isArray(changes))\n    return new Batch(this)\n  var self = this,\n      res = this._getOptsAndCb(opts, cb)\n  changes.forEach(function (ch) {\n\n    //OH YEAH, WE NEED TO VALIDATE THAT UPDATING THIS KEY/PREFIX IS ALLOWED\n    if('string' === typeof ch.prefix)\n      ch.key = ch.prefix + ch.key\n    else\n      ch.key = (ch.prefix || self).prefix(ch.key)\n\n    if(ch.prefix) ch.prefix = null\n  })\n  this._root.batch(changes, res.opts, res.cb)\n}\n\nSDB._getKeyEncoding = function () {\n  if(this.options.keyEncoding)\n    return this.options.keyEncoding\n  if(this._parent && this._parent._getKeyEncoding)\n    return this._parent._getKeyEncoding()\n}\n\nSDB._getValueEncoding = function () {\n  if(this.options.valueEncoding)\n    return this.options.valueEncoding\n  if(this._parent && this._parent._getValueEncoding)\n    return this._parent._getValueEncoding()\n}\n\nSDB.prefix = function (key) {\n  var sep = this._options.sep\n  return this._parent.prefix() + sep + this._prefix + sep + (key || '')\n}\n\nSDB.keyStream =\nSDB.createKeyStream = function (opts) {\n  opts = opts || {}\n  opts.keys = true\n  opts.values = false\n  return this.createReadStream(opts)\n}\n\nSDB.valueStream =\nSDB.createValueStream = function (opts) {\n  opts = opts || {}\n  opts.keys = false\n  opts.values = true\n  opts.keys = false\n  return this.createReadStream(opts)\n}\n\nfunction selectivelyMerge(_opts, opts) {\n  [ 'valueEncoding'\n  , 'encoding'\n  , 'keyEncoding'\n  , 'reverse'\n  , 'values'\n  , 'keys'\n  , 'limit'\n  , 'fillCache'\n  ]\n  .forEach(function (k) {\n    if (opts.hasOwnProperty(k)) _opts[k] = opts[k]\n  })\n}\n\nSDB.readStream =\nSDB.createReadStream = function (opts) {\n  opts = opts || {}\n  var r = root(this)\n  var p = this.prefix()\n\n  var _opts = ranges.prefix(opts, p)\n  selectivelyMerge(_opts, xtend(opts, this._options))\n\n  var s = r.createReadStream(_opts)\n\n  if(_opts.values === false) {\n    var read = s.read\n    if (read) {\n      s.read = function (size) {\n        var val = read.call(this, size)\n        if (val) val = val.substring(p.length)\n        return val\n      }\n    } else {\n      var emit = s.emit\n      s.emit = function (event, val) {\n        if(event === 'data') {\n          emit.call(this, 'data', val.substring(p.length))\n        } else\n          emit.call(this, event, val)\n      }\n    }\n    return s\n  } else if(_opts.keys === false)\n    return s\n  else {\n    var read = s.read\n    if (read) {\n      s.read = function (size) {\n        var d = read.call(this, size)\n        if (d) d.key = d.key.substring(p.length)\n        return d\n      }\n    } else {\n      s.on('data', function (d) {\n        //mutate the prefix!\n        //this doesn't work for createKeyStream admittedly.\n        d.key = d.key.substring(p.length)\n      })\n    }\n    return s\n  }\n}\n\n\nSDB.writeStream =\nSDB.createWriteStream = function () {\n  var r = root(this)\n  var p = this.prefix()\n  var ws = r.createWriteStream.apply(r, arguments)\n  var write = ws.write\n\n  var encoding = this._options.encoding\n  var valueEncoding = this._options.valueEncoding\n  var keyEncoding = this._options.keyEncoding\n\n  // slight optimization, if no encoding was specified at all,\n  // which will be the case most times, make write not check at all\n  var nocheck = !encoding && !valueEncoding && !keyEncoding\n\n  ws.write = nocheck\n    ? function (data) {\n        data.key = p + data.key\n        return write.call(ws, data)\n      }\n    : function (data) {\n        data.key = p + data.key\n\n        // not merging all options here since this happens on every write and things could get slowed down\n        // at this point we only consider encoding important to propagate\n        if (encoding && typeof data.encoding === 'undefined')\n          data.encoding = encoding\n        if (valueEncoding && typeof data.valueEncoding === 'undefined')\n          data.valueEncoding = valueEncoding\n        if (keyEncoding && typeof data.keyEncoding === 'undefined')\n          data.keyEncoding = keyEncoding\n\n        return write.call(ws, data)\n      }\n  return ws\n}\n\nSDB.approximateSize = function () {\n  var r = root(db)\n  return r.approximateSize.apply(r, arguments)\n}\n\nfunction root(db) {\n  if(!db._parent) return db\n  return root(db._parent)\n}\n\nSDB.pre = function (range, hook) {\n  if(!hook) hook = range, range = null\n  range = ranges.prefix(range, this.prefix(), this._options.sep)\n  var r = root(this._parent)\n  var p = this.prefix()\n  return r.hooks.pre(fixRange(range), function (ch, add, batch) {\n    hook({\n      key: ch.key.substring(p.length),\n      value: ch.value,\n      type: ch.type\n    }, function (ch, _p) {\n      //maybe remove the second add arg now\n      //that op can have prefix?\n      add(ch, ch.prefix ? _p : (_p || p))\n    }, batch)\n  })\n}\n\nSDB.post = function (range, hook) {\n  if(!hook) hook = range, range = null\n  var r = root(this._parent)\n  var p = this.prefix()\n  range = ranges.prefix(range, p, this._options.sep)\n  return r.hooks.post(fixRange(range), function (data) {\n    hook({key: data.key.substring(p.length), value: data.value, type: data.type})\n  })\n}\n\nvar exports = module.exports = SubDB\n\n","/* Copyright (c) 2012-2014 LevelUP contributors\n * See list at <https://github.com/rvagg/node-levelup#contributing>\n * MIT License\n * <https://github.com/rvagg/node-levelup/blob/master/LICENSE.md>\n */\n\nvar util          = require('./util')\n  , WriteError    = require('./errors').WriteError\n\n  , getOptions    = util.getOptions\n  , dispatchError = util.dispatchError\n\nfunction Batch (levelup) {\n  this._levelup = levelup\n  this.batch = levelup.db.batch()\n  this.ops = []\n}\n\nBatch.prototype.put = function (key_, value_, options) {\n  options = getOptions(this._levelup, options)\n\n  var key   = util.encodeKey(key_, options)\n    , value = util.encodeValue(value_, options)\n\n  try {\n    this.batch.put(key, value)\n  } catch (e) {\n    throw new WriteError(e)\n  }\n  this.ops.push({ type : 'put', key : key, value : value })\n\n  return this\n}\n\nBatch.prototype.del = function (key_, options) {\n  options = getOptions(this._levelup, options)\n\n  var key = util.encodeKey(key_, options)\n\n  try {\n    this.batch.del(key)\n  } catch (err) {\n    throw new WriteError(err)\n  }\n  this.ops.push({ type : 'del', key : key })\n\n  return this\n}\n\nBatch.prototype.clear = function () {\n  try {\n    this.batch.clear()\n  } catch (err) {\n    throw new WriteError(err)\n  }\n\n  this.ops = []\n  return this\n}\n\nBatch.prototype.write = function (callback) {\n  var levelup = this._levelup\n    , ops     = this.ops\n\n  try {\n    this.batch.write(function (err) {\n      if (err)\n        return dispatchError(levelup, new WriteError(err), callback)\n      levelup.emit('batch', ops)\n      if (callback)\n        callback()\n    })\n  } catch (err) {\n    throw new WriteError(err)\n  }\n}\n\nmodule.exports = Batch\n","/* Copyright (c) 2012-2014 LevelUP contributors\n * See list at <https://github.com/rvagg/node-levelup#contributing>\n * MIT License\n * <https://github.com/rvagg/node-levelup/blob/master/LICENSE.md>\n */\n\nvar createError   = require('errno').create\n  , LevelUPError  = createError('LevelUPError')\n  , NotFoundError = createError('NotFoundError', LevelUPError)\n\nNotFoundError.prototype.notFound = true\nNotFoundError.prototype.status   = 404\n\nmodule.exports = {\n    LevelUPError        : LevelUPError\n  , InitializationError : createError('InitializationError', LevelUPError)\n  , OpenError           : createError('OpenError', LevelUPError)\n  , ReadError           : createError('ReadError', LevelUPError)\n  , WriteError          : createError('WriteError', LevelUPError)\n  , NotFoundError       : NotFoundError\n  , EncodingError       : createError('EncodingError', LevelUPError)\n}\n","/* Copyright (c) 2012-2014 LevelUP contributors\n * See list at <https://github.com/rvagg/node-levelup#contributing>\n * MIT License\n * <https://github.com/rvagg/node-levelup/blob/master/LICENSE.md>\n */\n\nvar EventEmitter   = require('events').EventEmitter\n  , inherits       = require('util').inherits\n  , extend         = require('xtend')\n  , prr            = require('prr')\n  , DeferredLevelDOWN = require('deferred-leveldown')\n\n  , WriteError     = require('./errors').WriteError\n  , ReadError      = require('./errors').ReadError\n  , NotFoundError  = require('./errors').NotFoundError\n  , OpenError      = require('./errors').OpenError\n  , EncodingError  = require('./errors').EncodingError\n  , InitializationError = require('./errors').InitializationError\n\n  , ReadStream     = require('./read-stream')\n  , WriteStream    = require('./write-stream')\n  , util           = require('./util')\n  , Batch          = require('./batch')\n\n  , getOptions     = util.getOptions\n  , defaultOptions = util.defaultOptions\n  , getLevelDOWN   = util.getLevelDOWN\n  , dispatchError  = util.dispatchError\n\nfunction getCallback (options, callback) {\n  return typeof options == 'function' ? options : callback\n}\n\n// Possible LevelUP#_status values:\n//  - 'new'     - newly created, not opened or closed\n//  - 'opening' - waiting for the database to be opened, post open()\n//  - 'open'    - successfully opened the database, available for use\n//  - 'closing' - waiting for the database to be closed, post close()\n//  - 'closed'  - database has been successfully closed, should not be\n//                 used except for another open() operation\n\nfunction LevelUP (location, options, callback) {\n  if (!(this instanceof LevelUP))\n    return new LevelUP(location, options, callback)\n\n  var error\n\n  EventEmitter.call(this)\n  this.setMaxListeners(Infinity)\n\n  if (typeof location == 'function') {\n    options = typeof options == 'object' ? options : {}\n    options.db = location\n    location = null\n  } else if (typeof location == 'object' && typeof location.db == 'function') {\n    options = location\n    location = null\n  }\n\n  if (typeof options == 'function') {\n    callback = options\n    options  = {}\n  }\n\n  if ((!options || typeof options.db != 'function') && typeof location != 'string') {\n    error = new InitializationError(\n        'Must provide a location for the database')\n    if (callback) {\n      return process.nextTick(function () {\n        callback(error)\n      })\n    }\n    throw error\n  }\n\n  options      = getOptions(this, options)\n  this.options = extend(defaultOptions, options)\n  this._status = 'new'\n  // set this.location as enumerable but not configurable or writable\n  prr(this, 'location', location, 'e')\n\n  this.open(callback)\n}\n\ninherits(LevelUP, EventEmitter)\n\nLevelUP.prototype.open = function (callback) {\n  var self = this\n    , dbFactory\n    , db\n\n  if (this.isOpen()) {\n    if (callback)\n      process.nextTick(function () { callback(null, self) })\n    return this\n  }\n\n  if (this._isOpening()) {\n    return callback && this.once(\n        'open'\n      , function () { callback(null, self) }\n    )\n  }\n\n  this.emit('opening')\n\n  this._status = 'opening'\n  this.db      = new DeferredLevelDOWN(this.location)\n  dbFactory    = this.options.db || getLevelDOWN()\n  db           = dbFactory(this.location)\n\n  db.open(this.options, function (err) {\n    if (err) {\n      return dispatchError(self, new OpenError(err), callback)\n    } else {\n      self.db.setDb(db)\n      self.db = db\n      self._status = 'open'\n      if (callback)\n        callback(null, self)\n      self.emit('open')\n      self.emit('ready')\n    }\n  })\n}\n\nLevelUP.prototype.close = function (callback) {\n  var self = this\n\n  if (this.isOpen()) {\n    this._status = 'closing'\n    this.db.close(function () {\n      self._status = 'closed'\n      self.emit('closed')\n      if (callback)\n        callback.apply(null, arguments)\n    })\n    this.emit('closing')\n    this.db = null\n  } else if (this._status == 'closed' && callback) {\n    return process.nextTick(callback)\n  } else if (this._status == 'closing' && callback) {\n    this.once('closed', callback)\n  } else if (this._isOpening()) {\n    this.once('open', function () {\n      self.close(callback)\n    })\n  }\n}\n\nLevelUP.prototype.isOpen = function () {\n  return this._status == 'open'\n}\n\nLevelUP.prototype._isOpening = function () {\n  return this._status == 'opening'\n}\n\nLevelUP.prototype.isClosed = function () {\n  return (/^clos/).test(this._status)\n}\n\nLevelUP.prototype.get = function (key_, options, callback) {\n  var self = this\n    , key\n\n  callback = getCallback(options, callback)\n\n  if (typeof callback != 'function') {\n    return dispatchError(\n        this\n      , new ReadError('get() requires key and callback arguments')\n    )\n  }\n\n  if (!this._isOpening() && !this.isOpen()) {\n    return dispatchError(\n        this\n      , new ReadError('Database is not open')\n      , callback\n    )\n  }\n\n  options = util.getOptions(this, options)\n  key = util.encodeKey(key_, options)\n\n  options.asBuffer = util.isValueAsBuffer(options)\n\n  this.db.get(key, options, function (err, value) {\n    if (err) {\n      if ((/notfound/i).test(err)) {\n        err = new NotFoundError(\n            'Key not found in database [' + key_ + ']', err)\n      } else {\n        err = new ReadError(err)\n      }\n      return dispatchError(self, err, callback)\n    }\n    if (callback) {\n      try {\n        value = util.decodeValue(value, options)\n      } catch (e) {\n        return callback(new EncodingError(e))\n      }\n      callback(null, value)\n    }\n  })\n}\n\nLevelUP.prototype.put = function (key_, value_, options, callback) {\n  var self = this\n    , key\n    , value\n\n  callback = getCallback(options, callback)\n\n  if (key_ === null || key_ === undefined\n        || value_ === null || value_ === undefined) {\n    return dispatchError(\n        this\n       , new WriteError('put() requires key and value arguments')\n       , callback\n    )\n  }\n\n  if (!this._isOpening() && !this.isOpen()) {\n    return dispatchError(\n        this\n      , new WriteError('Database is not open')\n      , callback\n    )\n  }\n\n  options = getOptions(this, options)\n  key     = util.encodeKey(key_, options)\n  value   = util.encodeValue(value_, options)\n\n  this.db.put(key, value, options, function (err) {\n    if (err) {\n      return dispatchError(self, new WriteError(err), callback)\n    } else {\n      self.emit('put', key_, value_)\n      if (callback)\n        callback()\n    }\n  })\n}\n\nLevelUP.prototype.del = function (key_, options, callback) {\n  var self = this\n    , key\n\n  callback = getCallback(options, callback)\n\n  if (key_ === null || key_ === undefined) {\n    return dispatchError(\n        this\n      , new WriteError('del() requires a key argument')\n      , callback\n    )\n  }\n\n  if (!this._isOpening() && !this.isOpen()) {\n    return dispatchError(\n        this\n      , new WriteError('Database is not open')\n      , callback\n    )\n  }\n\n  options = getOptions(this, options)\n  key     = util.encodeKey(key_, options)\n\n  this.db.del(key, options, function (err) {\n    if (err) {\n      return dispatchError(self, new WriteError(err), callback)\n    } else {\n      self.emit('del', key_)\n      if (callback)\n        callback()\n    }\n  })\n}\n\nLevelUP.prototype.batch = function (arr_, options, callback) {\n  var self = this\n    , keyEnc\n    , valueEnc\n    , arr\n\n  if (!arguments.length)\n    return new Batch(this)\n\n  callback = getCallback(options, callback)\n\n  if (!Array.isArray(arr_)) {\n    return dispatchError(\n        this\n      , new WriteError('batch() requires an array argument')\n      , callback\n    )\n  }\n\n  if (!this._isOpening() && !this.isOpen()) {\n    return dispatchError(\n        this\n      , new WriteError('Database is not open')\n      , callback\n    )\n  }\n\n  options  = getOptions(this, options)\n  keyEnc   = options.keyEncoding\n  valueEnc = options.valueEncoding\n\n  arr = arr_.map(function (e) {\n    if (e.type === undefined || e.key === undefined)\n      return {}\n\n    // inherit encoding\n    var kEnc = e.keyEncoding || keyEnc\n      , vEnc = e.valueEncoding || e.encoding || valueEnc\n      , o\n\n    // If we're not dealing with plain utf8 strings or plain\n    // Buffers then we have to do some work on the array to\n    // encode the keys and/or values. This includes JSON types.\n\n    if (kEnc != 'utf8' && kEnc != 'binary'\n        || vEnc != 'utf8' && vEnc != 'binary') {\n      o = {\n          type: e.type\n        , key: util.encodeKey(e.key, options, e)\n      }\n\n      if (e.value !== undefined)\n        o.value = util.encodeValue(e.value, options, e)\n\n      return o\n    } else {\n      return e\n    }\n  })\n\n  this.db.batch(arr, options, function (err) {\n    if (err) {\n      return dispatchError(self, new WriteError(err), callback)\n    } else {\n      self.emit('batch', arr_)\n      if (callback)\n        callback()\n    }\n  })\n}\n\n// DEPRECATED: prefer accessing LevelDOWN for this: db.db.approximateSize()\nLevelUP.prototype.approximateSize = function (start_, end_, callback) {\n  var self = this\n    , start\n    , end\n\n  if (start_ === null || start_ === undefined\n        || end_ === null || end_ === undefined\n        || typeof callback != 'function') {\n    return dispatchError(\n        this\n      , new ReadError('approximateSize() requires start, end and callback arguments')\n      , callback\n    )\n  }\n\n  start = util.encodeKey(start_, this.options)\n  end   = util.encodeKey(end_, this.options)\n\n  if (!this._isOpening() && !this.isOpen()) {\n    return dispatchError(\n        this\n      , new WriteError('Database is not open')\n      , callback\n    )\n  }\n\n  this.db.approximateSize(start, end, function (err, size) {\n    if (err) {\n      return dispatchError(self, new OpenError(err), callback)\n    } else if (callback) {\n      callback(null, size)\n    }\n  })\n}\n\nLevelUP.prototype.readStream =\nLevelUP.prototype.createReadStream = function (options) {\n  var self = this\n  options = extend(this.options, options)\n  return new ReadStream(\n      options\n    , this\n    , function (options) {\n        return self.db.iterator(options)\n      }\n  )\n}\n\nLevelUP.prototype.keyStream =\nLevelUP.prototype.createKeyStream = function (options) {\n  return this.createReadStream(extend(options, { keys: true, values: false }))\n}\n\nLevelUP.prototype.valueStream =\nLevelUP.prototype.createValueStream = function (options) {\n  return this.createReadStream(extend(options, { keys: false, values: true }))\n}\n\nLevelUP.prototype.writeStream =\nLevelUP.prototype.createWriteStream = function (options) {\n  return new WriteStream(extend(options), this)\n}\n\nLevelUP.prototype.toString = function () {\n  return 'LevelUP'\n}\n\nfunction utilStatic (name) {\n  return function (location, callback) {\n    getLevelDOWN()[name](location, callback || function () {})\n  }\n}\n\nmodule.exports         = LevelUP\nmodule.exports.copy    = util.copy\n// DEPRECATED: prefer accessing LevelDOWN for this: require('leveldown').destroy()\nmodule.exports.destroy = utilStatic('destroy')\n// DEPRECATED: prefer accessing LevelDOWN for this: require('leveldown').repair()\nmodule.exports.repair  = utilStatic('repair')\n","/* Copyright (c) 2012-2014 LevelUP contributors\n * See list at <https://github.com/rvagg/node-levelup#contributing>\n * MIT License <https://github.com/rvagg/node-levelup/blob/master/LICENSE.md>\n */\n\n// NOTE: we are fixed to readable-stream@1.0.x for now\n// for pure Streams2 across Node versions\nvar Readable      = require('readable-stream').Readable\n  , inherits      = require('util').inherits\n  , extend        = require('xtend')\n  , EncodingError = require('./errors').EncodingError\n  , util          = require('./util')\n\n  , defaultOptions = { keys: true, values: true }\n\n  , makeKeyValueData = function (key, value) {\n      return {\n          key: util.decodeKey(key, this._options)\n        , value: util.decodeValue(value, this._options)\n      }\n    }\n  , makeKeyData = function (key) {\n      return util.decodeKey(key, this._options)\n    }\n  , makeValueData = function (_, value) {\n      return util.decodeValue(value, this._options)\n    }\n  , makeNoData = function () { return null }\n\nfunction ReadStream (options, db, iteratorFactory) {\n  if (!(this instanceof ReadStream))\n    return new ReadStream(options, db, iteratorFactory)\n\n  Readable.call(this, { objectMode: true, highWaterMark: options.highWaterMark })\n\n  // purely to keep `db` around until we're done so it's not GCed if the user doesn't keep a ref\n  this._db = db\n\n  options = this._options = extend(defaultOptions, options)\n\n  this._keyEncoding   = options.keyEncoding   || options.encoding\n  this._valueEncoding = options.valueEncoding || options.encoding\n\n  if (typeof this._options.start != 'undefined')\n    this._options.start = util.encodeKey(this._options.start, this._options)\n  if (typeof this._options.end != 'undefined')\n    this._options.end = util.encodeKey(this._options.end, this._options)\n  if (typeof this._options.limit != 'number')\n    this._options.limit = -1\n\n  this._options.keyAsBuffer   = util.isKeyAsBuffer(this._options)\n\n  this._options.valueAsBuffer = util.isValueAsBuffer(this._options)\n\n  this._makeData = this._options.keys && this._options.values\n    ? makeKeyValueData : this._options.keys\n      ? makeKeyData : this._options.values\n        ? makeValueData : makeNoData\n\n  var self = this\n  if (!this._db.isOpen()) {\n    this._db.once('ready', function () {\n      if (!self._destroyed) {\n        self._iterator = iteratorFactory(self._options)\n      }\n    })\n  } else\n    this._iterator = iteratorFactory(this._options)\n}\n\ninherits(ReadStream, Readable)\n\nReadStream.prototype._read = function read () {\n  var self = this\n  if (!self._db.isOpen()) {\n    return self._db.once('ready', function () { read.call(self) })\n  }\n  if (self._destroyed)\n    return\n \n  self._iterator.next(function(err, key, value) {\n    if (err || (key === undefined && value === undefined)) {\n      if (!err && !self._destroyed)\n        self.push(null)\n      return self._cleanup(err)\n    }\n\n    try {\n      value = self._makeData(key, value)\n    } catch (e) {\n      return self._cleanup(new EncodingError(e))\n    }\n    if (!self._destroyed)\n      self.push(value)\n  })\n}\n\nReadStream.prototype._cleanup = function (err) {\n  if (this._destroyed)\n    return\n\n  this._destroyed = true\n\n  var self = this\n  if (err)\n    self.emit('error', err)\n\n  if (self._iterator) {\n    self._iterator.end(function () {\n      self._iterator = null\n      self.emit('close')\n    })\n  } else {\n    self.emit('close')\n  }\n}\n\nReadStream.prototype.destroy = function () {\n  this._cleanup()\n}\n\nReadStream.prototype.toString = function () {\n  return 'LevelUP.ReadStream'\n}\n\nmodule.exports = ReadStream\n","/* Copyright (c) 2012-2014 LevelUP contributors\n * See list at <https://github.com/rvagg/node-levelup#contributing>\n * MIT License\n * <https://github.com/rvagg/node-levelup/blob/master/LICENSE.md>\n */\n\nvar extend        = require('xtend')\n  , LevelUPError  = require('./errors').LevelUPError\n\n  , encodingNames = [\n        'hex'\n      , 'utf8'\n      , 'utf-8'\n      , 'ascii'\n      , 'binary'\n      , 'base64'\n      , 'ucs2'\n      , 'ucs-2'\n      , 'utf16le'\n      , 'utf-16le'\n    ]\n\n  , defaultOptions = {\n        createIfMissing : true\n      , errorIfExists   : false\n      , keyEncoding     : 'utf8'\n      , valueEncoding   : 'utf8'\n      , compression     : true\n    }\n\n  , leveldown\n\n  , encodings = (function () {\n      function isBinary (data) {\n        return data === undefined || data === null || Buffer.isBuffer(data)\n      }\n\n      var encodings = {}\n      encodings.utf8 = encodings['utf-8'] = {\n          encode : function (data) {\n            return isBinary(data) ? data : String(data)\n          }\n        , decode : function (data) {\n          return data\n          }\n        , buffer : false\n        , type   : 'utf8'\n      }\n      encodings.json = {\n          encode : JSON.stringify\n        , decode : JSON.parse\n        , buffer : false\n        , type   : 'json'\n      }\n      encodingNames.forEach(function (type) {\n        if (encodings[type])\n          return\n        encodings[type] = {\n            encode : function (data) {\n              return isBinary(data) ? data : new Buffer(data, type)\n            }\n          , decode : function (buffer) {\n              return process.browser ? buffer.toString(type) : buffer;\n            }\n          , buffer : true\n          , type   : type // useful for debugging purposes\n        }\n      })\n      return encodings\n    })()\n\n  , encodingOpts = (function () {\n      var eo = {}\n      encodingNames.forEach(function (e) {\n        eo[e] = { valueEncoding : e }\n      })\n      return eo\n    }())\n\nfunction copy (srcdb, dstdb, callback) {\n  srcdb.readStream()\n    .pipe(dstdb.writeStream())\n    .on('close', callback ? callback : function () {})\n    .on('error', callback ? callback : function (err) { throw err })\n}\n\nfunction getOptions (levelup, options) {\n  var s = typeof options == 'string' // just an encoding\n  if (!s && options && options.encoding && !options.valueEncoding)\n    options.valueEncoding = options.encoding\n  return extend(\n      (levelup && levelup.options) || {}\n    , s ? encodingOpts[options] || encodingOpts[defaultOptions.valueEncoding]\n        : options\n  )\n}\n\nfunction getLevelDOWN () {\n  if (leveldown)\n    return leveldown\n\n  var requiredVersion       = require('../package.json').devDependencies.leveldown\n    , missingLevelDOWNError = 'Could not locate LevelDOWN, try `npm install leveldown`'\n    , leveldownVersion\n\n  try {\n    leveldownVersion = require('leveldown/package').version\n  } catch (e) {\n    throw new LevelUPError(missingLevelDOWNError)\n  }\n\n  if (!require('semver').satisfies(leveldownVersion, requiredVersion)) {\n    throw new LevelUPError(\n        'Installed version of LevelDOWN ('\n      + leveldownVersion\n      + ') does not match required version ('\n      + requiredVersion\n      + ')'\n    )\n  }\n\n  try {\n    return leveldown = require('leveldown')\n  } catch (e) {\n    throw new LevelUPError(missingLevelDOWNError)\n  }\n}\n\nfunction dispatchError (levelup, error, callback) {\n  return typeof callback == 'function'\n    ? callback(error)\n    : levelup.emit('error', error)\n}\n\nfunction getKeyEncoder (options, op) {\n  var type = ((op && op.keyEncoding) || options.keyEncoding) || 'utf8'\n  return encodings[type] || type\n}\n\nfunction getValueEncoder (options, op) {\n  var type = (((op && (op.valueEncoding || op.encoding))\n      || options.valueEncoding || options.encoding)) || 'utf8'\n  return encodings[type] || type\n}\n\nfunction encodeKey (key, options, op) {\n  return getKeyEncoder(options, op).encode(key)\n}\n\nfunction encodeValue (value, options, op) {\n  return getValueEncoder(options, op).encode(value)\n}\n\nfunction decodeKey (key, options) {\n  return getKeyEncoder(options).decode(key)\n}\n\nfunction decodeValue (value, options) {\n  return getValueEncoder(options).decode(value)\n}\n\nfunction isValueAsBuffer (options, op) {\n  return getValueEncoder(options, op).buffer\n}\n\nfunction isKeyAsBuffer (options, op) {\n  return getKeyEncoder(options, op).buffer\n}\n\nmodule.exports = {\n    defaultOptions  : defaultOptions\n  , copy            : copy\n  , getOptions      : getOptions\n  , getLevelDOWN    : getLevelDOWN\n  , dispatchError   : dispatchError\n  , encodeKey       : encodeKey\n  , encodeValue     : encodeValue\n  , isValueAsBuffer : isValueAsBuffer\n  , isKeyAsBuffer   : isKeyAsBuffer\n  , decodeValue     : decodeValue\n  , decodeKey       : decodeKey\n}\n","/* Copyright (c) 2012-2014 LevelUP contributors\n * See list at <https://github.com/rvagg/node-levelup#contributing>\n * MIT License\n * <https://github.com/rvagg/node-levelup/blob/master/LICENSE.md>\n */\n\nvar Stream       = require('stream').Stream\n  , inherits     = require('util').inherits\n  , extend       = require('xtend')\n  , bl           = require('bl')\n\n  , setImmediate = global.setImmediate || process.nextTick\n\n  , getOptions   = require('./util').getOptions\n\n  , defaultOptions = { type: 'put' }\n\nfunction WriteStream (options, db) {\n  if (!(this instanceof WriteStream))\n    return new WriteStream(options, db)\n\n  Stream.call(this)\n  this._options = extend(defaultOptions, getOptions(db, options))\n  this._db      = db\n  this._buffer  = []\n  this._status  = 'init'\n  this._end     = false\n  this.writable = true\n  this.readable = false\n\n  var self = this\n    , ready = function () {\n        if (!self.writable)\n          return\n        self._status = 'ready'\n        self.emit('ready')\n        self._process()\n      }\n\n  if (db.isOpen())\n    setImmediate(ready)\n  else\n    db.once('ready', ready)\n}\n\ninherits(WriteStream, Stream)\n\nWriteStream.prototype.write = function (data) {\n  if (!this.writable)\n    return false\n  this._buffer.push(data)\n  if (this._status != 'init')\n    this._processDelayed()\n  if (this._options.maxBufferLength &&\n      this._buffer.length > this._options.maxBufferLength) {\n    this._writeBlock = true\n    return false\n  }\n  return true\n}\n\nWriteStream.prototype.end = function (data) {\n  var self = this\n  if (data)\n    this.write(data)\n  setImmediate(function () {\n    self._end = true\n    self._process()\n  })\n}\n\nWriteStream.prototype.destroy = function () {\n  this.writable = false\n  this.end()\n}\n\nWriteStream.prototype.destroySoon = function () {\n  this.end()\n}\n\nWriteStream.prototype.add = function (entry) {\n  if (!entry.props)\n    return\n  if (entry.props.Directory)\n    entry.pipe(this._db.writeStream(this._options))\n  else if (entry.props.File || entry.File || entry.type == 'File')\n    this._write(entry)\n  return true\n}\n\nWriteStream.prototype._processDelayed = function () {\n  var self = this\n  setImmediate(function () {\n    self._process()\n  })\n}\n\nWriteStream.prototype._process = function () {\n  var buffer\n    , self = this\n\n    , cb = function (err) {\n        if (!self.writable)\n          return\n        if (self._status != 'closed')\n          self._status = 'ready'\n        if (err) {\n          self.writable = false\n          return self.emit('error', err)\n        }\n        self._process()\n      }\n\n  if (self._status != 'ready' && self.writable) {\n    if (self._buffer.length && self._status != 'closed')\n      self._processDelayed()\n    return\n  }\n\n  if (self._buffer.length && self.writable) {\n    self._status = 'writing'\n    buffer       = self._buffer\n    self._buffer = []\n\n    self._db.batch(buffer.map(function (d) {\n      return {\n          type          : d.type || self._options.type\n        , key           : d.key\n        , value         : d.value\n        , keyEncoding   : d.keyEncoding || self._options.keyEncoding\n        , valueEncoding : d.valueEncoding\n            || d.encoding\n            || self._options.valueEncoding\n      }\n    }), cb)\n\n    if (self._writeBlock) {\n      self._writeBlock = false\n      self.emit('drain')\n    }\n\n    // don't allow close until callback has returned\n    return\n  }\n\n  if (self._end && self._status != 'closed') {\n    self._status  = 'closed'\n    self.writable = false\n    self.emit('close')\n  }\n}\n\nWriteStream.prototype._write = function (entry) {\n  var key = entry.path || entry.props.path\n    , self = this\n\n  if (!key)\n    return\n\n  entry.pipe(bl(function (err, data) {\n    if (err) {\n      self.writable = false\n      return self.emit('error', err)\n    }\n\n    if (self._options.fstreamRoot &&\n        key.indexOf(self._options.fstreamRoot) > -1)\n      key = key.substr(self._options.fstreamRoot.length + 1)\n\n    self.write({ key: key, value: data.slice(0) })\n  }))\n}\n\nWriteStream.prototype.toString = function () {\n  return 'LevelUP.WriteStream'\n}\n\nmodule.exports = WriteStream\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","/*!\n  * prr\n  * (c) 2013 Rod Vagg <rod@vagg.org>\n  * https://github.com/rvagg/prr\n  * License: MIT\n  */\n\n(function (name, context, definition) {\n  if (typeof module != 'undefined' && module.exports)\n    module.exports = definition()\n  else\n    context[name] = definition()\n})('prr', this, function() {\n\n  var setProperty = typeof Object.defineProperty == 'function'\n      ? function (obj, key, options) {\n          Object.defineProperty(obj, key, options)\n          return obj\n        }\n      : function (obj, key, options) { // < es5\n          obj[key] = options.value\n          return obj\n        }\n\n    , makeOptions = function (value, options) {\n        var oo = typeof options == 'object'\n          , os = !oo && typeof options == 'string'\n          , op = function (p) {\n              return oo\n                ? !!options[p]\n                : os\n                  ? options.indexOf(p[0]) > -1\n                  : false\n            }\n\n        return {\n            enumerable   : op('enumerable')\n          , configurable : op('configurable')\n          , writable     : op('writable')\n          , value        : value\n        }\n      }\n\n    , prr = function (obj, key, value, options) {\n        var k\n\n        options = makeOptions(value, options)\n\n        if (typeof key == 'object') {\n          for (k in key) {\n            if (Object.hasOwnProperty.call(key, k)) {\n              options.value = key[k]\n              setProperty(obj, k, options)\n            }\n          }\n          return obj\n        }\n\n        return setProperty(obj, key, options)\n      }\n\n  return prr\n})","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough))\n    return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\n  cb(null, chunk);\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : 16 * 1024;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = false;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // In streams that never have any data, and do push(null) right away,\n  // the consumer can miss the 'end' event if they do some I/O before\n  // consuming the stream.  So, we don't emit('end') until some reading\n  // happens.\n  this.calledRead = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, becuase any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (typeof chunk === 'string' && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (chunk === null || chunk === undefined) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      // update the buffer info.\n      state.length += state.objectMode ? 1 : chunk.length;\n      if (addToFront) {\n        state.buffer.unshift(chunk);\n      } else {\n        state.reading = false;\n        state.buffer.push(chunk);\n      }\n\n      if (state.needReadable)\n        emitReadable(stream);\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (n === null || isNaN(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  var state = this._readableState;\n  state.calledRead = true;\n  var nOrig = n;\n  var ret;\n\n  if (typeof n !== 'number' || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    ret = null;\n\n    // In cases where the decoder did not receive enough data\n    // to produce a full chunk, then immediately received an\n    // EOF, state.buffer will contain [<Buffer >, <Buffer 00 ...>].\n    // howMuchToRead will see this and coerce the amount to\n    // read to zero (because it's looking at the length of the\n    // first <Buffer > in state.buffer), and we'll end up here.\n    //\n    // This can only happen via state.decoder -- no other venue\n    // exists for pushing a zero-length chunk into state.buffer\n    // and triggering this behavior. In this case, we return our\n    // remaining data and end the stream, if appropriate.\n    if (state.length > 0 && state.decoder) {\n      ret = fromList(n, state);\n      state.length -= ret.length;\n    }\n\n    if (state.length === 0)\n      endReadable(this);\n\n    return ret;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length - n <= state.highWaterMark)\n    doRead = true;\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading)\n    doRead = false;\n\n  if (doRead) {\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read called its callback synchronously, then `reading`\n  // will be false, and we need to re-evaluate how much data we\n  // can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we happened to read() exactly the remaining amount in the\n  // buffer, and the EOF has been seen at this point, then make sure\n  // that we emit 'end' on the very next tick.\n  if (state.ended && !state.endEmitted && state.length === 0)\n    endReadable(this);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!Buffer.isBuffer(chunk) &&\n      'string' !== typeof chunk &&\n      chunk !== null &&\n      chunk !== undefined &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // if we've ended and we have some data left, then emit\n  // 'readable' now to make sure it gets picked up.\n  if (state.length > 0)\n    emitReadable(stream);\n  else\n    endReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (state.emittedReadable)\n    return;\n\n  state.emittedReadable = true;\n  if (state.sync)\n    process.nextTick(function() {\n      emitReadable_(stream);\n    });\n  else\n    emitReadable_(stream);\n}\n\nfunction emitReadable_(stream) {\n  stream.emit('readable');\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    if (readable !== src) return;\n    cleanup();\n  }\n\n  function onend() {\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (!dest._writableState || dest._writableState.needDrain)\n      ondrain();\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    // the handler that waits for readable events after all\n    // the data gets sucked out in flow.\n    // This would be easier to follow with a .once() handler\n    // in flow(), but that is too slow.\n    this.on('readable', pipeOnReadable);\n\n    state.flowing = true;\n    process.nextTick(function() {\n      flow(src);\n    });\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var dest = this;\n    var state = src._readableState;\n    state.awaitDrain--;\n    if (state.awaitDrain === 0)\n      flow(src);\n  };\n}\n\nfunction flow(src) {\n  var state = src._readableState;\n  var chunk;\n  state.awaitDrain = 0;\n\n  function write(dest, i, list) {\n    var written = dest.write(chunk);\n    if (false === written) {\n      state.awaitDrain++;\n    }\n  }\n\n  while (state.pipesCount && null !== (chunk = src.read())) {\n\n    if (state.pipesCount === 1)\n      write(state.pipes, 0, null);\n    else\n      forEach(state.pipes, write);\n\n    src.emit('data', chunk);\n\n    // if anyone needs a drain, then we have to wait for that.\n    if (state.awaitDrain > 0)\n      return;\n  }\n\n  // if every destination was unpiped, either before entering this\n  // function, or in the while loop, then stop flowing.\n  //\n  // NB: This is a pretty rare edge case.\n  if (state.pipesCount === 0) {\n    state.flowing = false;\n\n    // if there were data event listeners added, then switch to old mode.\n    if (EE.listenerCount(src, 'data') > 0)\n      emitDataEvents(src);\n    return;\n  }\n\n  // at this point, no one needed a drain, so we just ran out of data\n  // on the next readable event, start it over again.\n  state.ranOut = true;\n}\n\nfunction pipeOnReadable() {\n  if (this._readableState.ranOut) {\n    this._readableState.ranOut = false;\n    flow(this);\n  }\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    this.removeListener('readable', pipeOnReadable);\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    this.removeListener('readable', pipeOnReadable);\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data' && !this._readableState.flowing)\n    emitDataEvents(this);\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        this.read(0);\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  emitDataEvents(this);\n  this.read(0);\n  this.emit('resume');\n};\n\nReadable.prototype.pause = function() {\n  emitDataEvents(this, true);\n  this.emit('pause');\n};\n\nfunction emitDataEvents(stream, startPaused) {\n  var state = stream._readableState;\n\n  if (state.flowing) {\n    // https://github.com/isaacs/readable-stream/issues/16\n    throw new Error('Cannot switch to old mode now.');\n  }\n\n  var paused = startPaused || false;\n  var readable = false;\n\n  // convert to an old-style stream.\n  stream.readable = true;\n  stream.pipe = Stream.prototype.pipe;\n  stream.on = stream.addListener = Stream.prototype.on;\n\n  stream.on('readable', function() {\n    readable = true;\n\n    var c;\n    while (!paused && (null !== (c = stream.read())))\n      stream.emit('data', c);\n\n    if (c === null) {\n      readable = false;\n      stream._readableState.needReadable = true;\n    }\n  });\n\n  stream.pause = function() {\n    paused = true;\n    this.emit('pause');\n  };\n\n  stream.resume = function() {\n    paused = false;\n    if (readable)\n      process.nextTick(function() {\n        stream.emit('readable');\n      });\n    else\n      this.read(0);\n    this.emit('resume');\n  };\n\n  // now make it start, just in case it hadn't already.\n  stream.emit('readable');\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    //if (state.objectMode && util.isNullOrUndefined(chunk))\n    if (state.objectMode && (chunk === null || chunk === undefined))\n      return;\n    else if (!state.objectMode && (!chunk || !chunk.length))\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (typeof stream[i] === 'function' &&\n        typeof this[i] === 'undefined') {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted && state.calledRead) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined)\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  var ts = this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('finish', function() {\n    if ('function' === typeof this._flush)\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var rs = stream._readableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : 16 * 1024;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, becuase any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!Buffer.isBuffer(chunk) &&\n      'string' !== typeof chunk &&\n      chunk !== null &&\n      chunk !== undefined &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (Buffer.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function')\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb))\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n\n  return ret;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      typeof chunk === 'string') {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (Buffer.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      cb(er);\n    });\n  else\n    cb(er);\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished && !state.bufferProcessing && state.buffer.length)\n      clearBuffer(stream, state);\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  cb();\n  if (finished)\n    finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  for (var c = 0; c < state.buffer.length; c++) {\n    var entry = state.buffer[c];\n    var chunk = entry.chunk;\n    var encoding = entry.encoding;\n    var cb = entry.callback;\n    var len = state.objectMode ? 1 : chunk.length;\n\n    doWrite(stream, state, len, chunk, encoding, cb);\n\n    // if we didn't call the onwrite immediately, then\n    // it means that we need to wait until it does.\n    // also, that means that the chunk and cb are currently\n    // being processed, so move the buffer counter past them.\n    if (state.writing) {\n      c++;\n      break;\n    }\n  }\n\n  state.bufferProcessing = false;\n  if (c < state.buffer.length)\n    state.buffer = state.buffer.slice(c);\n  else\n    state.buffer.length = 0;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n};\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (typeof chunk !== 'undefined' && chunk !== null)\n    this.write(chunk, encoding);\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    state.finished = true;\n    stream.emit('finish');\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n","var Stream = require('stream'); // hack to fix a circular dependency issue when used with browserify\nexports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = Stream;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nif (!process.browser && process.env.READABLE_STREAM === 'disable') {\n  module.exports = require('stream');\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n","module.exports = extend\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (source.hasOwnProperty(key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","\nexports.compare = function (a, b) {\n\n  if(Buffer.isBuffer(a)) {\n    var l = Math.min(a.length, b.length)\n    for(var i = 0; i < l; i++) {\n      var cmp = a[i] - b[i]\n      if(cmp) return cmp\n    }\n    return a.length - b.length\n  }\n\n  return a < b ? -1 : a > b ? 1 : 0\n}\n\n// to be compatible with the current abstract-leveldown tests\n// nullish or empty strings.\n// I could use !!val but I want to permit numbers and booleans,\n// if possible.\n\nfunction isDef (val) {\n  return val !== undefined && val !== ''\n}\n\nfunction has (range, name) {\n  return Object.hasOwnProperty.call(range, name)\n}\n\nfunction hasKey(range, name) {\n  return Object.hasOwnProperty.call(range, name) && name\n}\n\nvar lowerBoundKey = exports.lowerBoundKey = function (range) {\n    return (\n       hasKey(range, 'gt')\n    || hasKey(range, 'gte')\n    || hasKey(range, 'min')\n    || (range.reverse ? hasKey(range, 'end') : hasKey(range, 'start'))\n    || undefined\n    )\n}\n\nvar lowerBound = exports.lowerBound = function (range, def) {\n  var k = lowerBoundKey(range)\n  return k ? range[k] : def\n}\n\nvar lowerBoundInclusive = exports.lowerBoundInclusive = function (range) {\n  return has(range, 'gt') ? false : true\n}\n\nvar upperBoundInclusive = exports.upperBoundInclusive =\n  function (range) {\n    return (has(range, 'lt') /*&& !range.maxEx*/) ? false : true\n  }\n\nvar lowerBoundExclusive = exports.lowerBoundExclusive =\n  function (range) {\n    return !lowerBoundInclusive(range)\n  }\n\nvar upperBoundExclusive = exports.upperBoundExclusive =\n  function (range) {\n    return !upperBoundInclusive(range)\n  }\n\nvar upperBoundKey = exports.upperBoundKey = function (range) {\n    return (\n       hasKey(range, 'lt')\n    || hasKey(range, 'lte')\n    || hasKey(range, 'max')\n    || (range.reverse ? hasKey(range, 'start') : hasKey(range, 'end'))\n    || undefined\n    )\n}\n\nvar upperBound = exports.upperBound = function (range, def) {\n  var k = upperBoundKey(range)\n  return k ? range[k] : def\n}\n\nexports.start = function (range, def) {\n  return range.reverse ? upperBound(range, def) : lowerBound(range, def)\n}\nexports.end = function (range, def) {\n  return range.reverse ? lowerBound(range, def) : upperBound(range, def)\n}\nexports.startInclusive = function (range) {\n  return (\n    range.reverse\n  ? upperBoundInclusive(range)\n  : lowerBoundInclusive(range)\n  )\n}\nexports.endInclusive = function (range) {\n  return (\n    range.reverse\n  ? lowerBoundInclusive(range)\n  : upperBoundInclusive(range)\n  )\n}\n\nfunction id (e) { return e }\n\nexports.toLtgt = function (range, _range, map, lower, upper) {\n  _range = _range || {}\n  map = map || id\n  var defaults = arguments.length > 3\n  var lb = exports.lowerBoundKey(range)\n  var ub = exports.upperBoundKey(range)\n  if(lb) {\n    if(lb === 'gt') _range.gt = map(range.gt, false)\n    else            _range.gte = map(range[lb], false)\n  }\n  else if(defaults)\n    _range.gte = map(lower, false)\n\n  if(ub) {\n    if(ub === 'lt') _range.lt = map(range.lt, true)\n    else            _range.lte = map(range[ub], true)\n  }\n  else if(defaults)\n    _range.lte = map(upper, true)\n\n  if(range.reverse != null)\n    _range.reverse = !!range.reverse\n\n  //if range was used mutably\n  //(in level-sublevel it's part of an options object\n  //that has more properties on it.)\n  if(has(_range, 'max'))   delete _range.max\n  if(has(_range, 'min'))   delete _range.min\n  if(has(_range, 'start')) delete _range.start\n  if(has(_range, 'end'))   delete _range.end\n\n  return _range\n}\n\nexports.contains = function (range, key, compare) {\n  compare = compare || exports.compare\n\n  var lb = lowerBound(range)\n  if(isDef(lb)) {\n    var cmp = compare(key, lb)\n    if(cmp < 0 || (cmp === 0 && lowerBoundExclusive(range)))\n      return false\n  }\n\n  var ub = upperBound(range)\n  if(isDef(ub)) {\n    var cmp = compare(key, ub)\n    if(cmp > 0 || (cmp === 0) && upperBoundExclusive(range))\n      return false\n  }\n\n  return true\n}\n\nexports.filter = function (range, compare) {\n  return function (key) {\n    return exports.contains(range, key, compare)\n  }\n}\n\n\n","/**\n * lunr - http://lunrjs.com - A bit like Solr, but much smaller and not as bright - 2.3.9\n * Copyright (C) 2020 Oliver Nightingale\n * @license MIT\n */\n\n;(function(){\n\n/**\n * A convenience function for configuring and constructing\n * a new lunr Index.\n *\n * A lunr.Builder instance is created and the pipeline setup\n * with a trimmer, stop word filter and stemmer.\n *\n * This builder object is yielded to the configuration function\n * that is passed as a parameter, allowing the list of fields\n * and other builder parameters to be customised.\n *\n * All documents _must_ be added within the passed config function.\n *\n * @example\n * var idx = lunr(function () {\n *   this.field('title')\n *   this.field('body')\n *   this.ref('id')\n *\n *   documents.forEach(function (doc) {\n *     this.add(doc)\n *   }, this)\n * })\n *\n * @see {@link lunr.Builder}\n * @see {@link lunr.Pipeline}\n * @see {@link lunr.trimmer}\n * @see {@link lunr.stopWordFilter}\n * @see {@link lunr.stemmer}\n * @namespace {function} lunr\n */\nvar lunr = function (config) {\n  var builder = new lunr.Builder\n\n  builder.pipeline.add(\n    lunr.trimmer,\n    lunr.stopWordFilter,\n    lunr.stemmer\n  )\n\n  builder.searchPipeline.add(\n    lunr.stemmer\n  )\n\n  config.call(builder, builder)\n  return builder.build()\n}\n\nlunr.version = \"2.3.9\"\n/*!\n * lunr.utils\n * Copyright (C) 2020 Oliver Nightingale\n */\n\n/**\n * A namespace containing utils for the rest of the lunr library\n * @namespace lunr.utils\n */\nlunr.utils = {}\n\n/**\n * Print a warning message to the console.\n *\n * @param {String} message The message to be printed.\n * @memberOf lunr.utils\n * @function\n */\nlunr.utils.warn = (function (global) {\n  /* eslint-disable no-console */\n  return function (message) {\n    if (global.console && console.warn) {\n      console.warn(message)\n    }\n  }\n  /* eslint-enable no-console */\n})(this)\n\n/**\n * Convert an object to a string.\n *\n * In the case of `null` and `undefined` the function returns\n * the empty string, in all other cases the result of calling\n * `toString` on the passed object is returned.\n *\n * @param {Any} obj The object to convert to a string.\n * @return {String} string representation of the passed object.\n * @memberOf lunr.utils\n */\nlunr.utils.asString = function (obj) {\n  if (obj === void 0 || obj === null) {\n    return \"\"\n  } else {\n    return obj.toString()\n  }\n}\n\n/**\n * Clones an object.\n *\n * Will create a copy of an existing object such that any mutations\n * on the copy cannot affect the original.\n *\n * Only shallow objects are supported, passing a nested object to this\n * function will cause a TypeError.\n *\n * Objects with primitives, and arrays of primitives are supported.\n *\n * @param {Object} obj The object to clone.\n * @return {Object} a clone of the passed object.\n * @throws {TypeError} when a nested object is passed.\n * @memberOf Utils\n */\nlunr.utils.clone = function (obj) {\n  if (obj === null || obj === undefined) {\n    return obj\n  }\n\n  var clone = Object.create(null),\n      keys = Object.keys(obj)\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i],\n        val = obj[key]\n\n    if (Array.isArray(val)) {\n      clone[key] = val.slice()\n      continue\n    }\n\n    if (typeof val === 'string' ||\n        typeof val === 'number' ||\n        typeof val === 'boolean') {\n      clone[key] = val\n      continue\n    }\n\n    throw new TypeError(\"clone is not deep and does not support nested objects\")\n  }\n\n  return clone\n}\nlunr.FieldRef = function (docRef, fieldName, stringValue) {\n  this.docRef = docRef\n  this.fieldName = fieldName\n  this._stringValue = stringValue\n}\n\nlunr.FieldRef.joiner = \"/\"\n\nlunr.FieldRef.fromString = function (s) {\n  var n = s.indexOf(lunr.FieldRef.joiner)\n\n  if (n === -1) {\n    throw \"malformed field ref string\"\n  }\n\n  var fieldRef = s.slice(0, n),\n      docRef = s.slice(n + 1)\n\n  return new lunr.FieldRef (docRef, fieldRef, s)\n}\n\nlunr.FieldRef.prototype.toString = function () {\n  if (this._stringValue == undefined) {\n    this._stringValue = this.fieldName + lunr.FieldRef.joiner + this.docRef\n  }\n\n  return this._stringValue\n}\n/*!\n * lunr.Set\n * Copyright (C) 2020 Oliver Nightingale\n */\n\n/**\n * A lunr set.\n *\n * @constructor\n */\nlunr.Set = function (elements) {\n  this.elements = Object.create(null)\n\n  if (elements) {\n    this.length = elements.length\n\n    for (var i = 0; i < this.length; i++) {\n      this.elements[elements[i]] = true\n    }\n  } else {\n    this.length = 0\n  }\n}\n\n/**\n * A complete set that contains all elements.\n *\n * @static\n * @readonly\n * @type {lunr.Set}\n */\nlunr.Set.complete = {\n  intersect: function (other) {\n    return other\n  },\n\n  union: function () {\n    return this\n  },\n\n  contains: function () {\n    return true\n  }\n}\n\n/**\n * An empty set that contains no elements.\n *\n * @static\n * @readonly\n * @type {lunr.Set}\n */\nlunr.Set.empty = {\n  intersect: function () {\n    return this\n  },\n\n  union: function (other) {\n    return other\n  },\n\n  contains: function () {\n    return false\n  }\n}\n\n/**\n * Returns true if this set contains the specified object.\n *\n * @param {object} object - Object whose presence in this set is to be tested.\n * @returns {boolean} - True if this set contains the specified object.\n */\nlunr.Set.prototype.contains = function (object) {\n  return !!this.elements[object]\n}\n\n/**\n * Returns a new set containing only the elements that are present in both\n * this set and the specified set.\n *\n * @param {lunr.Set} other - set to intersect with this set.\n * @returns {lunr.Set} a new set that is the intersection of this and the specified set.\n */\n\nlunr.Set.prototype.intersect = function (other) {\n  var a, b, elements, intersection = []\n\n  if (other === lunr.Set.complete) {\n    return this\n  }\n\n  if (other === lunr.Set.empty) {\n    return other\n  }\n\n  if (this.length < other.length) {\n    a = this\n    b = other\n  } else {\n    a = other\n    b = this\n  }\n\n  elements = Object.keys(a.elements)\n\n  for (var i = 0; i < elements.length; i++) {\n    var element = elements[i]\n    if (element in b.elements) {\n      intersection.push(element)\n    }\n  }\n\n  return new lunr.Set (intersection)\n}\n\n/**\n * Returns a new set combining the elements of this and the specified set.\n *\n * @param {lunr.Set} other - set to union with this set.\n * @return {lunr.Set} a new set that is the union of this and the specified set.\n */\n\nlunr.Set.prototype.union = function (other) {\n  if (other === lunr.Set.complete) {\n    return lunr.Set.complete\n  }\n\n  if (other === lunr.Set.empty) {\n    return this\n  }\n\n  return new lunr.Set(Object.keys(this.elements).concat(Object.keys(other.elements)))\n}\n/**\n * A function to calculate the inverse document frequency for\n * a posting. This is shared between the builder and the index\n *\n * @private\n * @param {object} posting - The posting for a given term\n * @param {number} documentCount - The total number of documents.\n */\nlunr.idf = function (posting, documentCount) {\n  var documentsWithTerm = 0\n\n  for (var fieldName in posting) {\n    if (fieldName == '_index') continue // Ignore the term index, its not a field\n    documentsWithTerm += Object.keys(posting[fieldName]).length\n  }\n\n  var x = (documentCount - documentsWithTerm + 0.5) / (documentsWithTerm + 0.5)\n\n  return Math.log(1 + Math.abs(x))\n}\n\n/**\n * A token wraps a string representation of a token\n * as it is passed through the text processing pipeline.\n *\n * @constructor\n * @param {string} [str=''] - The string token being wrapped.\n * @param {object} [metadata={}] - Metadata associated with this token.\n */\nlunr.Token = function (str, metadata) {\n  this.str = str || \"\"\n  this.metadata = metadata || {}\n}\n\n/**\n * Returns the token string that is being wrapped by this object.\n *\n * @returns {string}\n */\nlunr.Token.prototype.toString = function () {\n  return this.str\n}\n\n/**\n * A token update function is used when updating or optionally\n * when cloning a token.\n *\n * @callback lunr.Token~updateFunction\n * @param {string} str - The string representation of the token.\n * @param {Object} metadata - All metadata associated with this token.\n */\n\n/**\n * Applies the given function to the wrapped string token.\n *\n * @example\n * token.update(function (str, metadata) {\n *   return str.toUpperCase()\n * })\n *\n * @param {lunr.Token~updateFunction} fn - A function to apply to the token string.\n * @returns {lunr.Token}\n */\nlunr.Token.prototype.update = function (fn) {\n  this.str = fn(this.str, this.metadata)\n  return this\n}\n\n/**\n * Creates a clone of this token. Optionally a function can be\n * applied to the cloned token.\n *\n * @param {lunr.Token~updateFunction} [fn] - An optional function to apply to the cloned token.\n * @returns {lunr.Token}\n */\nlunr.Token.prototype.clone = function (fn) {\n  fn = fn || function (s) { return s }\n  return new lunr.Token (fn(this.str, this.metadata), this.metadata)\n}\n/*!\n * lunr.tokenizer\n * Copyright (C) 2020 Oliver Nightingale\n */\n\n/**\n * A function for splitting a string into tokens ready to be inserted into\n * the search index. Uses `lunr.tokenizer.separator` to split strings, change\n * the value of this property to change how strings are split into tokens.\n *\n * This tokenizer will convert its parameter to a string by calling `toString` and\n * then will split this string on the character in `lunr.tokenizer.separator`.\n * Arrays will have their elements converted to strings and wrapped in a lunr.Token.\n *\n * Optional metadata can be passed to the tokenizer, this metadata will be cloned and\n * added as metadata to every token that is created from the object to be tokenized.\n *\n * @static\n * @param {?(string|object|object[])} obj - The object to convert into tokens\n * @param {?object} metadata - Optional metadata to associate with every token\n * @returns {lunr.Token[]}\n * @see {@link lunr.Pipeline}\n */\nlunr.tokenizer = function (obj, metadata) {\n  if (obj == null || obj == undefined) {\n    return []\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.map(function (t) {\n      return new lunr.Token(\n        lunr.utils.asString(t).toLowerCase(),\n        lunr.utils.clone(metadata)\n      )\n    })\n  }\n\n  var str = obj.toString().toLowerCase(),\n      len = str.length,\n      tokens = []\n\n  for (var sliceEnd = 0, sliceStart = 0; sliceEnd <= len; sliceEnd++) {\n    var char = str.charAt(sliceEnd),\n        sliceLength = sliceEnd - sliceStart\n\n    if ((char.match(lunr.tokenizer.separator) || sliceEnd == len)) {\n\n      if (sliceLength > 0) {\n        var tokenMetadata = lunr.utils.clone(metadata) || {}\n        tokenMetadata[\"position\"] = [sliceStart, sliceLength]\n        tokenMetadata[\"index\"] = tokens.length\n\n        tokens.push(\n          new lunr.Token (\n            str.slice(sliceStart, sliceEnd),\n            tokenMetadata\n          )\n        )\n      }\n\n      sliceStart = sliceEnd + 1\n    }\n\n  }\n\n  return tokens\n}\n\n/**\n * The separator used to split a string into tokens. Override this property to change the behaviour of\n * `lunr.tokenizer` behaviour when tokenizing strings. By default this splits on whitespace and hyphens.\n *\n * @static\n * @see lunr.tokenizer\n */\nlunr.tokenizer.separator = /[\\s\\-]+/\n/*!\n * lunr.Pipeline\n * Copyright (C) 2020 Oliver Nightingale\n */\n\n/**\n * lunr.Pipelines maintain an ordered list of functions to be applied to all\n * tokens in documents entering the search index and queries being ran against\n * the index.\n *\n * An instance of lunr.Index created with the lunr shortcut will contain a\n * pipeline with a stop word filter and an English language stemmer. Extra\n * functions can be added before or after either of these functions or these\n * default functions can be removed.\n *\n * When run the pipeline will call each function in turn, passing a token, the\n * index of that token in the original list of all tokens and finally a list of\n * all the original tokens.\n *\n * The output of functions in the pipeline will be passed to the next function\n * in the pipeline. To exclude a token from entering the index the function\n * should return undefined, the rest of the pipeline will not be called with\n * this token.\n *\n * For serialisation of pipelines to work, all functions used in an instance of\n * a pipeline should be registered with lunr.Pipeline. Registered functions can\n * then be loaded. If trying to load a serialised pipeline that uses functions\n * that are not registered an error will be thrown.\n *\n * If not planning on serialising the pipeline then registering pipeline functions\n * is not necessary.\n *\n * @constructor\n */\nlunr.Pipeline = function () {\n  this._stack = []\n}\n\nlunr.Pipeline.registeredFunctions = Object.create(null)\n\n/**\n * A pipeline function maps lunr.Token to lunr.Token. A lunr.Token contains the token\n * string as well as all known metadata. A pipeline function can mutate the token string\n * or mutate (or add) metadata for a given token.\n *\n * A pipeline function can indicate that the passed token should be discarded by returning\n * null, undefined or an empty string. This token will not be passed to any downstream pipeline\n * functions and will not be added to the index.\n *\n * Multiple tokens can be returned by returning an array of tokens. Each token will be passed\n * to any downstream pipeline functions and all will returned tokens will be added to the index.\n *\n * Any number of pipeline functions may be chained together using a lunr.Pipeline.\n *\n * @interface lunr.PipelineFunction\n * @param {lunr.Token} token - A token from the document being processed.\n * @param {number} i - The index of this token in the complete list of tokens for this document/field.\n * @param {lunr.Token[]} tokens - All tokens for this document/field.\n * @returns {(?lunr.Token|lunr.Token[])}\n */\n\n/**\n * Register a function with the pipeline.\n *\n * Functions that are used in the pipeline should be registered if the pipeline\n * needs to be serialised, or a serialised pipeline needs to be loaded.\n *\n * Registering a function does not add it to a pipeline, functions must still be\n * added to instances of the pipeline for them to be used when running a pipeline.\n *\n * @param {lunr.PipelineFunction} fn - The function to check for.\n * @param {String} label - The label to register this function with\n */\nlunr.Pipeline.registerFunction = function (fn, label) {\n  if (label in this.registeredFunctions) {\n    lunr.utils.warn('Overwriting existing registered function: ' + label)\n  }\n\n  fn.label = label\n  lunr.Pipeline.registeredFunctions[fn.label] = fn\n}\n\n/**\n * Warns if the function is not registered as a Pipeline function.\n *\n * @param {lunr.PipelineFunction} fn - The function to check for.\n * @private\n */\nlunr.Pipeline.warnIfFunctionNotRegistered = function (fn) {\n  var isRegistered = fn.label && (fn.label in this.registeredFunctions)\n\n  if (!isRegistered) {\n    lunr.utils.warn('Function is not registered with pipeline. This may cause problems when serialising the index.\\n', fn)\n  }\n}\n\n/**\n * Loads a previously serialised pipeline.\n *\n * All functions to be loaded must already be registered with lunr.Pipeline.\n * If any function from the serialised data has not been registered then an\n * error will be thrown.\n *\n * @param {Object} serialised - The serialised pipeline to load.\n * @returns {lunr.Pipeline}\n */\nlunr.Pipeline.load = function (serialised) {\n  var pipeline = new lunr.Pipeline\n\n  serialised.forEach(function (fnName) {\n    var fn = lunr.Pipeline.registeredFunctions[fnName]\n\n    if (fn) {\n      pipeline.add(fn)\n    } else {\n      throw new Error('Cannot load unregistered function: ' + fnName)\n    }\n  })\n\n  return pipeline\n}\n\n/**\n * Adds new functions to the end of the pipeline.\n *\n * Logs a warning if the function has not been registered.\n *\n * @param {lunr.PipelineFunction[]} functions - Any number of functions to add to the pipeline.\n */\nlunr.Pipeline.prototype.add = function () {\n  var fns = Array.prototype.slice.call(arguments)\n\n  fns.forEach(function (fn) {\n    lunr.Pipeline.warnIfFunctionNotRegistered(fn)\n    this._stack.push(fn)\n  }, this)\n}\n\n/**\n * Adds a single function after a function that already exists in the\n * pipeline.\n *\n * Logs a warning if the function has not been registered.\n *\n * @param {lunr.PipelineFunction} existingFn - A function that already exists in the pipeline.\n * @param {lunr.PipelineFunction} newFn - The new function to add to the pipeline.\n */\nlunr.Pipeline.prototype.after = function (existingFn, newFn) {\n  lunr.Pipeline.warnIfFunctionNotRegistered(newFn)\n\n  var pos = this._stack.indexOf(existingFn)\n  if (pos == -1) {\n    throw new Error('Cannot find existingFn')\n  }\n\n  pos = pos + 1\n  this._stack.splice(pos, 0, newFn)\n}\n\n/**\n * Adds a single function before a function that already exists in the\n * pipeline.\n *\n * Logs a warning if the function has not been registered.\n *\n * @param {lunr.PipelineFunction} existingFn - A function that already exists in the pipeline.\n * @param {lunr.PipelineFunction} newFn - The new function to add to the pipeline.\n */\nlunr.Pipeline.prototype.before = function (existingFn, newFn) {\n  lunr.Pipeline.warnIfFunctionNotRegistered(newFn)\n\n  var pos = this._stack.indexOf(existingFn)\n  if (pos == -1) {\n    throw new Error('Cannot find existingFn')\n  }\n\n  this._stack.splice(pos, 0, newFn)\n}\n\n/**\n * Removes a function from the pipeline.\n *\n * @param {lunr.PipelineFunction} fn The function to remove from the pipeline.\n */\nlunr.Pipeline.prototype.remove = function (fn) {\n  var pos = this._stack.indexOf(fn)\n  if (pos == -1) {\n    return\n  }\n\n  this._stack.splice(pos, 1)\n}\n\n/**\n * Runs the current list of functions that make up the pipeline against the\n * passed tokens.\n *\n * @param {Array} tokens The tokens to run through the pipeline.\n * @returns {Array}\n */\nlunr.Pipeline.prototype.run = function (tokens) {\n  var stackLength = this._stack.length\n\n  for (var i = 0; i < stackLength; i++) {\n    var fn = this._stack[i]\n    var memo = []\n\n    for (var j = 0; j < tokens.length; j++) {\n      var result = fn(tokens[j], j, tokens)\n\n      if (result === null || result === void 0 || result === '') continue\n\n      if (Array.isArray(result)) {\n        for (var k = 0; k < result.length; k++) {\n          memo.push(result[k])\n        }\n      } else {\n        memo.push(result)\n      }\n    }\n\n    tokens = memo\n  }\n\n  return tokens\n}\n\n/**\n * Convenience method for passing a string through a pipeline and getting\n * strings out. This method takes care of wrapping the passed string in a\n * token and mapping the resulting tokens back to strings.\n *\n * @param {string} str - The string to pass through the pipeline.\n * @param {?object} metadata - Optional metadata to associate with the token\n * passed to the pipeline.\n * @returns {string[]}\n */\nlunr.Pipeline.prototype.runString = function (str, metadata) {\n  var token = new lunr.Token (str, metadata)\n\n  return this.run([token]).map(function (t) {\n    return t.toString()\n  })\n}\n\n/**\n * Resets the pipeline by removing any existing processors.\n *\n */\nlunr.Pipeline.prototype.reset = function () {\n  this._stack = []\n}\n\n/**\n * Returns a representation of the pipeline ready for serialisation.\n *\n * Logs a warning if the function has not been registered.\n *\n * @returns {Array}\n */\nlunr.Pipeline.prototype.toJSON = function () {\n  return this._stack.map(function (fn) {\n    lunr.Pipeline.warnIfFunctionNotRegistered(fn)\n\n    return fn.label\n  })\n}\n/*!\n * lunr.Vector\n * Copyright (C) 2020 Oliver Nightingale\n */\n\n/**\n * A vector is used to construct the vector space of documents and queries. These\n * vectors support operations to determine the similarity between two documents or\n * a document and a query.\n *\n * Normally no parameters are required for initializing a vector, but in the case of\n * loading a previously dumped vector the raw elements can be provided to the constructor.\n *\n * For performance reasons vectors are implemented with a flat array, where an elements\n * index is immediately followed by its value. E.g. [index, value, index, value]. This\n * allows the underlying array to be as sparse as possible and still offer decent\n * performance when being used for vector calculations.\n *\n * @constructor\n * @param {Number[]} [elements] - The flat list of element index and element value pairs.\n */\nlunr.Vector = function (elements) {\n  this._magnitude = 0\n  this.elements = elements || []\n}\n\n\n/**\n * Calculates the position within the vector to insert a given index.\n *\n * This is used internally by insert and upsert. If there are duplicate indexes then\n * the position is returned as if the value for that index were to be updated, but it\n * is the callers responsibility to check whether there is a duplicate at that index\n *\n * @param {Number} insertIdx - The index at which the element should be inserted.\n * @returns {Number}\n */\nlunr.Vector.prototype.positionForIndex = function (index) {\n  // For an empty vector the tuple can be inserted at the beginning\n  if (this.elements.length == 0) {\n    return 0\n  }\n\n  var start = 0,\n      end = this.elements.length / 2,\n      sliceLength = end - start,\n      pivotPoint = Math.floor(sliceLength / 2),\n      pivotIndex = this.elements[pivotPoint * 2]\n\n  while (sliceLength > 1) {\n    if (pivotIndex < index) {\n      start = pivotPoint\n    }\n\n    if (pivotIndex > index) {\n      end = pivotPoint\n    }\n\n    if (pivotIndex == index) {\n      break\n    }\n\n    sliceLength = end - start\n    pivotPoint = start + Math.floor(sliceLength / 2)\n    pivotIndex = this.elements[pivotPoint * 2]\n  }\n\n  if (pivotIndex == index) {\n    return pivotPoint * 2\n  }\n\n  if (pivotIndex > index) {\n    return pivotPoint * 2\n  }\n\n  if (pivotIndex < index) {\n    return (pivotPoint + 1) * 2\n  }\n}\n\n/**\n * Inserts an element at an index within the vector.\n *\n * Does not allow duplicates, will throw an error if there is already an entry\n * for this index.\n *\n * @param {Number} insertIdx - The index at which the element should be inserted.\n * @param {Number} val - The value to be inserted into the vector.\n */\nlunr.Vector.prototype.insert = function (insertIdx, val) {\n  this.upsert(insertIdx, val, function () {\n    throw \"duplicate index\"\n  })\n}\n\n/**\n * Inserts or updates an existing index within the vector.\n *\n * @param {Number} insertIdx - The index at which the element should be inserted.\n * @param {Number} val - The value to be inserted into the vector.\n * @param {function} fn - A function that is called for updates, the existing value and the\n * requested value are passed as arguments\n */\nlunr.Vector.prototype.upsert = function (insertIdx, val, fn) {\n  this._magnitude = 0\n  var position = this.positionForIndex(insertIdx)\n\n  if (this.elements[position] == insertIdx) {\n    this.elements[position + 1] = fn(this.elements[position + 1], val)\n  } else {\n    this.elements.splice(position, 0, insertIdx, val)\n  }\n}\n\n/**\n * Calculates the magnitude of this vector.\n *\n * @returns {Number}\n */\nlunr.Vector.prototype.magnitude = function () {\n  if (this._magnitude) return this._magnitude\n\n  var sumOfSquares = 0,\n      elementsLength = this.elements.length\n\n  for (var i = 1; i < elementsLength; i += 2) {\n    var val = this.elements[i]\n    sumOfSquares += val * val\n  }\n\n  return this._magnitude = Math.sqrt(sumOfSquares)\n}\n\n/**\n * Calculates the dot product of this vector and another vector.\n *\n * @param {lunr.Vector} otherVector - The vector to compute the dot product with.\n * @returns {Number}\n */\nlunr.Vector.prototype.dot = function (otherVector) {\n  var dotProduct = 0,\n      a = this.elements, b = otherVector.elements,\n      aLen = a.length, bLen = b.length,\n      aVal = 0, bVal = 0,\n      i = 0, j = 0\n\n  while (i < aLen && j < bLen) {\n    aVal = a[i], bVal = b[j]\n    if (aVal < bVal) {\n      i += 2\n    } else if (aVal > bVal) {\n      j += 2\n    } else if (aVal == bVal) {\n      dotProduct += a[i + 1] * b[j + 1]\n      i += 2\n      j += 2\n    }\n  }\n\n  return dotProduct\n}\n\n/**\n * Calculates the similarity between this vector and another vector.\n *\n * @param {lunr.Vector} otherVector - The other vector to calculate the\n * similarity with.\n * @returns {Number}\n */\nlunr.Vector.prototype.similarity = function (otherVector) {\n  return this.dot(otherVector) / this.magnitude() || 0\n}\n\n/**\n * Converts the vector to an array of the elements within the vector.\n *\n * @returns {Number[]}\n */\nlunr.Vector.prototype.toArray = function () {\n  var output = new Array (this.elements.length / 2)\n\n  for (var i = 1, j = 0; i < this.elements.length; i += 2, j++) {\n    output[j] = this.elements[i]\n  }\n\n  return output\n}\n\n/**\n * A JSON serializable representation of the vector.\n *\n * @returns {Number[]}\n */\nlunr.Vector.prototype.toJSON = function () {\n  return this.elements\n}\n/* eslint-disable */\n/*!\n * lunr.stemmer\n * Copyright (C) 2020 Oliver Nightingale\n * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt\n */\n\n/**\n * lunr.stemmer is an english language stemmer, this is a JavaScript\n * implementation of the PorterStemmer taken from http://tartarus.org/~martin\n *\n * @static\n * @implements {lunr.PipelineFunction}\n * @param {lunr.Token} token - The string to stem\n * @returns {lunr.Token}\n * @see {@link lunr.Pipeline}\n * @function\n */\nlunr.stemmer = (function(){\n  var step2list = {\n      \"ational\" : \"ate\",\n      \"tional\" : \"tion\",\n      \"enci\" : \"ence\",\n      \"anci\" : \"ance\",\n      \"izer\" : \"ize\",\n      \"bli\" : \"ble\",\n      \"alli\" : \"al\",\n      \"entli\" : \"ent\",\n      \"eli\" : \"e\",\n      \"ousli\" : \"ous\",\n      \"ization\" : \"ize\",\n      \"ation\" : \"ate\",\n      \"ator\" : \"ate\",\n      \"alism\" : \"al\",\n      \"iveness\" : \"ive\",\n      \"fulness\" : \"ful\",\n      \"ousness\" : \"ous\",\n      \"aliti\" : \"al\",\n      \"iviti\" : \"ive\",\n      \"biliti\" : \"ble\",\n      \"logi\" : \"log\"\n    },\n\n    step3list = {\n      \"icate\" : \"ic\",\n      \"ative\" : \"\",\n      \"alize\" : \"al\",\n      \"iciti\" : \"ic\",\n      \"ical\" : \"ic\",\n      \"ful\" : \"\",\n      \"ness\" : \"\"\n    },\n\n    c = \"[^aeiou]\",          // consonant\n    v = \"[aeiouy]\",          // vowel\n    C = c + \"[^aeiouy]*\",    // consonant sequence\n    V = v + \"[aeiou]*\",      // vowel sequence\n\n    mgr0 = \"^(\" + C + \")?\" + V + C,               // [C]VC... is m>0\n    meq1 = \"^(\" + C + \")?\" + V + C + \"(\" + V + \")?$\",  // [C]VC[V] is m=1\n    mgr1 = \"^(\" + C + \")?\" + V + C + V + C,       // [C]VCVC... is m>1\n    s_v = \"^(\" + C + \")?\" + v;                   // vowel in stem\n\n  var re_mgr0 = new RegExp(mgr0);\n  var re_mgr1 = new RegExp(mgr1);\n  var re_meq1 = new RegExp(meq1);\n  var re_s_v = new RegExp(s_v);\n\n  var re_1a = /^(.+?)(ss|i)es$/;\n  var re2_1a = /^(.+?)([^s])s$/;\n  var re_1b = /^(.+?)eed$/;\n  var re2_1b = /^(.+?)(ed|ing)$/;\n  var re_1b_2 = /.$/;\n  var re2_1b_2 = /(at|bl|iz)$/;\n  var re3_1b_2 = new RegExp(\"([^aeiouylsz])\\\\1$\");\n  var re4_1b_2 = new RegExp(\"^\" + C + v + \"[^aeiouwxy]$\");\n\n  var re_1c = /^(.+?[^aeiou])y$/;\n  var re_2 = /^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;\n\n  var re_3 = /^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;\n\n  var re_4 = /^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;\n  var re2_4 = /^(.+?)(s|t)(ion)$/;\n\n  var re_5 = /^(.+?)e$/;\n  var re_5_1 = /ll$/;\n  var re3_5 = new RegExp(\"^\" + C + v + \"[^aeiouwxy]$\");\n\n  var porterStemmer = function porterStemmer(w) {\n    var stem,\n      suffix,\n      firstch,\n      re,\n      re2,\n      re3,\n      re4;\n\n    if (w.length < 3) { return w; }\n\n    firstch = w.substr(0,1);\n    if (firstch == \"y\") {\n      w = firstch.toUpperCase() + w.substr(1);\n    }\n\n    // Step 1a\n    re = re_1a\n    re2 = re2_1a;\n\n    if (re.test(w)) { w = w.replace(re,\"$1$2\"); }\n    else if (re2.test(w)) { w = w.replace(re2,\"$1$2\"); }\n\n    // Step 1b\n    re = re_1b;\n    re2 = re2_1b;\n    if (re.test(w)) {\n      var fp = re.exec(w);\n      re = re_mgr0;\n      if (re.test(fp[1])) {\n        re = re_1b_2;\n        w = w.replace(re,\"\");\n      }\n    } else if (re2.test(w)) {\n      var fp = re2.exec(w);\n      stem = fp[1];\n      re2 = re_s_v;\n      if (re2.test(stem)) {\n        w = stem;\n        re2 = re2_1b_2;\n        re3 = re3_1b_2;\n        re4 = re4_1b_2;\n        if (re2.test(w)) { w = w + \"e\"; }\n        else if (re3.test(w)) { re = re_1b_2; w = w.replace(re,\"\"); }\n        else if (re4.test(w)) { w = w + \"e\"; }\n      }\n    }\n\n    // Step 1c - replace suffix y or Y by i if preceded by a non-vowel which is not the first letter of the word (so cry -> cri, by -> by, say -> say)\n    re = re_1c;\n    if (re.test(w)) {\n      var fp = re.exec(w);\n      stem = fp[1];\n      w = stem + \"i\";\n    }\n\n    // Step 2\n    re = re_2;\n    if (re.test(w)) {\n      var fp = re.exec(w);\n      stem = fp[1];\n      suffix = fp[2];\n      re = re_mgr0;\n      if (re.test(stem)) {\n        w = stem + step2list[suffix];\n      }\n    }\n\n    // Step 3\n    re = re_3;\n    if (re.test(w)) {\n      var fp = re.exec(w);\n      stem = fp[1];\n      suffix = fp[2];\n      re = re_mgr0;\n      if (re.test(stem)) {\n        w = stem + step3list[suffix];\n      }\n    }\n\n    // Step 4\n    re = re_4;\n    re2 = re2_4;\n    if (re.test(w)) {\n      var fp = re.exec(w);\n      stem = fp[1];\n      re = re_mgr1;\n      if (re.test(stem)) {\n        w = stem;\n      }\n    } else if (re2.test(w)) {\n      var fp = re2.exec(w);\n      stem = fp[1] + fp[2];\n      re2 = re_mgr1;\n      if (re2.test(stem)) {\n        w = stem;\n      }\n    }\n\n    // Step 5\n    re = re_5;\n    if (re.test(w)) {\n      var fp = re.exec(w);\n      stem = fp[1];\n      re = re_mgr1;\n      re2 = re_meq1;\n      re3 = re3_5;\n      if (re.test(stem) || (re2.test(stem) && !(re3.test(stem)))) {\n        w = stem;\n      }\n    }\n\n    re = re_5_1;\n    re2 = re_mgr1;\n    if (re.test(w) && re2.test(w)) {\n      re = re_1b_2;\n      w = w.replace(re,\"\");\n    }\n\n    // and turn initial Y back to y\n\n    if (firstch == \"y\") {\n      w = firstch.toLowerCase() + w.substr(1);\n    }\n\n    return w;\n  };\n\n  return function (token) {\n    return token.update(porterStemmer);\n  }\n})();\n\nlunr.Pipeline.registerFunction(lunr.stemmer, 'stemmer')\n/*!\n * lunr.stopWordFilter\n * Copyright (C) 2020 Oliver Nightingale\n */\n\n/**\n * lunr.generateStopWordFilter builds a stopWordFilter function from the provided\n * list of stop words.\n *\n * The built in lunr.stopWordFilter is built using this generator and can be used\n * to generate custom stopWordFilters for applications or non English languages.\n *\n * @function\n * @param {Array} token The token to pass through the filter\n * @returns {lunr.PipelineFunction}\n * @see lunr.Pipeline\n * @see lunr.stopWordFilter\n */\nlunr.generateStopWordFilter = function (stopWords) {\n  var words = stopWords.reduce(function (memo, stopWord) {\n    memo[stopWord] = stopWord\n    return memo\n  }, {})\n\n  return function (token) {\n    if (token && words[token.toString()] !== token.toString()) return token\n  }\n}\n\n/**\n * lunr.stopWordFilter is an English language stop word list filter, any words\n * contained in the list will not be passed through the filter.\n *\n * This is intended to be used in the Pipeline. If the token does not pass the\n * filter then undefined will be returned.\n *\n * @function\n * @implements {lunr.PipelineFunction}\n * @params {lunr.Token} token - A token to check for being a stop word.\n * @returns {lunr.Token}\n * @see {@link lunr.Pipeline}\n */\nlunr.stopWordFilter = lunr.generateStopWordFilter([\n  'a',\n  'able',\n  'about',\n  'across',\n  'after',\n  'all',\n  'almost',\n  'also',\n  'am',\n  'among',\n  'an',\n  'and',\n  'any',\n  'are',\n  'as',\n  'at',\n  'be',\n  'because',\n  'been',\n  'but',\n  'by',\n  'can',\n  'cannot',\n  'could',\n  'dear',\n  'did',\n  'do',\n  'does',\n  'either',\n  'else',\n  'ever',\n  'every',\n  'for',\n  'from',\n  'get',\n  'got',\n  'had',\n  'has',\n  'have',\n  'he',\n  'her',\n  'hers',\n  'him',\n  'his',\n  'how',\n  'however',\n  'i',\n  'if',\n  'in',\n  'into',\n  'is',\n  'it',\n  'its',\n  'just',\n  'least',\n  'let',\n  'like',\n  'likely',\n  'may',\n  'me',\n  'might',\n  'most',\n  'must',\n  'my',\n  'neither',\n  'no',\n  'nor',\n  'not',\n  'of',\n  'off',\n  'often',\n  'on',\n  'only',\n  'or',\n  'other',\n  'our',\n  'own',\n  'rather',\n  'said',\n  'say',\n  'says',\n  'she',\n  'should',\n  'since',\n  'so',\n  'some',\n  'than',\n  'that',\n  'the',\n  'their',\n  'them',\n  'then',\n  'there',\n  'these',\n  'they',\n  'this',\n  'tis',\n  'to',\n  'too',\n  'twas',\n  'us',\n  'wants',\n  'was',\n  'we',\n  'were',\n  'what',\n  'when',\n  'where',\n  'which',\n  'while',\n  'who',\n  'whom',\n  'why',\n  'will',\n  'with',\n  'would',\n  'yet',\n  'you',\n  'your'\n])\n\nlunr.Pipeline.registerFunction(lunr.stopWordFilter, 'stopWordFilter')\n/*!\n * lunr.trimmer\n * Copyright (C) 2020 Oliver Nightingale\n */\n\n/**\n * lunr.trimmer is a pipeline function for trimming non word\n * characters from the beginning and end of tokens before they\n * enter the index.\n *\n * This implementation may not work correctly for non latin\n * characters and should either be removed or adapted for use\n * with languages with non-latin characters.\n *\n * @static\n * @implements {lunr.PipelineFunction}\n * @param {lunr.Token} token The token to pass through the filter\n * @returns {lunr.Token}\n * @see lunr.Pipeline\n */\nlunr.trimmer = function (token) {\n  return token.update(function (s) {\n    return s.replace(/^\\W+/, '').replace(/\\W+$/, '')\n  })\n}\n\nlunr.Pipeline.registerFunction(lunr.trimmer, 'trimmer')\n/*!\n * lunr.TokenSet\n * Copyright (C) 2020 Oliver Nightingale\n */\n\n/**\n * A token set is used to store the unique list of all tokens\n * within an index. Token sets are also used to represent an\n * incoming query to the index, this query token set and index\n * token set are then intersected to find which tokens to look\n * up in the inverted index.\n *\n * A token set can hold multiple tokens, as in the case of the\n * index token set, or it can hold a single token as in the\n * case of a simple query token set.\n *\n * Additionally token sets are used to perform wildcard matching.\n * Leading, contained and trailing wildcards are supported, and\n * from this edit distance matching can also be provided.\n *\n * Token sets are implemented as a minimal finite state automata,\n * where both common prefixes and suffixes are shared between tokens.\n * This helps to reduce the space used for storing the token set.\n *\n * @constructor\n */\nlunr.TokenSet = function () {\n  this.final = false\n  this.edges = {}\n  this.id = lunr.TokenSet._nextId\n  lunr.TokenSet._nextId += 1\n}\n\n/**\n * Keeps track of the next, auto increment, identifier to assign\n * to a new tokenSet.\n *\n * TokenSets require a unique identifier to be correctly minimised.\n *\n * @private\n */\nlunr.TokenSet._nextId = 1\n\n/**\n * Creates a TokenSet instance from the given sorted array of words.\n *\n * @param {String[]} arr - A sorted array of strings to create the set from.\n * @returns {lunr.TokenSet}\n * @throws Will throw an error if the input array is not sorted.\n */\nlunr.TokenSet.fromArray = function (arr) {\n  var builder = new lunr.TokenSet.Builder\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    builder.insert(arr[i])\n  }\n\n  builder.finish()\n  return builder.root\n}\n\n/**\n * Creates a token set from a query clause.\n *\n * @private\n * @param {Object} clause - A single clause from lunr.Query.\n * @param {string} clause.term - The query clause term.\n * @param {number} [clause.editDistance] - The optional edit distance for the term.\n * @returns {lunr.TokenSet}\n */\nlunr.TokenSet.fromClause = function (clause) {\n  if ('editDistance' in clause) {\n    return lunr.TokenSet.fromFuzzyString(clause.term, clause.editDistance)\n  } else {\n    return lunr.TokenSet.fromString(clause.term)\n  }\n}\n\n/**\n * Creates a token set representing a single string with a specified\n * edit distance.\n *\n * Insertions, deletions, substitutions and transpositions are each\n * treated as an edit distance of 1.\n *\n * Increasing the allowed edit distance will have a dramatic impact\n * on the performance of both creating and intersecting these TokenSets.\n * It is advised to keep the edit distance less than 3.\n *\n * @param {string} str - The string to create the token set from.\n * @param {number} editDistance - The allowed edit distance to match.\n * @returns {lunr.Vector}\n */\nlunr.TokenSet.fromFuzzyString = function (str, editDistance) {\n  var root = new lunr.TokenSet\n\n  var stack = [{\n    node: root,\n    editsRemaining: editDistance,\n    str: str\n  }]\n\n  while (stack.length) {\n    var frame = stack.pop()\n\n    // no edit\n    if (frame.str.length > 0) {\n      var char = frame.str.charAt(0),\n          noEditNode\n\n      if (char in frame.node.edges) {\n        noEditNode = frame.node.edges[char]\n      } else {\n        noEditNode = new lunr.TokenSet\n        frame.node.edges[char] = noEditNode\n      }\n\n      if (frame.str.length == 1) {\n        noEditNode.final = true\n      }\n\n      stack.push({\n        node: noEditNode,\n        editsRemaining: frame.editsRemaining,\n        str: frame.str.slice(1)\n      })\n    }\n\n    if (frame.editsRemaining == 0) {\n      continue\n    }\n\n    // insertion\n    if (\"*\" in frame.node.edges) {\n      var insertionNode = frame.node.edges[\"*\"]\n    } else {\n      var insertionNode = new lunr.TokenSet\n      frame.node.edges[\"*\"] = insertionNode\n    }\n\n    if (frame.str.length == 0) {\n      insertionNode.final = true\n    }\n\n    stack.push({\n      node: insertionNode,\n      editsRemaining: frame.editsRemaining - 1,\n      str: frame.str\n    })\n\n    // deletion\n    // can only do a deletion if we have enough edits remaining\n    // and if there are characters left to delete in the string\n    if (frame.str.length > 1) {\n      stack.push({\n        node: frame.node,\n        editsRemaining: frame.editsRemaining - 1,\n        str: frame.str.slice(1)\n      })\n    }\n\n    // deletion\n    // just removing the last character from the str\n    if (frame.str.length == 1) {\n      frame.node.final = true\n    }\n\n    // substitution\n    // can only do a substitution if we have enough edits remaining\n    // and if there are characters left to substitute\n    if (frame.str.length >= 1) {\n      if (\"*\" in frame.node.edges) {\n        var substitutionNode = frame.node.edges[\"*\"]\n      } else {\n        var substitutionNode = new lunr.TokenSet\n        frame.node.edges[\"*\"] = substitutionNode\n      }\n\n      if (frame.str.length == 1) {\n        substitutionNode.final = true\n      }\n\n      stack.push({\n        node: substitutionNode,\n        editsRemaining: frame.editsRemaining - 1,\n        str: frame.str.slice(1)\n      })\n    }\n\n    // transposition\n    // can only do a transposition if there are edits remaining\n    // and there are enough characters to transpose\n    if (frame.str.length > 1) {\n      var charA = frame.str.charAt(0),\n          charB = frame.str.charAt(1),\n          transposeNode\n\n      if (charB in frame.node.edges) {\n        transposeNode = frame.node.edges[charB]\n      } else {\n        transposeNode = new lunr.TokenSet\n        frame.node.edges[charB] = transposeNode\n      }\n\n      if (frame.str.length == 1) {\n        transposeNode.final = true\n      }\n\n      stack.push({\n        node: transposeNode,\n        editsRemaining: frame.editsRemaining - 1,\n        str: charA + frame.str.slice(2)\n      })\n    }\n  }\n\n  return root\n}\n\n/**\n * Creates a TokenSet from a string.\n *\n * The string may contain one or more wildcard characters (*)\n * that will allow wildcard matching when intersecting with\n * another TokenSet.\n *\n * @param {string} str - The string to create a TokenSet from.\n * @returns {lunr.TokenSet}\n */\nlunr.TokenSet.fromString = function (str) {\n  var node = new lunr.TokenSet,\n      root = node\n\n  /*\n   * Iterates through all characters within the passed string\n   * appending a node for each character.\n   *\n   * When a wildcard character is found then a self\n   * referencing edge is introduced to continually match\n   * any number of any characters.\n   */\n  for (var i = 0, len = str.length; i < len; i++) {\n    var char = str[i],\n        final = (i == len - 1)\n\n    if (char == \"*\") {\n      node.edges[char] = node\n      node.final = final\n\n    } else {\n      var next = new lunr.TokenSet\n      next.final = final\n\n      node.edges[char] = next\n      node = next\n    }\n  }\n\n  return root\n}\n\n/**\n * Converts this TokenSet into an array of strings\n * contained within the TokenSet.\n *\n * This is not intended to be used on a TokenSet that\n * contains wildcards, in these cases the results are\n * undefined and are likely to cause an infinite loop.\n *\n * @returns {string[]}\n */\nlunr.TokenSet.prototype.toArray = function () {\n  var words = []\n\n  var stack = [{\n    prefix: \"\",\n    node: this\n  }]\n\n  while (stack.length) {\n    var frame = stack.pop(),\n        edges = Object.keys(frame.node.edges),\n        len = edges.length\n\n    if (frame.node.final) {\n      /* In Safari, at this point the prefix is sometimes corrupted, see:\n       * https://github.com/olivernn/lunr.js/issues/279 Calling any\n       * String.prototype method forces Safari to \"cast\" this string to what\n       * it's supposed to be, fixing the bug. */\n      frame.prefix.charAt(0)\n      words.push(frame.prefix)\n    }\n\n    for (var i = 0; i < len; i++) {\n      var edge = edges[i]\n\n      stack.push({\n        prefix: frame.prefix.concat(edge),\n        node: frame.node.edges[edge]\n      })\n    }\n  }\n\n  return words\n}\n\n/**\n * Generates a string representation of a TokenSet.\n *\n * This is intended to allow TokenSets to be used as keys\n * in objects, largely to aid the construction and minimisation\n * of a TokenSet. As such it is not designed to be a human\n * friendly representation of the TokenSet.\n *\n * @returns {string}\n */\nlunr.TokenSet.prototype.toString = function () {\n  // NOTE: Using Object.keys here as this.edges is very likely\n  // to enter 'hash-mode' with many keys being added\n  //\n  // avoiding a for-in loop here as it leads to the function\n  // being de-optimised (at least in V8). From some simple\n  // benchmarks the performance is comparable, but allowing\n  // V8 to optimize may mean easy performance wins in the future.\n\n  if (this._str) {\n    return this._str\n  }\n\n  var str = this.final ? '1' : '0',\n      labels = Object.keys(this.edges).sort(),\n      len = labels.length\n\n  for (var i = 0; i < len; i++) {\n    var label = labels[i],\n        node = this.edges[label]\n\n    str = str + label + node.id\n  }\n\n  return str\n}\n\n/**\n * Returns a new TokenSet that is the intersection of\n * this TokenSet and the passed TokenSet.\n *\n * This intersection will take into account any wildcards\n * contained within the TokenSet.\n *\n * @param {lunr.TokenSet} b - An other TokenSet to intersect with.\n * @returns {lunr.TokenSet}\n */\nlunr.TokenSet.prototype.intersect = function (b) {\n  var output = new lunr.TokenSet,\n      frame = undefined\n\n  var stack = [{\n    qNode: b,\n    output: output,\n    node: this\n  }]\n\n  while (stack.length) {\n    frame = stack.pop()\n\n    // NOTE: As with the #toString method, we are using\n    // Object.keys and a for loop instead of a for-in loop\n    // as both of these objects enter 'hash' mode, causing\n    // the function to be de-optimised in V8\n    var qEdges = Object.keys(frame.qNode.edges),\n        qLen = qEdges.length,\n        nEdges = Object.keys(frame.node.edges),\n        nLen = nEdges.length\n\n    for (var q = 0; q < qLen; q++) {\n      var qEdge = qEdges[q]\n\n      for (var n = 0; n < nLen; n++) {\n        var nEdge = nEdges[n]\n\n        if (nEdge == qEdge || qEdge == '*') {\n          var node = frame.node.edges[nEdge],\n              qNode = frame.qNode.edges[qEdge],\n              final = node.final && qNode.final,\n              next = undefined\n\n          if (nEdge in frame.output.edges) {\n            // an edge already exists for this character\n            // no need to create a new node, just set the finality\n            // bit unless this node is already final\n            next = frame.output.edges[nEdge]\n            next.final = next.final || final\n\n          } else {\n            // no edge exists yet, must create one\n            // set the finality bit and insert it\n            // into the output\n            next = new lunr.TokenSet\n            next.final = final\n            frame.output.edges[nEdge] = next\n          }\n\n          stack.push({\n            qNode: qNode,\n            output: next,\n            node: node\n          })\n        }\n      }\n    }\n  }\n\n  return output\n}\nlunr.TokenSet.Builder = function () {\n  this.previousWord = \"\"\n  this.root = new lunr.TokenSet\n  this.uncheckedNodes = []\n  this.minimizedNodes = {}\n}\n\nlunr.TokenSet.Builder.prototype.insert = function (word) {\n  var node,\n      commonPrefix = 0\n\n  if (word < this.previousWord) {\n    throw new Error (\"Out of order word insertion\")\n  }\n\n  for (var i = 0; i < word.length && i < this.previousWord.length; i++) {\n    if (word[i] != this.previousWord[i]) break\n    commonPrefix++\n  }\n\n  this.minimize(commonPrefix)\n\n  if (this.uncheckedNodes.length == 0) {\n    node = this.root\n  } else {\n    node = this.uncheckedNodes[this.uncheckedNodes.length - 1].child\n  }\n\n  for (var i = commonPrefix; i < word.length; i++) {\n    var nextNode = new lunr.TokenSet,\n        char = word[i]\n\n    node.edges[char] = nextNode\n\n    this.uncheckedNodes.push({\n      parent: node,\n      char: char,\n      child: nextNode\n    })\n\n    node = nextNode\n  }\n\n  node.final = true\n  this.previousWord = word\n}\n\nlunr.TokenSet.Builder.prototype.finish = function () {\n  this.minimize(0)\n}\n\nlunr.TokenSet.Builder.prototype.minimize = function (downTo) {\n  for (var i = this.uncheckedNodes.length - 1; i >= downTo; i--) {\n    var node = this.uncheckedNodes[i],\n        childKey = node.child.toString()\n\n    if (childKey in this.minimizedNodes) {\n      node.parent.edges[node.char] = this.minimizedNodes[childKey]\n    } else {\n      // Cache the key for this node since\n      // we know it can't change anymore\n      node.child._str = childKey\n\n      this.minimizedNodes[childKey] = node.child\n    }\n\n    this.uncheckedNodes.pop()\n  }\n}\n/*!\n * lunr.Index\n * Copyright (C) 2020 Oliver Nightingale\n */\n\n/**\n * An index contains the built index of all documents and provides a query interface\n * to the index.\n *\n * Usually instances of lunr.Index will not be created using this constructor, instead\n * lunr.Builder should be used to construct new indexes, or lunr.Index.load should be\n * used to load previously built and serialized indexes.\n *\n * @constructor\n * @param {Object} attrs - The attributes of the built search index.\n * @param {Object} attrs.invertedIndex - An index of term/field to document reference.\n * @param {Object<string, lunr.Vector>} attrs.fieldVectors - Field vectors\n * @param {lunr.TokenSet} attrs.tokenSet - An set of all corpus tokens.\n * @param {string[]} attrs.fields - The names of indexed document fields.\n * @param {lunr.Pipeline} attrs.pipeline - The pipeline to use for search terms.\n */\nlunr.Index = function (attrs) {\n  this.invertedIndex = attrs.invertedIndex\n  this.fieldVectors = attrs.fieldVectors\n  this.tokenSet = attrs.tokenSet\n  this.fields = attrs.fields\n  this.pipeline = attrs.pipeline\n}\n\n/**\n * A result contains details of a document matching a search query.\n * @typedef {Object} lunr.Index~Result\n * @property {string} ref - The reference of the document this result represents.\n * @property {number} score - A number between 0 and 1 representing how similar this document is to the query.\n * @property {lunr.MatchData} matchData - Contains metadata about this match including which term(s) caused the match.\n */\n\n/**\n * Although lunr provides the ability to create queries using lunr.Query, it also provides a simple\n * query language which itself is parsed into an instance of lunr.Query.\n *\n * For programmatically building queries it is advised to directly use lunr.Query, the query language\n * is best used for human entered text rather than program generated text.\n *\n * At its simplest queries can just be a single term, e.g. `hello`, multiple terms are also supported\n * and will be combined with OR, e.g `hello world` will match documents that contain either 'hello'\n * or 'world', though those that contain both will rank higher in the results.\n *\n * Wildcards can be included in terms to match one or more unspecified characters, these wildcards can\n * be inserted anywhere within the term, and more than one wildcard can exist in a single term. Adding\n * wildcards will increase the number of documents that will be found but can also have a negative\n * impact on query performance, especially with wildcards at the beginning of a term.\n *\n * Terms can be restricted to specific fields, e.g. `title:hello`, only documents with the term\n * hello in the title field will match this query. Using a field not present in the index will lead\n * to an error being thrown.\n *\n * Modifiers can also be added to terms, lunr supports edit distance and boost modifiers on terms. A term\n * boost will make documents matching that term score higher, e.g. `foo^5`. Edit distance is also supported\n * to provide fuzzy matching, e.g. 'hello~2' will match documents with hello with an edit distance of 2.\n * Avoid large values for edit distance to improve query performance.\n *\n * Each term also supports a presence modifier. By default a term's presence in document is optional, however\n * this can be changed to either required or prohibited. For a term's presence to be required in a document the\n * term should be prefixed with a '+', e.g. `+foo bar` is a search for documents that must contain 'foo' and\n * optionally contain 'bar'. Conversely a leading '-' sets the terms presence to prohibited, i.e. it must not\n * appear in a document, e.g. `-foo bar` is a search for documents that do not contain 'foo' but may contain 'bar'.\n *\n * To escape special characters the backslash character '\\' can be used, this allows searches to include\n * characters that would normally be considered modifiers, e.g. `foo\\~2` will search for a term \"foo~2\" instead\n * of attempting to apply a boost of 2 to the search term \"foo\".\n *\n * @typedef {string} lunr.Index~QueryString\n * @example <caption>Simple single term query</caption>\n * hello\n * @example <caption>Multiple term query</caption>\n * hello world\n * @example <caption>term scoped to a field</caption>\n * title:hello\n * @example <caption>term with a boost of 10</caption>\n * hello^10\n * @example <caption>term with an edit distance of 2</caption>\n * hello~2\n * @example <caption>terms with presence modifiers</caption>\n * -foo +bar baz\n */\n\n/**\n * Performs a search against the index using lunr query syntax.\n *\n * Results will be returned sorted by their score, the most relevant results\n * will be returned first.  For details on how the score is calculated, please see\n * the {@link https://lunrjs.com/guides/searching.html#scoring|guide}.\n *\n * For more programmatic querying use lunr.Index#query.\n *\n * @param {lunr.Index~QueryString} queryString - A string containing a lunr query.\n * @throws {lunr.QueryParseError} If the passed query string cannot be parsed.\n * @returns {lunr.Index~Result[]}\n */\nlunr.Index.prototype.search = function (queryString) {\n  return this.query(function (query) {\n    var parser = new lunr.QueryParser(queryString, query)\n    parser.parse()\n  })\n}\n\n/**\n * A query builder callback provides a query object to be used to express\n * the query to perform on the index.\n *\n * @callback lunr.Index~queryBuilder\n * @param {lunr.Query} query - The query object to build up.\n * @this lunr.Query\n */\n\n/**\n * Performs a query against the index using the yielded lunr.Query object.\n *\n * If performing programmatic queries against the index, this method is preferred\n * over lunr.Index#search so as to avoid the additional query parsing overhead.\n *\n * A query object is yielded to the supplied function which should be used to\n * express the query to be run against the index.\n *\n * Note that although this function takes a callback parameter it is _not_ an\n * asynchronous operation, the callback is just yielded a query object to be\n * customized.\n *\n * @param {lunr.Index~queryBuilder} fn - A function that is used to build the query.\n * @returns {lunr.Index~Result[]}\n */\nlunr.Index.prototype.query = function (fn) {\n  // for each query clause\n  // * process terms\n  // * expand terms from token set\n  // * find matching documents and metadata\n  // * get document vectors\n  // * score documents\n\n  var query = new lunr.Query(this.fields),\n      matchingFields = Object.create(null),\n      queryVectors = Object.create(null),\n      termFieldCache = Object.create(null),\n      requiredMatches = Object.create(null),\n      prohibitedMatches = Object.create(null)\n\n  /*\n   * To support field level boosts a query vector is created per\n   * field. An empty vector is eagerly created to support negated\n   * queries.\n   */\n  for (var i = 0; i < this.fields.length; i++) {\n    queryVectors[this.fields[i]] = new lunr.Vector\n  }\n\n  fn.call(query, query)\n\n  for (var i = 0; i < query.clauses.length; i++) {\n    /*\n     * Unless the pipeline has been disabled for this term, which is\n     * the case for terms with wildcards, we need to pass the clause\n     * term through the search pipeline. A pipeline returns an array\n     * of processed terms. Pipeline functions may expand the passed\n     * term, which means we may end up performing multiple index lookups\n     * for a single query term.\n     */\n    var clause = query.clauses[i],\n        terms = null,\n        clauseMatches = lunr.Set.empty\n\n    if (clause.usePipeline) {\n      terms = this.pipeline.runString(clause.term, {\n        fields: clause.fields\n      })\n    } else {\n      terms = [clause.term]\n    }\n\n    for (var m = 0; m < terms.length; m++) {\n      var term = terms[m]\n\n      /*\n       * Each term returned from the pipeline needs to use the same query\n       * clause object, e.g. the same boost and or edit distance. The\n       * simplest way to do this is to re-use the clause object but mutate\n       * its term property.\n       */\n      clause.term = term\n\n      /*\n       * From the term in the clause we create a token set which will then\n       * be used to intersect the indexes token set to get a list of terms\n       * to lookup in the inverted index\n       */\n      var termTokenSet = lunr.TokenSet.fromClause(clause),\n          expandedTerms = this.tokenSet.intersect(termTokenSet).toArray()\n\n      /*\n       * If a term marked as required does not exist in the tokenSet it is\n       * impossible for the search to return any matches. We set all the field\n       * scoped required matches set to empty and stop examining any further\n       * clauses.\n       */\n      if (expandedTerms.length === 0 && clause.presence === lunr.Query.presence.REQUIRED) {\n        for (var k = 0; k < clause.fields.length; k++) {\n          var field = clause.fields[k]\n          requiredMatches[field] = lunr.Set.empty\n        }\n\n        break\n      }\n\n      for (var j = 0; j < expandedTerms.length; j++) {\n        /*\n         * For each term get the posting and termIndex, this is required for\n         * building the query vector.\n         */\n        var expandedTerm = expandedTerms[j],\n            posting = this.invertedIndex[expandedTerm],\n            termIndex = posting._index\n\n        for (var k = 0; k < clause.fields.length; k++) {\n          /*\n           * For each field that this query term is scoped by (by default\n           * all fields are in scope) we need to get all the document refs\n           * that have this term in that field.\n           *\n           * The posting is the entry in the invertedIndex for the matching\n           * term from above.\n           */\n          var field = clause.fields[k],\n              fieldPosting = posting[field],\n              matchingDocumentRefs = Object.keys(fieldPosting),\n              termField = expandedTerm + \"/\" + field,\n              matchingDocumentsSet = new lunr.Set(matchingDocumentRefs)\n\n          /*\n           * if the presence of this term is required ensure that the matching\n           * documents are added to the set of required matches for this clause.\n           *\n           */\n          if (clause.presence == lunr.Query.presence.REQUIRED) {\n            clauseMatches = clauseMatches.union(matchingDocumentsSet)\n\n            if (requiredMatches[field] === undefined) {\n              requiredMatches[field] = lunr.Set.complete\n            }\n          }\n\n          /*\n           * if the presence of this term is prohibited ensure that the matching\n           * documents are added to the set of prohibited matches for this field,\n           * creating that set if it does not yet exist.\n           */\n          if (clause.presence == lunr.Query.presence.PROHIBITED) {\n            if (prohibitedMatches[field] === undefined) {\n              prohibitedMatches[field] = lunr.Set.empty\n            }\n\n            prohibitedMatches[field] = prohibitedMatches[field].union(matchingDocumentsSet)\n\n            /*\n             * Prohibited matches should not be part of the query vector used for\n             * similarity scoring and no metadata should be extracted so we continue\n             * to the next field\n             */\n            continue\n          }\n\n          /*\n           * The query field vector is populated using the termIndex found for\n           * the term and a unit value with the appropriate boost applied.\n           * Using upsert because there could already be an entry in the vector\n           * for the term we are working with. In that case we just add the scores\n           * together.\n           */\n          queryVectors[field].upsert(termIndex, clause.boost, function (a, b) { return a + b })\n\n          /**\n           * If we've already seen this term, field combo then we've already collected\n           * the matching documents and metadata, no need to go through all that again\n           */\n          if (termFieldCache[termField]) {\n            continue\n          }\n\n          for (var l = 0; l < matchingDocumentRefs.length; l++) {\n            /*\n             * All metadata for this term/field/document triple\n             * are then extracted and collected into an instance\n             * of lunr.MatchData ready to be returned in the query\n             * results\n             */\n            var matchingDocumentRef = matchingDocumentRefs[l],\n                matchingFieldRef = new lunr.FieldRef (matchingDocumentRef, field),\n                metadata = fieldPosting[matchingDocumentRef],\n                fieldMatch\n\n            if ((fieldMatch = matchingFields[matchingFieldRef]) === undefined) {\n              matchingFields[matchingFieldRef] = new lunr.MatchData (expandedTerm, field, metadata)\n            } else {\n              fieldMatch.add(expandedTerm, field, metadata)\n            }\n\n          }\n\n          termFieldCache[termField] = true\n        }\n      }\n    }\n\n    /**\n     * If the presence was required we need to update the requiredMatches field sets.\n     * We do this after all fields for the term have collected their matches because\n     * the clause terms presence is required in _any_ of the fields not _all_ of the\n     * fields.\n     */\n    if (clause.presence === lunr.Query.presence.REQUIRED) {\n      for (var k = 0; k < clause.fields.length; k++) {\n        var field = clause.fields[k]\n        requiredMatches[field] = requiredMatches[field].intersect(clauseMatches)\n      }\n    }\n  }\n\n  /**\n   * Need to combine the field scoped required and prohibited\n   * matching documents into a global set of required and prohibited\n   * matches\n   */\n  var allRequiredMatches = lunr.Set.complete,\n      allProhibitedMatches = lunr.Set.empty\n\n  for (var i = 0; i < this.fields.length; i++) {\n    var field = this.fields[i]\n\n    if (requiredMatches[field]) {\n      allRequiredMatches = allRequiredMatches.intersect(requiredMatches[field])\n    }\n\n    if (prohibitedMatches[field]) {\n      allProhibitedMatches = allProhibitedMatches.union(prohibitedMatches[field])\n    }\n  }\n\n  var matchingFieldRefs = Object.keys(matchingFields),\n      results = [],\n      matches = Object.create(null)\n\n  /*\n   * If the query is negated (contains only prohibited terms)\n   * we need to get _all_ fieldRefs currently existing in the\n   * index. This is only done when we know that the query is\n   * entirely prohibited terms to avoid any cost of getting all\n   * fieldRefs unnecessarily.\n   *\n   * Additionally, blank MatchData must be created to correctly\n   * populate the results.\n   */\n  if (query.isNegated()) {\n    matchingFieldRefs = Object.keys(this.fieldVectors)\n\n    for (var i = 0; i < matchingFieldRefs.length; i++) {\n      var matchingFieldRef = matchingFieldRefs[i]\n      var fieldRef = lunr.FieldRef.fromString(matchingFieldRef)\n      matchingFields[matchingFieldRef] = new lunr.MatchData\n    }\n  }\n\n  for (var i = 0; i < matchingFieldRefs.length; i++) {\n    /*\n     * Currently we have document fields that match the query, but we\n     * need to return documents. The matchData and scores are combined\n     * from multiple fields belonging to the same document.\n     *\n     * Scores are calculated by field, using the query vectors created\n     * above, and combined into a final document score using addition.\n     */\n    var fieldRef = lunr.FieldRef.fromString(matchingFieldRefs[i]),\n        docRef = fieldRef.docRef\n\n    if (!allRequiredMatches.contains(docRef)) {\n      continue\n    }\n\n    if (allProhibitedMatches.contains(docRef)) {\n      continue\n    }\n\n    var fieldVector = this.fieldVectors[fieldRef],\n        score = queryVectors[fieldRef.fieldName].similarity(fieldVector),\n        docMatch\n\n    if ((docMatch = matches[docRef]) !== undefined) {\n      docMatch.score += score\n      docMatch.matchData.combine(matchingFields[fieldRef])\n    } else {\n      var match = {\n        ref: docRef,\n        score: score,\n        matchData: matchingFields[fieldRef]\n      }\n      matches[docRef] = match\n      results.push(match)\n    }\n  }\n\n  /*\n   * Sort the results objects by score, highest first.\n   */\n  return results.sort(function (a, b) {\n    return b.score - a.score\n  })\n}\n\n/**\n * Prepares the index for JSON serialization.\n *\n * The schema for this JSON blob will be described in a\n * separate JSON schema file.\n *\n * @returns {Object}\n */\nlunr.Index.prototype.toJSON = function () {\n  var invertedIndex = Object.keys(this.invertedIndex)\n    .sort()\n    .map(function (term) {\n      return [term, this.invertedIndex[term]]\n    }, this)\n\n  var fieldVectors = Object.keys(this.fieldVectors)\n    .map(function (ref) {\n      return [ref, this.fieldVectors[ref].toJSON()]\n    }, this)\n\n  return {\n    version: lunr.version,\n    fields: this.fields,\n    fieldVectors: fieldVectors,\n    invertedIndex: invertedIndex,\n    pipeline: this.pipeline.toJSON()\n  }\n}\n\n/**\n * Loads a previously serialized lunr.Index\n *\n * @param {Object} serializedIndex - A previously serialized lunr.Index\n * @returns {lunr.Index}\n */\nlunr.Index.load = function (serializedIndex) {\n  var attrs = {},\n      fieldVectors = {},\n      serializedVectors = serializedIndex.fieldVectors,\n      invertedIndex = Object.create(null),\n      serializedInvertedIndex = serializedIndex.invertedIndex,\n      tokenSetBuilder = new lunr.TokenSet.Builder,\n      pipeline = lunr.Pipeline.load(serializedIndex.pipeline)\n\n  if (serializedIndex.version != lunr.version) {\n    lunr.utils.warn(\"Version mismatch when loading serialised index. Current version of lunr '\" + lunr.version + \"' does not match serialized index '\" + serializedIndex.version + \"'\")\n  }\n\n  for (var i = 0; i < serializedVectors.length; i++) {\n    var tuple = serializedVectors[i],\n        ref = tuple[0],\n        elements = tuple[1]\n\n    fieldVectors[ref] = new lunr.Vector(elements)\n  }\n\n  for (var i = 0; i < serializedInvertedIndex.length; i++) {\n    var tuple = serializedInvertedIndex[i],\n        term = tuple[0],\n        posting = tuple[1]\n\n    tokenSetBuilder.insert(term)\n    invertedIndex[term] = posting\n  }\n\n  tokenSetBuilder.finish()\n\n  attrs.fields = serializedIndex.fields\n\n  attrs.fieldVectors = fieldVectors\n  attrs.invertedIndex = invertedIndex\n  attrs.tokenSet = tokenSetBuilder.root\n  attrs.pipeline = pipeline\n\n  return new lunr.Index(attrs)\n}\n/*!\n * lunr.Builder\n * Copyright (C) 2020 Oliver Nightingale\n */\n\n/**\n * lunr.Builder performs indexing on a set of documents and\n * returns instances of lunr.Index ready for querying.\n *\n * All configuration of the index is done via the builder, the\n * fields to index, the document reference, the text processing\n * pipeline and document scoring parameters are all set on the\n * builder before indexing.\n *\n * @constructor\n * @property {string} _ref - Internal reference to the document reference field.\n * @property {string[]} _fields - Internal reference to the document fields to index.\n * @property {object} invertedIndex - The inverted index maps terms to document fields.\n * @property {object} documentTermFrequencies - Keeps track of document term frequencies.\n * @property {object} documentLengths - Keeps track of the length of documents added to the index.\n * @property {lunr.tokenizer} tokenizer - Function for splitting strings into tokens for indexing.\n * @property {lunr.Pipeline} pipeline - The pipeline performs text processing on tokens before indexing.\n * @property {lunr.Pipeline} searchPipeline - A pipeline for processing search terms before querying the index.\n * @property {number} documentCount - Keeps track of the total number of documents indexed.\n * @property {number} _b - A parameter to control field length normalization, setting this to 0 disabled normalization, 1 fully normalizes field lengths, the default value is 0.75.\n * @property {number} _k1 - A parameter to control how quickly an increase in term frequency results in term frequency saturation, the default value is 1.2.\n * @property {number} termIndex - A counter incremented for each unique term, used to identify a terms position in the vector space.\n * @property {array} metadataWhitelist - A list of metadata keys that have been whitelisted for entry in the index.\n */\nlunr.Builder = function () {\n  this._ref = \"id\"\n  this._fields = Object.create(null)\n  this._documents = Object.create(null)\n  this.invertedIndex = Object.create(null)\n  this.fieldTermFrequencies = {}\n  this.fieldLengths = {}\n  this.tokenizer = lunr.tokenizer\n  this.pipeline = new lunr.Pipeline\n  this.searchPipeline = new lunr.Pipeline\n  this.documentCount = 0\n  this._b = 0.75\n  this._k1 = 1.2\n  this.termIndex = 0\n  this.metadataWhitelist = []\n}\n\n/**\n * Sets the document field used as the document reference. Every document must have this field.\n * The type of this field in the document should be a string, if it is not a string it will be\n * coerced into a string by calling toString.\n *\n * The default ref is 'id'.\n *\n * The ref should _not_ be changed during indexing, it should be set before any documents are\n * added to the index. Changing it during indexing can lead to inconsistent results.\n *\n * @param {string} ref - The name of the reference field in the document.\n */\nlunr.Builder.prototype.ref = function (ref) {\n  this._ref = ref\n}\n\n/**\n * A function that is used to extract a field from a document.\n *\n * Lunr expects a field to be at the top level of a document, if however the field\n * is deeply nested within a document an extractor function can be used to extract\n * the right field for indexing.\n *\n * @callback fieldExtractor\n * @param {object} doc - The document being added to the index.\n * @returns {?(string|object|object[])} obj - The object that will be indexed for this field.\n * @example <caption>Extracting a nested field</caption>\n * function (doc) { return doc.nested.field }\n */\n\n/**\n * Adds a field to the list of document fields that will be indexed. Every document being\n * indexed should have this field. Null values for this field in indexed documents will\n * not cause errors but will limit the chance of that document being retrieved by searches.\n *\n * All fields should be added before adding documents to the index. Adding fields after\n * a document has been indexed will have no effect on already indexed documents.\n *\n * Fields can be boosted at build time. This allows terms within that field to have more\n * importance when ranking search results. Use a field boost to specify that matches within\n * one field are more important than other fields.\n *\n * @param {string} fieldName - The name of a field to index in all documents.\n * @param {object} attributes - Optional attributes associated with this field.\n * @param {number} [attributes.boost=1] - Boost applied to all terms within this field.\n * @param {fieldExtractor} [attributes.extractor] - Function to extract a field from a document.\n * @throws {RangeError} fieldName cannot contain unsupported characters '/'\n */\nlunr.Builder.prototype.field = function (fieldName, attributes) {\n  if (/\\//.test(fieldName)) {\n    throw new RangeError (\"Field '\" + fieldName + \"' contains illegal character '/'\")\n  }\n\n  this._fields[fieldName] = attributes || {}\n}\n\n/**\n * A parameter to tune the amount of field length normalisation that is applied when\n * calculating relevance scores. A value of 0 will completely disable any normalisation\n * and a value of 1 will fully normalise field lengths. The default is 0.75. Values of b\n * will be clamped to the range 0 - 1.\n *\n * @param {number} number - The value to set for this tuning parameter.\n */\nlunr.Builder.prototype.b = function (number) {\n  if (number < 0) {\n    this._b = 0\n  } else if (number > 1) {\n    this._b = 1\n  } else {\n    this._b = number\n  }\n}\n\n/**\n * A parameter that controls the speed at which a rise in term frequency results in term\n * frequency saturation. The default value is 1.2. Setting this to a higher value will give\n * slower saturation levels, a lower value will result in quicker saturation.\n *\n * @param {number} number - The value to set for this tuning parameter.\n */\nlunr.Builder.prototype.k1 = function (number) {\n  this._k1 = number\n}\n\n/**\n * Adds a document to the index.\n *\n * Before adding fields to the index the index should have been fully setup, with the document\n * ref and all fields to index already having been specified.\n *\n * The document must have a field name as specified by the ref (by default this is 'id') and\n * it should have all fields defined for indexing, though null or undefined values will not\n * cause errors.\n *\n * Entire documents can be boosted at build time. Applying a boost to a document indicates that\n * this document should rank higher in search results than other documents.\n *\n * @param {object} doc - The document to add to the index.\n * @param {object} attributes - Optional attributes associated with this document.\n * @param {number} [attributes.boost=1] - Boost applied to all terms within this document.\n */\nlunr.Builder.prototype.add = function (doc, attributes) {\n  var docRef = doc[this._ref],\n      fields = Object.keys(this._fields)\n\n  this._documents[docRef] = attributes || {}\n  this.documentCount += 1\n\n  for (var i = 0; i < fields.length; i++) {\n    var fieldName = fields[i],\n        extractor = this._fields[fieldName].extractor,\n        field = extractor ? extractor(doc) : doc[fieldName],\n        tokens = this.tokenizer(field, {\n          fields: [fieldName]\n        }),\n        terms = this.pipeline.run(tokens),\n        fieldRef = new lunr.FieldRef (docRef, fieldName),\n        fieldTerms = Object.create(null)\n\n    this.fieldTermFrequencies[fieldRef] = fieldTerms\n    this.fieldLengths[fieldRef] = 0\n\n    // store the length of this field for this document\n    this.fieldLengths[fieldRef] += terms.length\n\n    // calculate term frequencies for this field\n    for (var j = 0; j < terms.length; j++) {\n      var term = terms[j]\n\n      if (fieldTerms[term] == undefined) {\n        fieldTerms[term] = 0\n      }\n\n      fieldTerms[term] += 1\n\n      // add to inverted index\n      // create an initial posting if one doesn't exist\n      if (this.invertedIndex[term] == undefined) {\n        var posting = Object.create(null)\n        posting[\"_index\"] = this.termIndex\n        this.termIndex += 1\n\n        for (var k = 0; k < fields.length; k++) {\n          posting[fields[k]] = Object.create(null)\n        }\n\n        this.invertedIndex[term] = posting\n      }\n\n      // add an entry for this term/fieldName/docRef to the invertedIndex\n      if (this.invertedIndex[term][fieldName][docRef] == undefined) {\n        this.invertedIndex[term][fieldName][docRef] = Object.create(null)\n      }\n\n      // store all whitelisted metadata about this token in the\n      // inverted index\n      for (var l = 0; l < this.metadataWhitelist.length; l++) {\n        var metadataKey = this.metadataWhitelist[l],\n            metadata = term.metadata[metadataKey]\n\n        if (this.invertedIndex[term][fieldName][docRef][metadataKey] == undefined) {\n          this.invertedIndex[term][fieldName][docRef][metadataKey] = []\n        }\n\n        this.invertedIndex[term][fieldName][docRef][metadataKey].push(metadata)\n      }\n    }\n\n  }\n}\n\n/**\n * Calculates the average document length for this index\n *\n * @private\n */\nlunr.Builder.prototype.calculateAverageFieldLengths = function () {\n\n  var fieldRefs = Object.keys(this.fieldLengths),\n      numberOfFields = fieldRefs.length,\n      accumulator = {},\n      documentsWithField = {}\n\n  for (var i = 0; i < numberOfFields; i++) {\n    var fieldRef = lunr.FieldRef.fromString(fieldRefs[i]),\n        field = fieldRef.fieldName\n\n    documentsWithField[field] || (documentsWithField[field] = 0)\n    documentsWithField[field] += 1\n\n    accumulator[field] || (accumulator[field] = 0)\n    accumulator[field] += this.fieldLengths[fieldRef]\n  }\n\n  var fields = Object.keys(this._fields)\n\n  for (var i = 0; i < fields.length; i++) {\n    var fieldName = fields[i]\n    accumulator[fieldName] = accumulator[fieldName] / documentsWithField[fieldName]\n  }\n\n  this.averageFieldLength = accumulator\n}\n\n/**\n * Builds a vector space model of every document using lunr.Vector\n *\n * @private\n */\nlunr.Builder.prototype.createFieldVectors = function () {\n  var fieldVectors = {},\n      fieldRefs = Object.keys(this.fieldTermFrequencies),\n      fieldRefsLength = fieldRefs.length,\n      termIdfCache = Object.create(null)\n\n  for (var i = 0; i < fieldRefsLength; i++) {\n    var fieldRef = lunr.FieldRef.fromString(fieldRefs[i]),\n        fieldName = fieldRef.fieldName,\n        fieldLength = this.fieldLengths[fieldRef],\n        fieldVector = new lunr.Vector,\n        termFrequencies = this.fieldTermFrequencies[fieldRef],\n        terms = Object.keys(termFrequencies),\n        termsLength = terms.length\n\n\n    var fieldBoost = this._fields[fieldName].boost || 1,\n        docBoost = this._documents[fieldRef.docRef].boost || 1\n\n    for (var j = 0; j < termsLength; j++) {\n      var term = terms[j],\n          tf = termFrequencies[term],\n          termIndex = this.invertedIndex[term]._index,\n          idf, score, scoreWithPrecision\n\n      if (termIdfCache[term] === undefined) {\n        idf = lunr.idf(this.invertedIndex[term], this.documentCount)\n        termIdfCache[term] = idf\n      } else {\n        idf = termIdfCache[term]\n      }\n\n      score = idf * ((this._k1 + 1) * tf) / (this._k1 * (1 - this._b + this._b * (fieldLength / this.averageFieldLength[fieldName])) + tf)\n      score *= fieldBoost\n      score *= docBoost\n      scoreWithPrecision = Math.round(score * 1000) / 1000\n      // Converts 1.23456789 to 1.234.\n      // Reducing the precision so that the vectors take up less\n      // space when serialised. Doing it now so that they behave\n      // the same before and after serialisation. Also, this is\n      // the fastest approach to reducing a number's precision in\n      // JavaScript.\n\n      fieldVector.insert(termIndex, scoreWithPrecision)\n    }\n\n    fieldVectors[fieldRef] = fieldVector\n  }\n\n  this.fieldVectors = fieldVectors\n}\n\n/**\n * Creates a token set of all tokens in the index using lunr.TokenSet\n *\n * @private\n */\nlunr.Builder.prototype.createTokenSet = function () {\n  this.tokenSet = lunr.TokenSet.fromArray(\n    Object.keys(this.invertedIndex).sort()\n  )\n}\n\n/**\n * Builds the index, creating an instance of lunr.Index.\n *\n * This completes the indexing process and should only be called\n * once all documents have been added to the index.\n *\n * @returns {lunr.Index}\n */\nlunr.Builder.prototype.build = function () {\n  this.calculateAverageFieldLengths()\n  this.createFieldVectors()\n  this.createTokenSet()\n\n  return new lunr.Index({\n    invertedIndex: this.invertedIndex,\n    fieldVectors: this.fieldVectors,\n    tokenSet: this.tokenSet,\n    fields: Object.keys(this._fields),\n    pipeline: this.searchPipeline\n  })\n}\n\n/**\n * Applies a plugin to the index builder.\n *\n * A plugin is a function that is called with the index builder as its context.\n * Plugins can be used to customise or extend the behaviour of the index\n * in some way. A plugin is just a function, that encapsulated the custom\n * behaviour that should be applied when building the index.\n *\n * The plugin function will be called with the index builder as its argument, additional\n * arguments can also be passed when calling use. The function will be called\n * with the index builder as its context.\n *\n * @param {Function} plugin The plugin to apply.\n */\nlunr.Builder.prototype.use = function (fn) {\n  var args = Array.prototype.slice.call(arguments, 1)\n  args.unshift(this)\n  fn.apply(this, args)\n}\n/**\n * Contains and collects metadata about a matching document.\n * A single instance of lunr.MatchData is returned as part of every\n * lunr.Index~Result.\n *\n * @constructor\n * @param {string} term - The term this match data is associated with\n * @param {string} field - The field in which the term was found\n * @param {object} metadata - The metadata recorded about this term in this field\n * @property {object} metadata - A cloned collection of metadata associated with this document.\n * @see {@link lunr.Index~Result}\n */\nlunr.MatchData = function (term, field, metadata) {\n  var clonedMetadata = Object.create(null),\n      metadataKeys = Object.keys(metadata || {})\n\n  // Cloning the metadata to prevent the original\n  // being mutated during match data combination.\n  // Metadata is kept in an array within the inverted\n  // index so cloning the data can be done with\n  // Array#slice\n  for (var i = 0; i < metadataKeys.length; i++) {\n    var key = metadataKeys[i]\n    clonedMetadata[key] = metadata[key].slice()\n  }\n\n  this.metadata = Object.create(null)\n\n  if (term !== undefined) {\n    this.metadata[term] = Object.create(null)\n    this.metadata[term][field] = clonedMetadata\n  }\n}\n\n/**\n * An instance of lunr.MatchData will be created for every term that matches a\n * document. However only one instance is required in a lunr.Index~Result. This\n * method combines metadata from another instance of lunr.MatchData with this\n * objects metadata.\n *\n * @param {lunr.MatchData} otherMatchData - Another instance of match data to merge with this one.\n * @see {@link lunr.Index~Result}\n */\nlunr.MatchData.prototype.combine = function (otherMatchData) {\n  var terms = Object.keys(otherMatchData.metadata)\n\n  for (var i = 0; i < terms.length; i++) {\n    var term = terms[i],\n        fields = Object.keys(otherMatchData.metadata[term])\n\n    if (this.metadata[term] == undefined) {\n      this.metadata[term] = Object.create(null)\n    }\n\n    for (var j = 0; j < fields.length; j++) {\n      var field = fields[j],\n          keys = Object.keys(otherMatchData.metadata[term][field])\n\n      if (this.metadata[term][field] == undefined) {\n        this.metadata[term][field] = Object.create(null)\n      }\n\n      for (var k = 0; k < keys.length; k++) {\n        var key = keys[k]\n\n        if (this.metadata[term][field][key] == undefined) {\n          this.metadata[term][field][key] = otherMatchData.metadata[term][field][key]\n        } else {\n          this.metadata[term][field][key] = this.metadata[term][field][key].concat(otherMatchData.metadata[term][field][key])\n        }\n\n      }\n    }\n  }\n}\n\n/**\n * Add metadata for a term/field pair to this instance of match data.\n *\n * @param {string} term - The term this match data is associated with\n * @param {string} field - The field in which the term was found\n * @param {object} metadata - The metadata recorded about this term in this field\n */\nlunr.MatchData.prototype.add = function (term, field, metadata) {\n  if (!(term in this.metadata)) {\n    this.metadata[term] = Object.create(null)\n    this.metadata[term][field] = metadata\n    return\n  }\n\n  if (!(field in this.metadata[term])) {\n    this.metadata[term][field] = metadata\n    return\n  }\n\n  var metadataKeys = Object.keys(metadata)\n\n  for (var i = 0; i < metadataKeys.length; i++) {\n    var key = metadataKeys[i]\n\n    if (key in this.metadata[term][field]) {\n      this.metadata[term][field][key] = this.metadata[term][field][key].concat(metadata[key])\n    } else {\n      this.metadata[term][field][key] = metadata[key]\n    }\n  }\n}\n/**\n * A lunr.Query provides a programmatic way of defining queries to be performed\n * against a {@link lunr.Index}.\n *\n * Prefer constructing a lunr.Query using the {@link lunr.Index#query} method\n * so the query object is pre-initialized with the right index fields.\n *\n * @constructor\n * @property {lunr.Query~Clause[]} clauses - An array of query clauses.\n * @property {string[]} allFields - An array of all available fields in a lunr.Index.\n */\nlunr.Query = function (allFields) {\n  this.clauses = []\n  this.allFields = allFields\n}\n\n/**\n * Constants for indicating what kind of automatic wildcard insertion will be used when constructing a query clause.\n *\n * This allows wildcards to be added to the beginning and end of a term without having to manually do any string\n * concatenation.\n *\n * The wildcard constants can be bitwise combined to select both leading and trailing wildcards.\n *\n * @constant\n * @default\n * @property {number} wildcard.NONE - The term will have no wildcards inserted, this is the default behaviour\n * @property {number} wildcard.LEADING - Prepend the term with a wildcard, unless a leading wildcard already exists\n * @property {number} wildcard.TRAILING - Append a wildcard to the term, unless a trailing wildcard already exists\n * @see lunr.Query~Clause\n * @see lunr.Query#clause\n * @see lunr.Query#term\n * @example <caption>query term with trailing wildcard</caption>\n * query.term('foo', { wildcard: lunr.Query.wildcard.TRAILING })\n * @example <caption>query term with leading and trailing wildcard</caption>\n * query.term('foo', {\n *   wildcard: lunr.Query.wildcard.LEADING | lunr.Query.wildcard.TRAILING\n * })\n */\n\nlunr.Query.wildcard = new String (\"*\")\nlunr.Query.wildcard.NONE = 0\nlunr.Query.wildcard.LEADING = 1\nlunr.Query.wildcard.TRAILING = 2\n\n/**\n * Constants for indicating what kind of presence a term must have in matching documents.\n *\n * @constant\n * @enum {number}\n * @see lunr.Query~Clause\n * @see lunr.Query#clause\n * @see lunr.Query#term\n * @example <caption>query term with required presence</caption>\n * query.term('foo', { presence: lunr.Query.presence.REQUIRED })\n */\nlunr.Query.presence = {\n  /**\n   * Term's presence in a document is optional, this is the default value.\n   */\n  OPTIONAL: 1,\n\n  /**\n   * Term's presence in a document is required, documents that do not contain\n   * this term will not be returned.\n   */\n  REQUIRED: 2,\n\n  /**\n   * Term's presence in a document is prohibited, documents that do contain\n   * this term will not be returned.\n   */\n  PROHIBITED: 3\n}\n\n/**\n * A single clause in a {@link lunr.Query} contains a term and details on how to\n * match that term against a {@link lunr.Index}.\n *\n * @typedef {Object} lunr.Query~Clause\n * @property {string[]} fields - The fields in an index this clause should be matched against.\n * @property {number} [boost=1] - Any boost that should be applied when matching this clause.\n * @property {number} [editDistance] - Whether the term should have fuzzy matching applied, and how fuzzy the match should be.\n * @property {boolean} [usePipeline] - Whether the term should be passed through the search pipeline.\n * @property {number} [wildcard=lunr.Query.wildcard.NONE] - Whether the term should have wildcards appended or prepended.\n * @property {number} [presence=lunr.Query.presence.OPTIONAL] - The terms presence in any matching documents.\n */\n\n/**\n * Adds a {@link lunr.Query~Clause} to this query.\n *\n * Unless the clause contains the fields to be matched all fields will be matched. In addition\n * a default boost of 1 is applied to the clause.\n *\n * @param {lunr.Query~Clause} clause - The clause to add to this query.\n * @see lunr.Query~Clause\n * @returns {lunr.Query}\n */\nlunr.Query.prototype.clause = function (clause) {\n  if (!('fields' in clause)) {\n    clause.fields = this.allFields\n  }\n\n  if (!('boost' in clause)) {\n    clause.boost = 1\n  }\n\n  if (!('usePipeline' in clause)) {\n    clause.usePipeline = true\n  }\n\n  if (!('wildcard' in clause)) {\n    clause.wildcard = lunr.Query.wildcard.NONE\n  }\n\n  if ((clause.wildcard & lunr.Query.wildcard.LEADING) && (clause.term.charAt(0) != lunr.Query.wildcard)) {\n    clause.term = \"*\" + clause.term\n  }\n\n  if ((clause.wildcard & lunr.Query.wildcard.TRAILING) && (clause.term.slice(-1) != lunr.Query.wildcard)) {\n    clause.term = \"\" + clause.term + \"*\"\n  }\n\n  if (!('presence' in clause)) {\n    clause.presence = lunr.Query.presence.OPTIONAL\n  }\n\n  this.clauses.push(clause)\n\n  return this\n}\n\n/**\n * A negated query is one in which every clause has a presence of\n * prohibited. These queries require some special processing to return\n * the expected results.\n *\n * @returns boolean\n */\nlunr.Query.prototype.isNegated = function () {\n  for (var i = 0; i < this.clauses.length; i++) {\n    if (this.clauses[i].presence != lunr.Query.presence.PROHIBITED) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * Adds a term to the current query, under the covers this will create a {@link lunr.Query~Clause}\n * to the list of clauses that make up this query.\n *\n * The term is used as is, i.e. no tokenization will be performed by this method. Instead conversion\n * to a token or token-like string should be done before calling this method.\n *\n * The term will be converted to a string by calling `toString`. Multiple terms can be passed as an\n * array, each term in the array will share the same options.\n *\n * @param {object|object[]} term - The term(s) to add to the query.\n * @param {object} [options] - Any additional properties to add to the query clause.\n * @returns {lunr.Query}\n * @see lunr.Query#clause\n * @see lunr.Query~Clause\n * @example <caption>adding a single term to a query</caption>\n * query.term(\"foo\")\n * @example <caption>adding a single term to a query and specifying search fields, term boost and automatic trailing wildcard</caption>\n * query.term(\"foo\", {\n *   fields: [\"title\"],\n *   boost: 10,\n *   wildcard: lunr.Query.wildcard.TRAILING\n * })\n * @example <caption>using lunr.tokenizer to convert a string to tokens before using them as terms</caption>\n * query.term(lunr.tokenizer(\"foo bar\"))\n */\nlunr.Query.prototype.term = function (term, options) {\n  if (Array.isArray(term)) {\n    term.forEach(function (t) { this.term(t, lunr.utils.clone(options)) }, this)\n    return this\n  }\n\n  var clause = options || {}\n  clause.term = term.toString()\n\n  this.clause(clause)\n\n  return this\n}\nlunr.QueryParseError = function (message, start, end) {\n  this.name = \"QueryParseError\"\n  this.message = message\n  this.start = start\n  this.end = end\n}\n\nlunr.QueryParseError.prototype = new Error\nlunr.QueryLexer = function (str) {\n  this.lexemes = []\n  this.str = str\n  this.length = str.length\n  this.pos = 0\n  this.start = 0\n  this.escapeCharPositions = []\n}\n\nlunr.QueryLexer.prototype.run = function () {\n  var state = lunr.QueryLexer.lexText\n\n  while (state) {\n    state = state(this)\n  }\n}\n\nlunr.QueryLexer.prototype.sliceString = function () {\n  var subSlices = [],\n      sliceStart = this.start,\n      sliceEnd = this.pos\n\n  for (var i = 0; i < this.escapeCharPositions.length; i++) {\n    sliceEnd = this.escapeCharPositions[i]\n    subSlices.push(this.str.slice(sliceStart, sliceEnd))\n    sliceStart = sliceEnd + 1\n  }\n\n  subSlices.push(this.str.slice(sliceStart, this.pos))\n  this.escapeCharPositions.length = 0\n\n  return subSlices.join('')\n}\n\nlunr.QueryLexer.prototype.emit = function (type) {\n  this.lexemes.push({\n    type: type,\n    str: this.sliceString(),\n    start: this.start,\n    end: this.pos\n  })\n\n  this.start = this.pos\n}\n\nlunr.QueryLexer.prototype.escapeCharacter = function () {\n  this.escapeCharPositions.push(this.pos - 1)\n  this.pos += 1\n}\n\nlunr.QueryLexer.prototype.next = function () {\n  if (this.pos >= this.length) {\n    return lunr.QueryLexer.EOS\n  }\n\n  var char = this.str.charAt(this.pos)\n  this.pos += 1\n  return char\n}\n\nlunr.QueryLexer.prototype.width = function () {\n  return this.pos - this.start\n}\n\nlunr.QueryLexer.prototype.ignore = function () {\n  if (this.start == this.pos) {\n    this.pos += 1\n  }\n\n  this.start = this.pos\n}\n\nlunr.QueryLexer.prototype.backup = function () {\n  this.pos -= 1\n}\n\nlunr.QueryLexer.prototype.acceptDigitRun = function () {\n  var char, charCode\n\n  do {\n    char = this.next()\n    charCode = char.charCodeAt(0)\n  } while (charCode > 47 && charCode < 58)\n\n  if (char != lunr.QueryLexer.EOS) {\n    this.backup()\n  }\n}\n\nlunr.QueryLexer.prototype.more = function () {\n  return this.pos < this.length\n}\n\nlunr.QueryLexer.EOS = 'EOS'\nlunr.QueryLexer.FIELD = 'FIELD'\nlunr.QueryLexer.TERM = 'TERM'\nlunr.QueryLexer.EDIT_DISTANCE = 'EDIT_DISTANCE'\nlunr.QueryLexer.BOOST = 'BOOST'\nlunr.QueryLexer.PRESENCE = 'PRESENCE'\n\nlunr.QueryLexer.lexField = function (lexer) {\n  lexer.backup()\n  lexer.emit(lunr.QueryLexer.FIELD)\n  lexer.ignore()\n  return lunr.QueryLexer.lexText\n}\n\nlunr.QueryLexer.lexTerm = function (lexer) {\n  if (lexer.width() > 1) {\n    lexer.backup()\n    lexer.emit(lunr.QueryLexer.TERM)\n  }\n\n  lexer.ignore()\n\n  if (lexer.more()) {\n    return lunr.QueryLexer.lexText\n  }\n}\n\nlunr.QueryLexer.lexEditDistance = function (lexer) {\n  lexer.ignore()\n  lexer.acceptDigitRun()\n  lexer.emit(lunr.QueryLexer.EDIT_DISTANCE)\n  return lunr.QueryLexer.lexText\n}\n\nlunr.QueryLexer.lexBoost = function (lexer) {\n  lexer.ignore()\n  lexer.acceptDigitRun()\n  lexer.emit(lunr.QueryLexer.BOOST)\n  return lunr.QueryLexer.lexText\n}\n\nlunr.QueryLexer.lexEOS = function (lexer) {\n  if (lexer.width() > 0) {\n    lexer.emit(lunr.QueryLexer.TERM)\n  }\n}\n\n// This matches the separator used when tokenising fields\n// within a document. These should match otherwise it is\n// not possible to search for some tokens within a document.\n//\n// It is possible for the user to change the separator on the\n// tokenizer so it _might_ clash with any other of the special\n// characters already used within the search string, e.g. :.\n//\n// This means that it is possible to change the separator in\n// such a way that makes some words unsearchable using a search\n// string.\nlunr.QueryLexer.termSeparator = lunr.tokenizer.separator\n\nlunr.QueryLexer.lexText = function (lexer) {\n  while (true) {\n    var char = lexer.next()\n\n    if (char == lunr.QueryLexer.EOS) {\n      return lunr.QueryLexer.lexEOS\n    }\n\n    // Escape character is '\\'\n    if (char.charCodeAt(0) == 92) {\n      lexer.escapeCharacter()\n      continue\n    }\n\n    if (char == \":\") {\n      return lunr.QueryLexer.lexField\n    }\n\n    if (char == \"~\") {\n      lexer.backup()\n      if (lexer.width() > 0) {\n        lexer.emit(lunr.QueryLexer.TERM)\n      }\n      return lunr.QueryLexer.lexEditDistance\n    }\n\n    if (char == \"^\") {\n      lexer.backup()\n      if (lexer.width() > 0) {\n        lexer.emit(lunr.QueryLexer.TERM)\n      }\n      return lunr.QueryLexer.lexBoost\n    }\n\n    // \"+\" indicates term presence is required\n    // checking for length to ensure that only\n    // leading \"+\" are considered\n    if (char == \"+\" && lexer.width() === 1) {\n      lexer.emit(lunr.QueryLexer.PRESENCE)\n      return lunr.QueryLexer.lexText\n    }\n\n    // \"-\" indicates term presence is prohibited\n    // checking for length to ensure that only\n    // leading \"-\" are considered\n    if (char == \"-\" && lexer.width() === 1) {\n      lexer.emit(lunr.QueryLexer.PRESENCE)\n      return lunr.QueryLexer.lexText\n    }\n\n    if (char.match(lunr.QueryLexer.termSeparator)) {\n      return lunr.QueryLexer.lexTerm\n    }\n  }\n}\n\nlunr.QueryParser = function (str, query) {\n  this.lexer = new lunr.QueryLexer (str)\n  this.query = query\n  this.currentClause = {}\n  this.lexemeIdx = 0\n}\n\nlunr.QueryParser.prototype.parse = function () {\n  this.lexer.run()\n  this.lexemes = this.lexer.lexemes\n\n  var state = lunr.QueryParser.parseClause\n\n  while (state) {\n    state = state(this)\n  }\n\n  return this.query\n}\n\nlunr.QueryParser.prototype.peekLexeme = function () {\n  return this.lexemes[this.lexemeIdx]\n}\n\nlunr.QueryParser.prototype.consumeLexeme = function () {\n  var lexeme = this.peekLexeme()\n  this.lexemeIdx += 1\n  return lexeme\n}\n\nlunr.QueryParser.prototype.nextClause = function () {\n  var completedClause = this.currentClause\n  this.query.clause(completedClause)\n  this.currentClause = {}\n}\n\nlunr.QueryParser.parseClause = function (parser) {\n  var lexeme = parser.peekLexeme()\n\n  if (lexeme == undefined) {\n    return\n  }\n\n  switch (lexeme.type) {\n    case lunr.QueryLexer.PRESENCE:\n      return lunr.QueryParser.parsePresence\n    case lunr.QueryLexer.FIELD:\n      return lunr.QueryParser.parseField\n    case lunr.QueryLexer.TERM:\n      return lunr.QueryParser.parseTerm\n    default:\n      var errorMessage = \"expected either a field or a term, found \" + lexeme.type\n\n      if (lexeme.str.length >= 1) {\n        errorMessage += \" with value '\" + lexeme.str + \"'\"\n      }\n\n      throw new lunr.QueryParseError (errorMessage, lexeme.start, lexeme.end)\n  }\n}\n\nlunr.QueryParser.parsePresence = function (parser) {\n  var lexeme = parser.consumeLexeme()\n\n  if (lexeme == undefined) {\n    return\n  }\n\n  switch (lexeme.str) {\n    case \"-\":\n      parser.currentClause.presence = lunr.Query.presence.PROHIBITED\n      break\n    case \"+\":\n      parser.currentClause.presence = lunr.Query.presence.REQUIRED\n      break\n    default:\n      var errorMessage = \"unrecognised presence operator'\" + lexeme.str + \"'\"\n      throw new lunr.QueryParseError (errorMessage, lexeme.start, lexeme.end)\n  }\n\n  var nextLexeme = parser.peekLexeme()\n\n  if (nextLexeme == undefined) {\n    var errorMessage = \"expecting term or field, found nothing\"\n    throw new lunr.QueryParseError (errorMessage, lexeme.start, lexeme.end)\n  }\n\n  switch (nextLexeme.type) {\n    case lunr.QueryLexer.FIELD:\n      return lunr.QueryParser.parseField\n    case lunr.QueryLexer.TERM:\n      return lunr.QueryParser.parseTerm\n    default:\n      var errorMessage = \"expecting term or field, found '\" + nextLexeme.type + \"'\"\n      throw new lunr.QueryParseError (errorMessage, nextLexeme.start, nextLexeme.end)\n  }\n}\n\nlunr.QueryParser.parseField = function (parser) {\n  var lexeme = parser.consumeLexeme()\n\n  if (lexeme == undefined) {\n    return\n  }\n\n  if (parser.query.allFields.indexOf(lexeme.str) == -1) {\n    var possibleFields = parser.query.allFields.map(function (f) { return \"'\" + f + \"'\" }).join(', '),\n        errorMessage = \"unrecognised field '\" + lexeme.str + \"', possible fields: \" + possibleFields\n\n    throw new lunr.QueryParseError (errorMessage, lexeme.start, lexeme.end)\n  }\n\n  parser.currentClause.fields = [lexeme.str]\n\n  var nextLexeme = parser.peekLexeme()\n\n  if (nextLexeme == undefined) {\n    var errorMessage = \"expecting term, found nothing\"\n    throw new lunr.QueryParseError (errorMessage, lexeme.start, lexeme.end)\n  }\n\n  switch (nextLexeme.type) {\n    case lunr.QueryLexer.TERM:\n      return lunr.QueryParser.parseTerm\n    default:\n      var errorMessage = \"expecting term, found '\" + nextLexeme.type + \"'\"\n      throw new lunr.QueryParseError (errorMessage, nextLexeme.start, nextLexeme.end)\n  }\n}\n\nlunr.QueryParser.parseTerm = function (parser) {\n  var lexeme = parser.consumeLexeme()\n\n  if (lexeme == undefined) {\n    return\n  }\n\n  parser.currentClause.term = lexeme.str.toLowerCase()\n\n  if (lexeme.str.indexOf(\"*\") != -1) {\n    parser.currentClause.usePipeline = false\n  }\n\n  var nextLexeme = parser.peekLexeme()\n\n  if (nextLexeme == undefined) {\n    parser.nextClause()\n    return\n  }\n\n  switch (nextLexeme.type) {\n    case lunr.QueryLexer.TERM:\n      parser.nextClause()\n      return lunr.QueryParser.parseTerm\n    case lunr.QueryLexer.FIELD:\n      parser.nextClause()\n      return lunr.QueryParser.parseField\n    case lunr.QueryLexer.EDIT_DISTANCE:\n      return lunr.QueryParser.parseEditDistance\n    case lunr.QueryLexer.BOOST:\n      return lunr.QueryParser.parseBoost\n    case lunr.QueryLexer.PRESENCE:\n      parser.nextClause()\n      return lunr.QueryParser.parsePresence\n    default:\n      var errorMessage = \"Unexpected lexeme type '\" + nextLexeme.type + \"'\"\n      throw new lunr.QueryParseError (errorMessage, nextLexeme.start, nextLexeme.end)\n  }\n}\n\nlunr.QueryParser.parseEditDistance = function (parser) {\n  var lexeme = parser.consumeLexeme()\n\n  if (lexeme == undefined) {\n    return\n  }\n\n  var editDistance = parseInt(lexeme.str, 10)\n\n  if (isNaN(editDistance)) {\n    var errorMessage = \"edit distance must be numeric\"\n    throw new lunr.QueryParseError (errorMessage, lexeme.start, lexeme.end)\n  }\n\n  parser.currentClause.editDistance = editDistance\n\n  var nextLexeme = parser.peekLexeme()\n\n  if (nextLexeme == undefined) {\n    parser.nextClause()\n    return\n  }\n\n  switch (nextLexeme.type) {\n    case lunr.QueryLexer.TERM:\n      parser.nextClause()\n      return lunr.QueryParser.parseTerm\n    case lunr.QueryLexer.FIELD:\n      parser.nextClause()\n      return lunr.QueryParser.parseField\n    case lunr.QueryLexer.EDIT_DISTANCE:\n      return lunr.QueryParser.parseEditDistance\n    case lunr.QueryLexer.BOOST:\n      return lunr.QueryParser.parseBoost\n    case lunr.QueryLexer.PRESENCE:\n      parser.nextClause()\n      return lunr.QueryParser.parsePresence\n    default:\n      var errorMessage = \"Unexpected lexeme type '\" + nextLexeme.type + \"'\"\n      throw new lunr.QueryParseError (errorMessage, nextLexeme.start, nextLexeme.end)\n  }\n}\n\nlunr.QueryParser.parseBoost = function (parser) {\n  var lexeme = parser.consumeLexeme()\n\n  if (lexeme == undefined) {\n    return\n  }\n\n  var boost = parseInt(lexeme.str, 10)\n\n  if (isNaN(boost)) {\n    var errorMessage = \"boost must be numeric\"\n    throw new lunr.QueryParseError (errorMessage, lexeme.start, lexeme.end)\n  }\n\n  parser.currentClause.boost = boost\n\n  var nextLexeme = parser.peekLexeme()\n\n  if (nextLexeme == undefined) {\n    parser.nextClause()\n    return\n  }\n\n  switch (nextLexeme.type) {\n    case lunr.QueryLexer.TERM:\n      parser.nextClause()\n      return lunr.QueryParser.parseTerm\n    case lunr.QueryLexer.FIELD:\n      parser.nextClause()\n      return lunr.QueryParser.parseField\n    case lunr.QueryLexer.EDIT_DISTANCE:\n      return lunr.QueryParser.parseEditDistance\n    case lunr.QueryLexer.BOOST:\n      return lunr.QueryParser.parseBoost\n    case lunr.QueryLexer.PRESENCE:\n      parser.nextClause()\n      return lunr.QueryParser.parsePresence\n    default:\n      var errorMessage = \"Unexpected lexeme type '\" + nextLexeme.type + \"'\"\n      throw new lunr.QueryParseError (errorMessage, nextLexeme.start, nextLexeme.end)\n  }\n}\n\n  /**\n   * export the module via AMD, CommonJS or as a browser global\n   * Export code from https://github.com/umdjs/umd/blob/master/returnExports.js\n   */\n  ;(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n      // AMD. Register as an anonymous module.\n      define(factory)\n    } else if (typeof exports === 'object') {\n      /**\n       * Node. Does not work with strict CommonJS, but\n       * only CommonJS-like enviroments that support module.exports,\n       * like Node.\n       */\n      module.exports = factory()\n    } else {\n      // Browser globals (root is window)\n      root.lunr = factory()\n    }\n  }(this, function () {\n    /**\n     * Just return a value to define the module export.\n     * This example returns an object, but the module\n     * can return a function as the exported value.\n     */\n    return lunr\n  }))\n})();\n","'use strict';\n\n/** @type {import('./abs')} */\nmodule.exports = Math.abs;\n","'use strict';\n\n/** @type {import('./floor')} */\nmodule.exports = Math.floor;\n","'use strict';\n\n/** @type {import('./isNaN')} */\nmodule.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","'use strict';\n\n/** @type {import('./max')} */\nmodule.exports = Math.max;\n","'use strict';\n\n/** @type {import('./min')} */\nmodule.exports = Math.min;\n","'use strict';\n\n/** @type {import('./pow')} */\nmodule.exports = Math.pow;\n","'use strict';\n\n/** @type {import('./round')} */\nmodule.exports = Math.round;\n","'use strict';\n\nvar $isNaN = require('./isNaN');\n\n/** @type {import('./sign')} */\nmodule.exports = function sign(number) {\n\tif ($isNaN(number) || number === 0) {\n\t\treturn number;\n\t}\n\treturn number < 0 ? -1 : +1;\n};\n","module.exports = function (num, base) {\n  return parseInt(num.toString(), base || 8)\n}\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = [\n\t'Float16Array',\n\t'Float32Array',\n\t'Float64Array',\n\t'Int8Array',\n\t'Int16Array',\n\t'Int32Array',\n\t'Uint8Array',\n\t'Uint8ClampedArray',\n\t'Uint16Array',\n\t'Uint32Array',\n\t'BigInt64Array',\n\t'BigUint64Array'\n];\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*!\n  * prr\n  * (c) 2013 Rod Vagg <rod@vagg.org>\n  * https://github.com/rvagg/prr\n  * License: MIT\n  */\n\n(function (name, context, definition) {\n  if (typeof module != 'undefined' && module.exports)\n    module.exports = definition()\n  else\n    context[name] = definition()\n})('prr', this, function() {\n\n  var setProperty = typeof Object.defineProperty == 'function'\n      ? function (obj, key, options) {\n          Object.defineProperty(obj, key, options)\n          return obj\n        }\n      : function (obj, key, options) { // < es5\n          obj[key] = options.value\n          return obj\n        }\n\n    , makeOptions = function (value, options) {\n        var oo = typeof options == 'object'\n          , os = !oo && typeof options == 'string'\n          , op = function (p) {\n              return oo\n                ? !!options[p]\n                : os\n                  ? options.indexOf(p[0]) > -1\n                  : false\n            }\n\n        return {\n            enumerable   : op('enumerable')\n          , configurable : op('configurable')\n          , writable     : op('writable')\n          , value        : value\n        }\n      }\n\n    , prr = function (obj, key, value, options) {\n        var k\n\n        options = makeOptions(value, options)\n\n        if (typeof key == 'object') {\n          for (k in key) {\n            if (Object.hasOwnProperty.call(key, k)) {\n              options.value = key[k]\n              setProperty(obj, k, options)\n            }\n          }\n          return obj\n        }\n\n        return setProperty(obj, key, options)\n      }\n\n  return prr\n})","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, { hasUnpiped: false });\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n\n  // reuse the free corkReq.\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        pna.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        pna.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        pna.nextTick(emitErrorNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        pna.nextTick(emitErrorNT, _this, err);\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","module.exports = require('events').EventEmitter;\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","'use strict';\n\nvar callBound = require('call-bound');\nvar isRegex = require('is-regex');\n\nvar $exec = callBound('RegExp.prototype.exec');\nvar $TypeError = require('es-errors/type');\n\n/** @type {import('.')} */\nmodule.exports = function regexTester(regex) {\n\tif (!isRegex(regex)) {\n\t\tthrow new $TypeError('`regex` must be a RegExp');\n\t}\n\treturn function test(s) {\n\t\treturn $exec(regex, s) !== null;\n\t};\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar define = require('define-data-property');\nvar hasDescriptors = require('has-property-descriptors')();\nvar gOPD = require('gopd');\n\nvar $TypeError = require('es-errors/type');\nvar $floor = GetIntrinsic('%Math.floor%');\n\n/** @type {import('.')} */\nmodule.exports = function setFunctionLength(fn, length) {\n\tif (typeof fn !== 'function') {\n\t\tthrow new $TypeError('`fn` is not a function');\n\t}\n\tif (typeof length !== 'number' || length < 0 || length > 0xFFFFFFFF || $floor(length) !== length) {\n\t\tthrow new $TypeError('`length` must be a positive 32-bit integer');\n\t}\n\n\tvar loose = arguments.length > 2 && !!arguments[2];\n\n\tvar functionLengthIsConfigurable = true;\n\tvar functionLengthIsWritable = true;\n\tif ('length' in fn && gOPD) {\n\t\tvar desc = gOPD(fn, 'length');\n\t\tif (desc && !desc.configurable) {\n\t\t\tfunctionLengthIsConfigurable = false;\n\t\t}\n\t\tif (desc && !desc.writable) {\n\t\t\tfunctionLengthIsWritable = false;\n\t\t}\n\t}\n\n\tif (functionLengthIsConfigurable || functionLengthIsWritable || !loose) {\n\t\tif (hasDescriptors) {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length, true, true);\n\t\t} else {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length);\n\t\t}\n\t}\n\treturn fn;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/lib/_stream_readable.js');\nStream.Writable = require('readable-stream/lib/_stream_writable.js');\nStream.Duplex = require('readable-stream/lib/_stream_duplex.js');\nStream.Transform = require('readable-stream/lib/_stream_transform.js');\nStream.PassThrough = require('readable-stream/lib/_stream_passthrough.js');\nStream.finished = require('readable-stream/lib/internal/streams/end-of-stream.js')\nStream.pipeline = require('readable-stream/lib/internal/streams/pipeline.js')\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\nrequire('inherits')(Duplex, Readable);\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(onEndNT, this);\n}\nfunction onEndNT(self) {\n  self.end();\n}\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\nvar Transform = require('./_stream_transform');\nrequire('inherits')(PassThrough, Transform);\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\nvar Buffer = require('buffer').Buffer;\nvar OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/buffer_list');\nvar destroyImpl = require('./internal/streams/destroy');\nvar _require = require('./internal/streams/state'),\n  getHighWaterMark = _require.getHighWaterMark;\nvar _require$codes = require('../errors').codes,\n  ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n  ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n  ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;\n\n// Lazy loaded to improve the startup performance.\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\nrequire('inherits')(Readable, Stream);\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true;\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = options.emitClose !== false;\n\n  // Should .destroy() be called after 'end' (and potentially 'finish')\n  this.autoDestroy = !!options.autoDestroy;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex);\n\n  // legacy\n  this.readable = true;\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n  Stream.call(this);\n}\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  }\n\n  // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n  return er;\n}\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder;\n  // If setEncoding(null), decoder.encoding equals utf8\n  this._readableState.encoding = this._readableState.decoder.encoding;\n\n  // Iterate over current buffer to convert already stored Buffers:\n  var p = this._readableState.buffer.head;\n  var content = '';\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n  this._readableState.buffer.clear();\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n};\n\n// Don't raise the hwm > 1GB\nvar MAX_HWM = 0x40000000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  }\n\n  // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n  return dest;\n};\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    for (var i = 0; i < len; i++) dests[i].emit('unpipe', this, {\n      hasUnpiped: false\n    });\n    return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0;\n\n    // Try start flowing on next tick if stream isn't explicitly paused\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n  return res;\n};\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n  return res;\n};\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true;\n\n    // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n  state.paused = false;\n  return this;\n};\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n  if (!state.reading) {\n    stream.read(0);\n  }\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  this._readableState.paused = true;\n  return this;\n};\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null);\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n  return this;\n};\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n    return createReadableStreamAsyncIterator(this);\n  };\n}\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n});\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length);\n\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n    return from(Readable, iterable, opts);\n  };\n}\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\nvar _require$codes = require('../errors').codes,\n  ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n  ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n  ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\nvar Duplex = require('./_stream_duplex');\nrequire('inherits')(Transform, Duplex);\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null)\n    // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\nfunction prefinish() {\n  var _this = this;\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null)\n    // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\nvar Buffer = require('buffer').Buffer;\nvar OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\nvar destroyImpl = require('./internal/streams/destroy');\nvar _require = require('./internal/streams/state'),\n  getHighWaterMark = _require.getHighWaterMark;\nvar _require$codes = require('../errors').codes,\n  ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n  ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n  ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n  ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n  ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n  ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n  ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nrequire('inherits')(Writable, Stream);\nfunction nop() {}\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = options.emitClose !== false;\n\n  // Should .destroy() be called after 'finish' (and potentially 'end')\n  this.autoDestroy = !!options.autoDestroy;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex);\n\n  // legacy.\n  this.writable = true;\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END();\n  // TODO: defer error events consistently everywhere, not just the cb\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n  return true;\n}\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n  return ret;\n}\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\nWritable.prototype._writev = null;\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n  return need;\n}\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n\n  // reuse the free corkReq.\n  state.corkedRequestsFree.next = corkReq;\n}\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","'use strict';\n\nvar _Object$setPrototypeO;\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar finished = require('./end-of-stream');\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n  if (resolve !== null) {\n    var data = iter[kStream].read();\n    // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n  next: function next() {\n    var _this = this;\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    }\n\n    // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n    var lastPromise = this[kLastPromise];\n    var promise;\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n      promise = new Promise(this[kHandlePromise]);\n    }\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject];\n      // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n      iterator[kError] = err;\n      return;\n    }\n    var resolve = iterator[kLastResolve];\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\nmodule.exports = createReadableStreamAsyncIterator;","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar _require = require('buffer'),\n  Buffer = _require.Buffer;\nvar _require2 = require('util'),\n  inspect = _require2.inspect;\nvar custom = inspect && inspect.custom || 'inspect';\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\nmodule.exports = /*#__PURE__*/function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n      while (p = p.next) ret += s + p.data;\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n      return ret;\n    }\n\n    // Consumes a specified amount of bytes or characters from the buffered data.\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    }\n\n    // Consumes a specified amount of characters from the buffered data.\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n          break;\n        }\n        ++c;\n      }\n      this.length -= c;\n      return ret;\n    }\n\n    // Consumes a specified amount of bytes from the buffered data.\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n          break;\n        }\n        ++c;\n      }\n      this.length -= c;\n      return ret;\n    }\n\n    // Make sure the linked list only shows the minimal necessary information.\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread(_objectSpread({}, options), {}, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n  return BufferList;\n}();","'use strict';\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n  return this;\n}\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    callback.apply(this, args);\n  };\n}\nfunction noop() {}\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n  var writableEnded = stream._writableState && stream._writableState.finished;\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n  var onclose = function onclose() {\n    var err;\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\nmodule.exports = eos;","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n\n'use strict';\n\nvar eos;\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\nvar _require$codes = require('../../../errors').codes,\n  ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n  ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true;\n\n    // request.destroy just do .end - .abort is what we want\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\nfunction call(fn) {\n  fn();\n}\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\nmodule.exports = pipeline;","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n    return Math.floor(hwm);\n  }\n\n  // Default value\n  return state.objectMode ? 16 : 16 * 1024;\n}\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","module.exports = require('events').EventEmitter;\n","\n//force to a valid range\nvar range = exports.range = function (obj) {\n  return null == obj ? {} : 'string' === typeof range ? {\n      min: range, max: range + '\\xff'\n    } :  obj\n}\n\n//turn into a sub range.\nvar prefix = exports.prefix = function (range, within, term) {\n  range = exports.range(range)\n  var _range = {}\n  term = term || '\\xff'\n  if(range instanceof RegExp || 'function' == typeof range) {\n    _range.min = within\n    _range.max   = within + term,\n    _range.inner = function (k) {\n      var j = k.substring(within.length)\n      if(range.test)\n        return range.test(j)\n      return range(j)\n    }\n  }\n  else if('object' === typeof range) {\n    _range.min = within + (range.min || range.start || '')\n    _range.max = within + (range.max || range.end   || (term || '~'))\n    _range.reverse = !!range.reverse\n  }\n  return _range\n}\n\n//return a function that checks a range\nvar checker = exports.checker = function (range) {\n  if(!range) range = {}\n\n  if ('string' === typeof range)\n    return function (key) {\n      return key.indexOf(range) == 0\n    }\n  else if(range instanceof RegExp)\n    return function (key) {\n      return range.test(key)\n    }\n  else if('object' === typeof range)\n    return function (key) {\n      var min = range.min || range.start\n      var max = range.max || range.end\n\n      // fixes keys passed as ints from sublevels\n      key = String(key)\n\n      return (\n        !min || key >= min\n      ) && (\n        !max || key <= max\n      ) && (\n        !range.inner || (\n          range.inner.test \n            ? range.inner.test(key)\n            : range.inner(key)\n        )\n      )\n    }\n  else if('function' === typeof range)\n    return range\n}\n//check if a key is within a range.\nvar satifies = exports.satisfies = function (key, range) {\n  return checker(range)(key)\n}\n\n\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","/**\n * Convert a typed array to a Buffer without a copy\n *\n * Author:   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * License:  MIT\n *\n * `npm install typedarray-to-buffer`\n */\n\nmodule.exports = function (arr) {\n  if (typeof Buffer._augment === 'function' && Buffer.TYPED_ARRAY_SUPPORT) {\n    // If `Buffer` is from the `buffer` module and this browser supports typed arrays,\n    // then augment it with all the `Buffer` methods.\n    return Buffer._augment(arr)\n  } else {\n    // Otherwise, fallback to creating a `Buffer` with a copy.\n    return new Buffer(arr)\n  }\n}\n","var undefined = (void 0); // Paranoia\n\n// Beyond this value, index getters/setters (i.e. array[0], array[1]) are so slow to\n// create, and consume so much memory, that the browser appears frozen.\nvar MAX_ARRAY_LENGTH = 1e5;\n\n// Approximations of internal ECMAScript conversion functions\nvar ECMAScript = (function() {\n  // Stash a copy in case other scripts modify these\n  var opts = Object.prototype.toString,\n      ophop = Object.prototype.hasOwnProperty;\n\n  return {\n    // Class returns internal [[Class]] property, used to avoid cross-frame instanceof issues:\n    Class: function(v) { return opts.call(v).replace(/^\\[object *|\\]$/g, ''); },\n    HasProperty: function(o, p) { return p in o; },\n    HasOwnProperty: function(o, p) { return ophop.call(o, p); },\n    IsCallable: function(o) { return typeof o === 'function'; },\n    ToInt32: function(v) { return v >> 0; },\n    ToUint32: function(v) { return v >>> 0; }\n  };\n}());\n\n// Snapshot intrinsics\nvar LN2 = Math.LN2,\n    abs = Math.abs,\n    floor = Math.floor,\n    log = Math.log,\n    min = Math.min,\n    pow = Math.pow,\n    round = Math.round;\n\n// ES5: lock down object properties\nfunction configureProperties(obj) {\n  if (getOwnPropNames && defineProp) {\n    var props = getOwnPropNames(obj), i;\n    for (i = 0; i < props.length; i += 1) {\n      defineProp(obj, props[i], {\n        value: obj[props[i]],\n        writable: false,\n        enumerable: false,\n        configurable: false\n      });\n    }\n  }\n}\n\n// emulate ES5 getter/setter API using legacy APIs\n// http://blogs.msdn.com/b/ie/archive/2010/09/07/transitioning-existing-code-to-the-es5-getter-setter-apis.aspx\n// (second clause tests for Object.defineProperty() in IE<9 that only supports extending DOM prototypes, but\n// note that IE<9 does not support __defineGetter__ or __defineSetter__ so it just renders the method harmless)\nvar defineProp\nif (Object.defineProperty && (function() {\n      try {\n        Object.defineProperty({}, 'x', {});\n        return true;\n      } catch (e) {\n        return false;\n      }\n    })()) {\n  defineProp = Object.defineProperty;\n} else {\n  defineProp = function(o, p, desc) {\n    if (!o === Object(o)) throw new TypeError(\"Object.defineProperty called on non-object\");\n    if (ECMAScript.HasProperty(desc, 'get') && Object.prototype.__defineGetter__) { Object.prototype.__defineGetter__.call(o, p, desc.get); }\n    if (ECMAScript.HasProperty(desc, 'set') && Object.prototype.__defineSetter__) { Object.prototype.__defineSetter__.call(o, p, desc.set); }\n    if (ECMAScript.HasProperty(desc, 'value')) { o[p] = desc.value; }\n    return o;\n  };\n}\n\nvar getOwnPropNames = Object.getOwnPropertyNames || function (o) {\n  if (o !== Object(o)) throw new TypeError(\"Object.getOwnPropertyNames called on non-object\");\n  var props = [], p;\n  for (p in o) {\n    if (ECMAScript.HasOwnProperty(o, p)) {\n      props.push(p);\n    }\n  }\n  return props;\n};\n\n// ES5: Make obj[index] an alias for obj._getter(index)/obj._setter(index, value)\n// for index in 0 ... obj.length\nfunction makeArrayAccessors(obj) {\n  if (!defineProp) { return; }\n\n  if (obj.length > MAX_ARRAY_LENGTH) throw new RangeError(\"Array too large for polyfill\");\n\n  function makeArrayAccessor(index) {\n    defineProp(obj, index, {\n      'get': function() { return obj._getter(index); },\n      'set': function(v) { obj._setter(index, v); },\n      enumerable: true,\n      configurable: false\n    });\n  }\n\n  var i;\n  for (i = 0; i < obj.length; i += 1) {\n    makeArrayAccessor(i);\n  }\n}\n\n// Internal conversion functions:\n//    pack<Type>()   - take a number (interpreted as Type), output a byte array\n//    unpack<Type>() - take a byte array, output a Type-like number\n\nfunction as_signed(value, bits) { var s = 32 - bits; return (value << s) >> s; }\nfunction as_unsigned(value, bits) { var s = 32 - bits; return (value << s) >>> s; }\n\nfunction packI8(n) { return [n & 0xff]; }\nfunction unpackI8(bytes) { return as_signed(bytes[0], 8); }\n\nfunction packU8(n) { return [n & 0xff]; }\nfunction unpackU8(bytes) { return as_unsigned(bytes[0], 8); }\n\nfunction packU8Clamped(n) { n = round(Number(n)); return [n < 0 ? 0 : n > 0xff ? 0xff : n & 0xff]; }\n\nfunction packI16(n) { return [(n >> 8) & 0xff, n & 0xff]; }\nfunction unpackI16(bytes) { return as_signed(bytes[0] << 8 | bytes[1], 16); }\n\nfunction packU16(n) { return [(n >> 8) & 0xff, n & 0xff]; }\nfunction unpackU16(bytes) { return as_unsigned(bytes[0] << 8 | bytes[1], 16); }\n\nfunction packI32(n) { return [(n >> 24) & 0xff, (n >> 16) & 0xff, (n >> 8) & 0xff, n & 0xff]; }\nfunction unpackI32(bytes) { return as_signed(bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3], 32); }\n\nfunction packU32(n) { return [(n >> 24) & 0xff, (n >> 16) & 0xff, (n >> 8) & 0xff, n & 0xff]; }\nfunction unpackU32(bytes) { return as_unsigned(bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3], 32); }\n\nfunction packIEEE754(v, ebits, fbits) {\n\n  var bias = (1 << (ebits - 1)) - 1,\n      s, e, f, ln,\n      i, bits, str, bytes;\n\n  function roundToEven(n) {\n    var w = floor(n), f = n - w;\n    if (f < 0.5)\n      return w;\n    if (f > 0.5)\n      return w + 1;\n    return w % 2 ? w + 1 : w;\n  }\n\n  // Compute sign, exponent, fraction\n  if (v !== v) {\n    // NaN\n    // http://dev.w3.org/2006/webapi/WebIDL/#es-type-mapping\n    e = (1 << ebits) - 1; f = pow(2, fbits - 1); s = 0;\n  } else if (v === Infinity || v === -Infinity) {\n    e = (1 << ebits) - 1; f = 0; s = (v < 0) ? 1 : 0;\n  } else if (v === 0) {\n    e = 0; f = 0; s = (1 / v === -Infinity) ? 1 : 0;\n  } else {\n    s = v < 0;\n    v = abs(v);\n\n    if (v >= pow(2, 1 - bias)) {\n      e = min(floor(log(v) / LN2), 1023);\n      f = roundToEven(v / pow(2, e) * pow(2, fbits));\n      if (f / pow(2, fbits) >= 2) {\n        e = e + 1;\n        f = 1;\n      }\n      if (e > bias) {\n        // Overflow\n        e = (1 << ebits) - 1;\n        f = 0;\n      } else {\n        // Normalized\n        e = e + bias;\n        f = f - pow(2, fbits);\n      }\n    } else {\n      // Denormalized\n      e = 0;\n      f = roundToEven(v / pow(2, 1 - bias - fbits));\n    }\n  }\n\n  // Pack sign, exponent, fraction\n  bits = [];\n  for (i = fbits; i; i -= 1) { bits.push(f % 2 ? 1 : 0); f = floor(f / 2); }\n  for (i = ebits; i; i -= 1) { bits.push(e % 2 ? 1 : 0); e = floor(e / 2); }\n  bits.push(s ? 1 : 0);\n  bits.reverse();\n  str = bits.join('');\n\n  // Bits to bytes\n  bytes = [];\n  while (str.length) {\n    bytes.push(parseInt(str.substring(0, 8), 2));\n    str = str.substring(8);\n  }\n  return bytes;\n}\n\nfunction unpackIEEE754(bytes, ebits, fbits) {\n\n  // Bytes to bits\n  var bits = [], i, j, b, str,\n      bias, s, e, f;\n\n  for (i = bytes.length; i; i -= 1) {\n    b = bytes[i - 1];\n    for (j = 8; j; j -= 1) {\n      bits.push(b % 2 ? 1 : 0); b = b >> 1;\n    }\n  }\n  bits.reverse();\n  str = bits.join('');\n\n  // Unpack sign, exponent, fraction\n  bias = (1 << (ebits - 1)) - 1;\n  s = parseInt(str.substring(0, 1), 2) ? -1 : 1;\n  e = parseInt(str.substring(1, 1 + ebits), 2);\n  f = parseInt(str.substring(1 + ebits), 2);\n\n  // Produce number\n  if (e === (1 << ebits) - 1) {\n    return f !== 0 ? NaN : s * Infinity;\n  } else if (e > 0) {\n    // Normalized\n    return s * pow(2, e - bias) * (1 + f / pow(2, fbits));\n  } else if (f !== 0) {\n    // Denormalized\n    return s * pow(2, -(bias - 1)) * (f / pow(2, fbits));\n  } else {\n    return s < 0 ? -0 : 0;\n  }\n}\n\nfunction unpackF64(b) { return unpackIEEE754(b, 11, 52); }\nfunction packF64(v) { return packIEEE754(v, 11, 52); }\nfunction unpackF32(b) { return unpackIEEE754(b, 8, 23); }\nfunction packF32(v) { return packIEEE754(v, 8, 23); }\n\n\n//\n// 3 The ArrayBuffer Type\n//\n\n(function() {\n\n  /** @constructor */\n  var ArrayBuffer = function ArrayBuffer(length) {\n    length = ECMAScript.ToInt32(length);\n    if (length < 0) throw new RangeError('ArrayBuffer size is not a small enough positive integer');\n\n    this.byteLength = length;\n    this._bytes = [];\n    this._bytes.length = length;\n\n    var i;\n    for (i = 0; i < this.byteLength; i += 1) {\n      this._bytes[i] = 0;\n    }\n\n    configureProperties(this);\n  };\n\n  exports.ArrayBuffer = exports.ArrayBuffer || ArrayBuffer;\n\n  //\n  // 4 The ArrayBufferView Type\n  //\n\n  // NOTE: this constructor is not exported\n  /** @constructor */\n  var ArrayBufferView = function ArrayBufferView() {\n    //this.buffer = null;\n    //this.byteOffset = 0;\n    //this.byteLength = 0;\n  };\n\n  //\n  // 5 The Typed Array View Types\n  //\n\n  function makeConstructor(bytesPerElement, pack, unpack) {\n    // Each TypedArray type requires a distinct constructor instance with\n    // identical logic, which this produces.\n\n    var ctor;\n    ctor = function(buffer, byteOffset, length) {\n      var array, sequence, i, s;\n\n      if (!arguments.length || typeof arguments[0] === 'number') {\n        // Constructor(unsigned long length)\n        this.length = ECMAScript.ToInt32(arguments[0]);\n        if (length < 0) throw new RangeError('ArrayBufferView size is not a small enough positive integer');\n\n        this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        this.buffer = new ArrayBuffer(this.byteLength);\n        this.byteOffset = 0;\n      } else if (typeof arguments[0] === 'object' && arguments[0].constructor === ctor) {\n        // Constructor(TypedArray array)\n        array = arguments[0];\n\n        this.length = array.length;\n        this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        this.buffer = new ArrayBuffer(this.byteLength);\n        this.byteOffset = 0;\n\n        for (i = 0; i < this.length; i += 1) {\n          this._setter(i, array._getter(i));\n        }\n      } else if (typeof arguments[0] === 'object' &&\n                 !(arguments[0] instanceof ArrayBuffer || ECMAScript.Class(arguments[0]) === 'ArrayBuffer')) {\n        // Constructor(sequence<type> array)\n        sequence = arguments[0];\n\n        this.length = ECMAScript.ToUint32(sequence.length);\n        this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        this.buffer = new ArrayBuffer(this.byteLength);\n        this.byteOffset = 0;\n\n        for (i = 0; i < this.length; i += 1) {\n          s = sequence[i];\n          this._setter(i, Number(s));\n        }\n      } else if (typeof arguments[0] === 'object' &&\n                 (arguments[0] instanceof ArrayBuffer || ECMAScript.Class(arguments[0]) === 'ArrayBuffer')) {\n        // Constructor(ArrayBuffer buffer,\n        //             optional unsigned long byteOffset, optional unsigned long length)\n        this.buffer = buffer;\n\n        this.byteOffset = ECMAScript.ToUint32(byteOffset);\n        if (this.byteOffset > this.buffer.byteLength) {\n          throw new RangeError(\"byteOffset out of range\");\n        }\n\n        if (this.byteOffset % this.BYTES_PER_ELEMENT) {\n          // The given byteOffset must be a multiple of the element\n          // size of the specific type, otherwise an exception is raised.\n          throw new RangeError(\"ArrayBuffer length minus the byteOffset is not a multiple of the element size.\");\n        }\n\n        if (arguments.length < 3) {\n          this.byteLength = this.buffer.byteLength - this.byteOffset;\n\n          if (this.byteLength % this.BYTES_PER_ELEMENT) {\n            throw new RangeError(\"length of buffer minus byteOffset not a multiple of the element size\");\n          }\n          this.length = this.byteLength / this.BYTES_PER_ELEMENT;\n        } else {\n          this.length = ECMAScript.ToUint32(length);\n          this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        }\n\n        if ((this.byteOffset + this.byteLength) > this.buffer.byteLength) {\n          throw new RangeError(\"byteOffset and length reference an area beyond the end of the buffer\");\n        }\n      } else {\n        throw new TypeError(\"Unexpected argument type(s)\");\n      }\n\n      this.constructor = ctor;\n\n      configureProperties(this);\n      makeArrayAccessors(this);\n    };\n\n    ctor.prototype = new ArrayBufferView();\n    ctor.prototype.BYTES_PER_ELEMENT = bytesPerElement;\n    ctor.prototype._pack = pack;\n    ctor.prototype._unpack = unpack;\n    ctor.BYTES_PER_ELEMENT = bytesPerElement;\n\n    // getter type (unsigned long index);\n    ctor.prototype._getter = function(index) {\n      if (arguments.length < 1) throw new SyntaxError(\"Not enough arguments\");\n\n      index = ECMAScript.ToUint32(index);\n      if (index >= this.length) {\n        return undefined;\n      }\n\n      var bytes = [], i, o;\n      for (i = 0, o = this.byteOffset + index * this.BYTES_PER_ELEMENT;\n           i < this.BYTES_PER_ELEMENT;\n           i += 1, o += 1) {\n        bytes.push(this.buffer._bytes[o]);\n      }\n      return this._unpack(bytes);\n    };\n\n    // NONSTANDARD: convenience alias for getter: type get(unsigned long index);\n    ctor.prototype.get = ctor.prototype._getter;\n\n    // setter void (unsigned long index, type value);\n    ctor.prototype._setter = function(index, value) {\n      if (arguments.length < 2) throw new SyntaxError(\"Not enough arguments\");\n\n      index = ECMAScript.ToUint32(index);\n      if (index >= this.length) {\n        return undefined;\n      }\n\n      var bytes = this._pack(value), i, o;\n      for (i = 0, o = this.byteOffset + index * this.BYTES_PER_ELEMENT;\n           i < this.BYTES_PER_ELEMENT;\n           i += 1, o += 1) {\n        this.buffer._bytes[o] = bytes[i];\n      }\n    };\n\n    // void set(TypedArray array, optional unsigned long offset);\n    // void set(sequence<type> array, optional unsigned long offset);\n    ctor.prototype.set = function(index, value) {\n      if (arguments.length < 1) throw new SyntaxError(\"Not enough arguments\");\n      var array, sequence, offset, len,\n          i, s, d,\n          byteOffset, byteLength, tmp;\n\n      if (typeof arguments[0] === 'object' && arguments[0].constructor === this.constructor) {\n        // void set(TypedArray array, optional unsigned long offset);\n        array = arguments[0];\n        offset = ECMAScript.ToUint32(arguments[1]);\n\n        if (offset + array.length > this.length) {\n          throw new RangeError(\"Offset plus length of array is out of range\");\n        }\n\n        byteOffset = this.byteOffset + offset * this.BYTES_PER_ELEMENT;\n        byteLength = array.length * this.BYTES_PER_ELEMENT;\n\n        if (array.buffer === this.buffer) {\n          tmp = [];\n          for (i = 0, s = array.byteOffset; i < byteLength; i += 1, s += 1) {\n            tmp[i] = array.buffer._bytes[s];\n          }\n          for (i = 0, d = byteOffset; i < byteLength; i += 1, d += 1) {\n            this.buffer._bytes[d] = tmp[i];\n          }\n        } else {\n          for (i = 0, s = array.byteOffset, d = byteOffset;\n               i < byteLength; i += 1, s += 1, d += 1) {\n            this.buffer._bytes[d] = array.buffer._bytes[s];\n          }\n        }\n      } else if (typeof arguments[0] === 'object' && typeof arguments[0].length !== 'undefined') {\n        // void set(sequence<type> array, optional unsigned long offset);\n        sequence = arguments[0];\n        len = ECMAScript.ToUint32(sequence.length);\n        offset = ECMAScript.ToUint32(arguments[1]);\n\n        if (offset + len > this.length) {\n          throw new RangeError(\"Offset plus length of array is out of range\");\n        }\n\n        for (i = 0; i < len; i += 1) {\n          s = sequence[i];\n          this._setter(offset + i, Number(s));\n        }\n      } else {\n        throw new TypeError(\"Unexpected argument type(s)\");\n      }\n    };\n\n    // TypedArray subarray(long begin, optional long end);\n    ctor.prototype.subarray = function(start, end) {\n      function clamp(v, min, max) { return v < min ? min : v > max ? max : v; }\n\n      start = ECMAScript.ToInt32(start);\n      end = ECMAScript.ToInt32(end);\n\n      if (arguments.length < 1) { start = 0; }\n      if (arguments.length < 2) { end = this.length; }\n\n      if (start < 0) { start = this.length + start; }\n      if (end < 0) { end = this.length + end; }\n\n      start = clamp(start, 0, this.length);\n      end = clamp(end, 0, this.length);\n\n      var len = end - start;\n      if (len < 0) {\n        len = 0;\n      }\n\n      return new this.constructor(\n        this.buffer, this.byteOffset + start * this.BYTES_PER_ELEMENT, len);\n    };\n\n    return ctor;\n  }\n\n  var Int8Array = makeConstructor(1, packI8, unpackI8);\n  var Uint8Array = makeConstructor(1, packU8, unpackU8);\n  var Uint8ClampedArray = makeConstructor(1, packU8Clamped, unpackU8);\n  var Int16Array = makeConstructor(2, packI16, unpackI16);\n  var Uint16Array = makeConstructor(2, packU16, unpackU16);\n  var Int32Array = makeConstructor(4, packI32, unpackI32);\n  var Uint32Array = makeConstructor(4, packU32, unpackU32);\n  var Float32Array = makeConstructor(4, packF32, unpackF32);\n  var Float64Array = makeConstructor(8, packF64, unpackF64);\n\n  exports.Int8Array = exports.Int8Array || Int8Array;\n  exports.Uint8Array = exports.Uint8Array || Uint8Array;\n  exports.Uint8ClampedArray = exports.Uint8ClampedArray || Uint8ClampedArray;\n  exports.Int16Array = exports.Int16Array || Int16Array;\n  exports.Uint16Array = exports.Uint16Array || Uint16Array;\n  exports.Int32Array = exports.Int32Array || Int32Array;\n  exports.Uint32Array = exports.Uint32Array || Uint32Array;\n  exports.Float32Array = exports.Float32Array || Float32Array;\n  exports.Float64Array = exports.Float64Array || Float64Array;\n}());\n\n//\n// 6 The DataView View Type\n//\n\n(function() {\n  function r(array, index) {\n    return ECMAScript.IsCallable(array.get) ? array.get(index) : array[index];\n  }\n\n  var IS_BIG_ENDIAN = (function() {\n    var u16array = new(exports.Uint16Array)([0x1234]),\n        u8array = new(exports.Uint8Array)(u16array.buffer);\n    return r(u8array, 0) === 0x12;\n  }());\n\n  // Constructor(ArrayBuffer buffer,\n  //             optional unsigned long byteOffset,\n  //             optional unsigned long byteLength)\n  /** @constructor */\n  var DataView = function DataView(buffer, byteOffset, byteLength) {\n    if (arguments.length === 0) {\n      buffer = new exports.ArrayBuffer(0);\n    } else if (!(buffer instanceof exports.ArrayBuffer || ECMAScript.Class(buffer) === 'ArrayBuffer')) {\n      throw new TypeError(\"TypeError\");\n    }\n\n    this.buffer = buffer || new exports.ArrayBuffer(0);\n\n    this.byteOffset = ECMAScript.ToUint32(byteOffset);\n    if (this.byteOffset > this.buffer.byteLength) {\n      throw new RangeError(\"byteOffset out of range\");\n    }\n\n    if (arguments.length < 3) {\n      this.byteLength = this.buffer.byteLength - this.byteOffset;\n    } else {\n      this.byteLength = ECMAScript.ToUint32(byteLength);\n    }\n\n    if ((this.byteOffset + this.byteLength) > this.buffer.byteLength) {\n      throw new RangeError(\"byteOffset and length reference an area beyond the end of the buffer\");\n    }\n\n    configureProperties(this);\n  };\n\n  function makeGetter(arrayType) {\n    return function(byteOffset, littleEndian) {\n\n      byteOffset = ECMAScript.ToUint32(byteOffset);\n\n      if (byteOffset + arrayType.BYTES_PER_ELEMENT > this.byteLength) {\n        throw new RangeError(\"Array index out of range\");\n      }\n      byteOffset += this.byteOffset;\n\n      var uint8Array = new exports.Uint8Array(this.buffer, byteOffset, arrayType.BYTES_PER_ELEMENT),\n          bytes = [], i;\n      for (i = 0; i < arrayType.BYTES_PER_ELEMENT; i += 1) {\n        bytes.push(r(uint8Array, i));\n      }\n\n      if (Boolean(littleEndian) === Boolean(IS_BIG_ENDIAN)) {\n        bytes.reverse();\n      }\n\n      return r(new arrayType(new exports.Uint8Array(bytes).buffer), 0);\n    };\n  }\n\n  DataView.prototype.getUint8 = makeGetter(exports.Uint8Array);\n  DataView.prototype.getInt8 = makeGetter(exports.Int8Array);\n  DataView.prototype.getUint16 = makeGetter(exports.Uint16Array);\n  DataView.prototype.getInt16 = makeGetter(exports.Int16Array);\n  DataView.prototype.getUint32 = makeGetter(exports.Uint32Array);\n  DataView.prototype.getInt32 = makeGetter(exports.Int32Array);\n  DataView.prototype.getFloat32 = makeGetter(exports.Float32Array);\n  DataView.prototype.getFloat64 = makeGetter(exports.Float64Array);\n\n  function makeSetter(arrayType) {\n    return function(byteOffset, value, littleEndian) {\n\n      byteOffset = ECMAScript.ToUint32(byteOffset);\n      if (byteOffset + arrayType.BYTES_PER_ELEMENT > this.byteLength) {\n        throw new RangeError(\"Array index out of range\");\n      }\n\n      // Get bytes\n      var typeArray = new arrayType([value]),\n          byteArray = new exports.Uint8Array(typeArray.buffer),\n          bytes = [], i, byteView;\n\n      for (i = 0; i < arrayType.BYTES_PER_ELEMENT; i += 1) {\n        bytes.push(r(byteArray, i));\n      }\n\n      // Flip if necessary\n      if (Boolean(littleEndian) === Boolean(IS_BIG_ENDIAN)) {\n        bytes.reverse();\n      }\n\n      // Write them\n      byteView = new exports.Uint8Array(this.buffer, byteOffset, arrayType.BYTES_PER_ELEMENT);\n      byteView.set(bytes);\n    };\n  }\n\n  DataView.prototype.setUint8 = makeSetter(exports.Uint8Array);\n  DataView.prototype.setInt8 = makeSetter(exports.Int8Array);\n  DataView.prototype.setUint16 = makeSetter(exports.Uint16Array);\n  DataView.prototype.setInt16 = makeSetter(exports.Int16Array);\n  DataView.prototype.setUint32 = makeSetter(exports.Uint32Array);\n  DataView.prototype.setInt32 = makeSetter(exports.Int32Array);\n  DataView.prototype.setFloat32 = makeSetter(exports.Float32Array);\n  DataView.prototype.setFloat64 = makeSetter(exports.Float64Array);\n\n  exports.DataView = exports.DataView || DataView;\n\n}());\n","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Currently in sync with Node.js lib/internal/util/types.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n\n'use strict';\n\nvar isArgumentsObject = require('is-arguments');\nvar isGeneratorFunction = require('is-generator-function');\nvar whichTypedArray = require('which-typed-array');\nvar isTypedArray = require('is-typed-array');\n\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\n\nvar BigIntSupported = typeof BigInt !== 'undefined';\nvar SymbolSupported = typeof Symbol !== 'undefined';\n\nvar ObjectToString = uncurryThis(Object.prototype.toString);\n\nvar numberValue = uncurryThis(Number.prototype.valueOf);\nvar stringValue = uncurryThis(String.prototype.valueOf);\nvar booleanValue = uncurryThis(Boolean.prototype.valueOf);\n\nif (BigIntSupported) {\n  var bigIntValue = uncurryThis(BigInt.prototype.valueOf);\n}\n\nif (SymbolSupported) {\n  var symbolValue = uncurryThis(Symbol.prototype.valueOf);\n}\n\nfunction checkBoxedPrimitive(value, prototypeValueOf) {\n  if (typeof value !== 'object') {\n    return false;\n  }\n  try {\n    prototypeValueOf(value);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n\nexports.isArgumentsObject = isArgumentsObject;\nexports.isGeneratorFunction = isGeneratorFunction;\nexports.isTypedArray = isTypedArray;\n\n// Taken from here and modified for better browser support\n// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js\nfunction isPromise(input) {\n\treturn (\n\t\t(\n\t\t\ttypeof Promise !== 'undefined' &&\n\t\t\tinput instanceof Promise\n\t\t) ||\n\t\t(\n\t\t\tinput !== null &&\n\t\t\ttypeof input === 'object' &&\n\t\t\ttypeof input.then === 'function' &&\n\t\t\ttypeof input.catch === 'function'\n\t\t)\n\t);\n}\nexports.isPromise = isPromise;\n\nfunction isArrayBufferView(value) {\n  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {\n    return ArrayBuffer.isView(value);\n  }\n\n  return (\n    isTypedArray(value) ||\n    isDataView(value)\n  );\n}\nexports.isArrayBufferView = isArrayBufferView;\n\n\nfunction isUint8Array(value) {\n  return whichTypedArray(value) === 'Uint8Array';\n}\nexports.isUint8Array = isUint8Array;\n\nfunction isUint8ClampedArray(value) {\n  return whichTypedArray(value) === 'Uint8ClampedArray';\n}\nexports.isUint8ClampedArray = isUint8ClampedArray;\n\nfunction isUint16Array(value) {\n  return whichTypedArray(value) === 'Uint16Array';\n}\nexports.isUint16Array = isUint16Array;\n\nfunction isUint32Array(value) {\n  return whichTypedArray(value) === 'Uint32Array';\n}\nexports.isUint32Array = isUint32Array;\n\nfunction isInt8Array(value) {\n  return whichTypedArray(value) === 'Int8Array';\n}\nexports.isInt8Array = isInt8Array;\n\nfunction isInt16Array(value) {\n  return whichTypedArray(value) === 'Int16Array';\n}\nexports.isInt16Array = isInt16Array;\n\nfunction isInt32Array(value) {\n  return whichTypedArray(value) === 'Int32Array';\n}\nexports.isInt32Array = isInt32Array;\n\nfunction isFloat32Array(value) {\n  return whichTypedArray(value) === 'Float32Array';\n}\nexports.isFloat32Array = isFloat32Array;\n\nfunction isFloat64Array(value) {\n  return whichTypedArray(value) === 'Float64Array';\n}\nexports.isFloat64Array = isFloat64Array;\n\nfunction isBigInt64Array(value) {\n  return whichTypedArray(value) === 'BigInt64Array';\n}\nexports.isBigInt64Array = isBigInt64Array;\n\nfunction isBigUint64Array(value) {\n  return whichTypedArray(value) === 'BigUint64Array';\n}\nexports.isBigUint64Array = isBigUint64Array;\n\nfunction isMapToString(value) {\n  return ObjectToString(value) === '[object Map]';\n}\nisMapToString.working = (\n  typeof Map !== 'undefined' &&\n  isMapToString(new Map())\n);\n\nfunction isMap(value) {\n  if (typeof Map === 'undefined') {\n    return false;\n  }\n\n  return isMapToString.working\n    ? isMapToString(value)\n    : value instanceof Map;\n}\nexports.isMap = isMap;\n\nfunction isSetToString(value) {\n  return ObjectToString(value) === '[object Set]';\n}\nisSetToString.working = (\n  typeof Set !== 'undefined' &&\n  isSetToString(new Set())\n);\nfunction isSet(value) {\n  if (typeof Set === 'undefined') {\n    return false;\n  }\n\n  return isSetToString.working\n    ? isSetToString(value)\n    : value instanceof Set;\n}\nexports.isSet = isSet;\n\nfunction isWeakMapToString(value) {\n  return ObjectToString(value) === '[object WeakMap]';\n}\nisWeakMapToString.working = (\n  typeof WeakMap !== 'undefined' &&\n  isWeakMapToString(new WeakMap())\n);\nfunction isWeakMap(value) {\n  if (typeof WeakMap === 'undefined') {\n    return false;\n  }\n\n  return isWeakMapToString.working\n    ? isWeakMapToString(value)\n    : value instanceof WeakMap;\n}\nexports.isWeakMap = isWeakMap;\n\nfunction isWeakSetToString(value) {\n  return ObjectToString(value) === '[object WeakSet]';\n}\nisWeakSetToString.working = (\n  typeof WeakSet !== 'undefined' &&\n  isWeakSetToString(new WeakSet())\n);\nfunction isWeakSet(value) {\n  return isWeakSetToString(value);\n}\nexports.isWeakSet = isWeakSet;\n\nfunction isArrayBufferToString(value) {\n  return ObjectToString(value) === '[object ArrayBuffer]';\n}\nisArrayBufferToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  isArrayBufferToString(new ArrayBuffer())\n);\nfunction isArrayBuffer(value) {\n  if (typeof ArrayBuffer === 'undefined') {\n    return false;\n  }\n\n  return isArrayBufferToString.working\n    ? isArrayBufferToString(value)\n    : value instanceof ArrayBuffer;\n}\nexports.isArrayBuffer = isArrayBuffer;\n\nfunction isDataViewToString(value) {\n  return ObjectToString(value) === '[object DataView]';\n}\nisDataViewToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  typeof DataView !== 'undefined' &&\n  isDataViewToString(new DataView(new ArrayBuffer(1), 0, 1))\n);\nfunction isDataView(value) {\n  if (typeof DataView === 'undefined') {\n    return false;\n  }\n\n  return isDataViewToString.working\n    ? isDataViewToString(value)\n    : value instanceof DataView;\n}\nexports.isDataView = isDataView;\n\n// Store a copy of SharedArrayBuffer in case it's deleted elsewhere\nvar SharedArrayBufferCopy = typeof SharedArrayBuffer !== 'undefined' ? SharedArrayBuffer : undefined;\nfunction isSharedArrayBufferToString(value) {\n  return ObjectToString(value) === '[object SharedArrayBuffer]';\n}\nfunction isSharedArrayBuffer(value) {\n  if (typeof SharedArrayBufferCopy === 'undefined') {\n    return false;\n  }\n\n  if (typeof isSharedArrayBufferToString.working === 'undefined') {\n    isSharedArrayBufferToString.working = isSharedArrayBufferToString(new SharedArrayBufferCopy());\n  }\n\n  return isSharedArrayBufferToString.working\n    ? isSharedArrayBufferToString(value)\n    : value instanceof SharedArrayBufferCopy;\n}\nexports.isSharedArrayBuffer = isSharedArrayBuffer;\n\nfunction isAsyncFunction(value) {\n  return ObjectToString(value) === '[object AsyncFunction]';\n}\nexports.isAsyncFunction = isAsyncFunction;\n\nfunction isMapIterator(value) {\n  return ObjectToString(value) === '[object Map Iterator]';\n}\nexports.isMapIterator = isMapIterator;\n\nfunction isSetIterator(value) {\n  return ObjectToString(value) === '[object Set Iterator]';\n}\nexports.isSetIterator = isSetIterator;\n\nfunction isGeneratorObject(value) {\n  return ObjectToString(value) === '[object Generator]';\n}\nexports.isGeneratorObject = isGeneratorObject;\n\nfunction isWebAssemblyCompiledModule(value) {\n  return ObjectToString(value) === '[object WebAssembly.Module]';\n}\nexports.isWebAssemblyCompiledModule = isWebAssemblyCompiledModule;\n\nfunction isNumberObject(value) {\n  return checkBoxedPrimitive(value, numberValue);\n}\nexports.isNumberObject = isNumberObject;\n\nfunction isStringObject(value) {\n  return checkBoxedPrimitive(value, stringValue);\n}\nexports.isStringObject = isStringObject;\n\nfunction isBooleanObject(value) {\n  return checkBoxedPrimitive(value, booleanValue);\n}\nexports.isBooleanObject = isBooleanObject;\n\nfunction isBigIntObject(value) {\n  return BigIntSupported && checkBoxedPrimitive(value, bigIntValue);\n}\nexports.isBigIntObject = isBigIntObject;\n\nfunction isSymbolObject(value) {\n  return SymbolSupported && checkBoxedPrimitive(value, symbolValue);\n}\nexports.isSymbolObject = isSymbolObject;\n\nfunction isBoxedPrimitive(value) {\n  return (\n    isNumberObject(value) ||\n    isStringObject(value) ||\n    isBooleanObject(value) ||\n    isBigIntObject(value) ||\n    isSymbolObject(value)\n  );\n}\nexports.isBoxedPrimitive = isBoxedPrimitive;\n\nfunction isAnyArrayBuffer(value) {\n  return typeof Uint8Array !== 'undefined' && (\n    isArrayBuffer(value) ||\n    isSharedArrayBuffer(value)\n  );\n}\nexports.isAnyArrayBuffer = isAnyArrayBuffer;\n\n['isProxy', 'isExternal', 'isModuleNamespaceObject'].forEach(function(method) {\n  Object.defineProperty(exports, method, {\n    enumerable: false,\n    value: function() {\n      throw new Error(method + ' is not supported in userland');\n    }\n  });\n});\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnvRegex = /^$/;\n\nif (process.env.NODE_DEBUG) {\n  var debugEnv = process.env.NODE_DEBUG;\n  debugEnv = debugEnv.replace(/[|\\\\{}()[\\]^$+?.]/g, '\\\\$&')\n    .replace(/\\*/g, '.*')\n    .replace(/,/g, '$|^')\n    .toUpperCase();\n  debugEnvRegex = new RegExp('^' + debugEnv + '$', 'i');\n}\nexports.debuglog = function(set) {\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (debugEnvRegex.test(set)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').slice(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.slice(1, -1);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexports.types = require('./support/types');\n\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\nexports.types.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\nexports.types.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\nexports.types.isNativeError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb.bind(null, null, ret)) },\n            function(rej) { process.nextTick(callbackifyOnRejected.bind(null, rej, cb)) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","'use strict';\n\nvar forEach = require('for-each');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBind = require('call-bind');\nvar callBound = require('call-bound');\nvar gOPD = require('gopd');\nvar getProto = require('get-proto');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $slice = callBound('String.prototype.slice');\n\n/** @type {<T = unknown>(array: readonly T[], value: unknown) => number} */\nvar $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (array[i] === value) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\n\n/** @typedef {import('./types').Getter} Getter */\n/** @type {import('./types').Cache} */\nvar cache = { __proto__: null };\nif (hasToStringTag && gOPD && getProto) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new g[typedArray]();\n\t\tif (Symbol.toStringTag in arr && getProto) {\n\t\t\tvar proto = getProto(arr);\n\t\t\t// @ts-expect-error TS won't narrow inside a closure\n\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\tif (!descriptor && proto) {\n\t\t\t\tvar superProto = getProto(proto);\n\t\t\t\t// @ts-expect-error TS won't narrow inside a closure\n\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t}\n\t\t\t// @ts-expect-error TODO: fix\n\t\t\tcache['$' + typedArray] = callBind(descriptor.get);\n\t\t}\n\t});\n} else {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new g[typedArray]();\n\t\tvar fn = arr.slice || arr.set;\n\t\tif (fn) {\n\t\t\tcache[\n\t\t\t\t/** @type {`$${import('.').TypedArrayName}`} */ ('$' + typedArray)\n\t\t\t] = /** @type {import('./types').BoundSlice | import('./types').BoundSet} */ (\n\t\t\t\t// @ts-expect-error TODO FIXME\n\t\t\t\tcallBind(fn)\n\t\t\t);\n\t\t}\n\t});\n}\n\n/** @type {(value: object) => false | import('.').TypedArrayName} */\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\t/** @type {ReturnType<typeof tryAllTypedArrays>} */ var found = false;\n\tforEach(\n\t\t/** @type {Record<`\\$${import('.').TypedArrayName}`, Getter>} */ (cache),\n\t\t/** @type {(getter: Getter, name: `\\$${import('.').TypedArrayName}`) => void} */\n\t\tfunction (getter, typedArray) {\n\t\t\tif (!found) {\n\t\t\t\ttry {\n\t\t\t\t\t// @ts-expect-error a throw is fine here\n\t\t\t\t\tif ('$' + getter(value) === typedArray) {\n\t\t\t\t\t\tfound = /** @type {import('.').TypedArrayName} */ ($slice(typedArray, 1));\n\t\t\t\t\t}\n\t\t\t\t} catch (e) { /**/ }\n\t\t\t}\n\t\t}\n\t);\n\treturn found;\n};\n\n/** @type {(value: object) => false | import('.').TypedArrayName} */\nvar trySlices = function tryAllSlices(value) {\n\t/** @type {ReturnType<typeof tryAllSlices>} */ var found = false;\n\tforEach(\n\t\t/** @type {Record<`\\$${import('.').TypedArrayName}`, Getter>} */(cache),\n\t\t/** @type {(getter: Getter, name: `\\$${import('.').TypedArrayName}`) => void} */ function (getter, name) {\n\t\t\tif (!found) {\n\t\t\t\ttry {\n\t\t\t\t\t// @ts-expect-error a throw is fine here\n\t\t\t\t\tgetter(value);\n\t\t\t\t\tfound = /** @type {import('.').TypedArrayName} */ ($slice(name, 1));\n\t\t\t\t} catch (e) { /**/ }\n\t\t\t}\n\t\t}\n\t);\n\treturn found;\n};\n\n/** @type {import('.')} */\nmodule.exports = function whichTypedArray(value) {\n\tif (!value || typeof value !== 'object') { return false; }\n\tif (!hasToStringTag) {\n\t\t/** @type {string} */\n\t\tvar tag = $slice($toString(value), 8, -1);\n\t\tif ($indexOf(typedArrays, tag) > -1) {\n\t\t\treturn tag;\n\t\t}\n\t\tif (tag !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\t// node < 0.6 hits here on real Typed Arrays\n\t\treturn trySlices(value);\n\t}\n\tif (!gOPD) { return null; } // unknown engine\n\treturn tryTypedArrays(value);\n};\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","module.exports = hasKeys\n\nfunction hasKeys(source) {\n    return source !== null &&\n        (typeof source === \"object\" ||\n        typeof source === \"function\")\n}\n","var hasKeys = require(\"./has-keys\")\n\nmodule.exports = extend\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        if (!hasKeys(source)) {\n            continue\n        }\n\n        for (var key in source) {\n            if (source.hasOwnProperty(key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","'use strict';\n\nvar possibleNames = require('possible-typed-array-names');\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\n\n/** @type {import('.')} */\nmodule.exports = function availableTypedArrays() {\n\tvar /** @type {ReturnType<typeof availableTypedArrays>} */ out = [];\n\tfor (var i = 0; i < possibleNames.length; i++) {\n\t\tif (typeof g[possibleNames[i]] === 'function') {\n\t\t\t// @ts-expect-error\n\t\t\tout[out.length] = possibleNames[i];\n\t\t}\n\t}\n\treturn out;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","const lunr = require('lunr');\nconst fs = require('fs').promises;\nconst path = require('path');\n\nconst contentFile = \"search_optimized_ubook.json\";\n\nfunction flattenContent(data) {\n    const documents = [];\n    data.parts?.forEach(part => {\n        part.papers?.forEach(paper => {\n            paper.sections?.forEach(section => {\n                section.paragraphs?.forEach(paragraph => {\n                    documents.push({\n                        id: `${part.id}-${paper.paper_id}-${section.section_number}-${paragraph.paragraph_number}`,\n                        partTitle: part.title,\n                        paperTitle: paper.title,\n                        sectionNumber: section.section_number,\n                        sectionTitle: section.title,\n                        paragraphNumber: paragraph.paragraph_number,\n                        content: paragraph.text,\n                    });\n                });\n            });\n        });\n    });\n    return documents;\n}\n\nasync function buildIndex(documents) {\n    return lunr(function() {\n        this.ref('id');\n        this.field('content');\n        this.field('sectionTitle');\n        this.field('paperTitle');\n        this.field('partTitle');\n\n        documents.forEach(doc => this.add(doc));\n    });\n}\n\nasync function search(_query) {\n    const query = sanitizeQuery(_query)\n    const data = await window.api.readContent(contentFile);\n    ;\n    if (!data) return [];\n\n    const documents = flattenContent(data);\n    const idx = await buildIndex(documents);\n\n    const results = idx.search(query);\n    const docMap = Object.fromEntries(documents.map(doc => [doc.id, doc]));\n\n    console.log(results)\n\n    return results.map(result => ({\n        score: result.score,\n        ...docMap[result.ref],\n    }));\n}\n\nfunction sanitizeQuery(query) {\n    return query.replace(/[:~^*+-]/g, ' ').trim(); // Replace special Lunr chars with space\n}\n\nwindow.lunrsearch = search;\n\n// Usage\n\n//const query = `It is exceedingly difficult to present enlarged concepts and advanced truth`;\n\n/*search(query).then(results => {\n    console.log(\"Top Match:\\n\", results[0] ?? \"No result\");\n});\n*/\n"],"names":["AbstractChainedBatch","db","this","_db","_operations","_written","prototype","_checkWritten","Error","put","key","value","err","_checkKeyValue","_isBuffer","String","_put","push","type","del","_del","clear","_clear","write","options","callback","_write","_batch","process","nextTick","module","exports","AbstractIterator","_ended","_nexting","next","self","_next","apply","arguments","end","_end","xtend","AbstractLevelDOWN","location","length","undefined","open","_open","close","_close","get","_get","browser","batch","array","_chainedBatch","Array","isArray","e","i","l","approximateSize","start","_approximateSize","_setupIteratorOptions","forEach","o","reverse","lt","lte","gt","gte","exclusiveStart","iterator","_iterator","obj","Buffer","isBuffer","target","source","hasOwnProperty","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","arr","Arr","_byteLength","curByte","len","revLookup","charCodeAt","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","join","Uint8Array","code","indexOf","num","output","DuplexStream","BufferList","_bufs","_callback","piper","bind","on","src","removeListener","append","b","call","inherits","_offset","offset","_t","tot","buf","encoding","_read","size","Math","min","slice","consume","chunk","index","copy","dst","dstStart","srcStart","srcEnd","off","bytes","bufoff","concat","toString","shift","duplicate","destroy","methods","m","Object","Duplex","objectKeys","keys","util","Readable","Writable","readable","writable","allowHalfOpen","once","onend","_writableState","ended","xs","method","PassThrough","Transform","_transform","cb","ReadableState","EE","listenerCount","emitter","listeners","StringDecoder","Stream","stream","hwm","highWaterMark","buffer","pipes","pipesCount","flowing","endEmitted","reading","calledRead","sync","needReadable","emittedReadable","readableListening","objectMode","defaultEncoding","ranOut","awaitDrain","readingMore","decoder","_readableState","readableAddChunk","state","addToFront","er","TypeError","chunkInvalid","emit","emitReadable","endReadable","onEofChunk","unshift","read","maybeReadMore_","maybeReadMore","needMoreData","setEncoding","enc","MAX_HWM","howMuchToRead","n","isNaN","p","roundUpToNextPowerOf2","emitReadable_","flow","dest","list","emitDataEvents","pipeOnReadable","startPaused","paused","pipe","addListener","c","pause","resume","fromList","ret","stringMode","cpy","f","nOrig","doRead","pipeOpts","endFn","stdout","stderr","cleanup","onunpipe","ondrain","pipeOnDrain","onclose","onfinish","onerror","needDrain","unpipe","_events","error","dests","x","splice","ev","fn","res","wrap","_fromList","TransformState","afterTransform","data","ts","_transformState","transforming","writecb","writechunk","rs","needTransform","_flush","done","ws","writeencoding","WritableState","WriteReq","ending","finished","noDecode","decodeStrings","writing","bufferProcessing","onwrite","writelen","onwriteStateUpdate","errorEmitted","onwriteError","needFinish","entry","doWrite","clearBuffer","afterWrite","onwriteDrain","finishMaybe","need","writeAfterEnd","valid","validChunk","decodeChunk","writeOrBuffer","endWritable","env","READABLE_STREAM","isBufferEncoding","isEncoding","toLowerCase","replace","assertEncoding","surrogateSize","detectIncompleteChar","utf16DetectIncompleteChar","base64DetectIncompleteChar","passThroughWrite","charBuffer","charReceived","charLength","charStr","available","charCode","substring","cr","leveljs","levelup","fs","isModern","alloc","allocUnsafe","from","encodingOrOffset","input","byteOffset","maxLength","RangeError","fromArrayBuffer","string","fromString","base64","ieee754","customInspectSymbol","Symbol","SlowBuffer","INSPECT_MAX_BYTES","K_MAX_LENGTH","createBuffer","setPrototypeOf","arg","actual","ArrayBuffer","isView","arrayView","isInstance","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","checked","numberIsNaN","fromObject","toPrimitive","assertSize","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","val","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","j","hexWrite","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","kMaxLength","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","console","defineProperty","enumerable","poolSize","fill","allocUnsafeSlow","compare","a","y","pos","set","swap16","swap32","swap64","toLocaleString","equals","inspect","max","trim","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","out","hexSliceLookupTable","checkOffset","ext","checkInt","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","INVALID_BASE64_RE","Infinity","leadSurrogate","split","base64clean","constructor","name","alphabet","table","i16","$apply","$call","$reflectApply","actualApply","Function","$TypeError","$actualApply","args","Reflect","setFunctionLength","$defineProperty","callBindBasic","applyBind","originalFunction","func","adjustedLength","GetIntrinsic","$indexOf","allowMissing","intrinsic","bufferFrom","U8","ConcatStream","opts","shouldInferEncoding","getBody","body","isBufferish","test","inferEncoding","buff","firstBuffer","arrayConcat","strings","stringConcat","bufs","bufferConcat","u8","part","u8Concat","objectToString","isBoolean","isNull","isNullOrUndefined","isNumber","isString","isSymbol","isUndefined","isRegExp","re","isObject","isDate","d","isError","isFunction","isPrimitive","DeferredLevelDOWN","setDb","op","_operation","$SyntaxError","gopd","property","nonEnumerable","nonWritable","nonConfigurable","loose","desc","configurable","hasProtoAccessor","callBind","gOPD","__proto__","$Object","$getPrototypeOf","getPrototypeOf","prr","init","message","cause","CustomError","captureStackTrace","errno","ce","path","description","createError","FilesystemError","all","custom","create","EvalError","ReferenceError","SyntaxError","URIError","ReflectOwnKeys","R","ReflectApply","receiver","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","EventEmitter","Promise","resolve","reject","errorListener","resolver","eventTargetAgnosticAddListener","handler","addErrorHandlerIfEventEmitter","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","prepend","events","existing","warning","newListener","warned","w","count","warn","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","flags","addEventListener","wrapListener","removeEventListener","setMaxListeners","getMaxListeners","doError","context","prependListener","prependOnceListener","position","originalListener","pop","spliceOne","removeAllListeners","rawListeners","eventNames","isCallable","toStr","thisArg","forEachArray","charAt","forEachString","object","k","forEachObject","hasOwn","ctx","concatty","bound","arrLike","slicy","boundLength","boundArgs","joiny","result","Empty","implementation","DUMMY","noop","toFunction","onreadable","destroyed","fwd","onwritable","ready","duplex","initWritable","initReadable","dupl","$Error","$EvalError","$RangeError","$ReferenceError","$URIError","abs","floor","round","sign","$Function","getEvalledConstructor","expressionSyntax","$gOPD","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","hasSymbols","getProto","$ObjectGPO","$ReflectGPO","needsEval","TypedArray","INTRINSICS","AggregateError","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","eval","Float16Array","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","JSON","Map","parseFloat","Proxy","RegExp","Set","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","WeakRef","WeakSet","errorProto","doEval","gen","LEGACY_ALIASES","$concat","$spliceApply","$replace","$strSlice","$exec","exec","rePropName","reEscapeChar","getBaseIntrinsic","alias","intrinsicName","first","last","match","number","quote","subString","stringToPath","intrinsicBaseName","intrinsicRealName","skipFurtherCaching","isOwn","reflectGetProto","originalGetProto","getDunderProto","O","getOwnPropertyDescriptor","hasPropertyDescriptors","hasArrayLengthDefineBug","origSymbol","hasSymbolSham","sym","symObj","_","syms","propertyIsEnumerable","descriptor","toStringTag","$hasOwn","defaultErrorHandler","defaultSuccessHandler","defaults","storeName","storePrefix","dbVersion","keyPath","autoIncrement","onStoreReady","onError","indexes","implementationPreference","IDBStore","kwArgs","dbName","window","availableImplementations","filter","implName","idb","keyRange","IDBKeyRange","webkitIDBKeyRange","mozIDBKeyRange","consts","openDB","version","store","_insertIdCount","openRequest","preventSuccessCallback","errorEvent","errorCode","hasVersionError","errorMessage","onsuccess","event","objectStoreNames","contains","emptyTransaction","transaction","READ_ONLY","objectStore","existingIndexes","getIndexList","indexData","indexName","normalizeIndexData","hasIndex","actualIndex","indexComplies","onupgradeneeded","optionalParameters","createObjectStore","deleteIndex","createIndex","unique","multiEntry","_indexName","deleteDatabase","onSuccess","deleteRequest","putRequest","hasSuccess","putTransaction","READ_WRITE","oncomplete","onabort","_addIdPropertyIfNeeded","getTransaction","getRequest","remove","removeTransaction","dataArray","called","batchTransaction","onItemSuccess","operation","onItemError","abort","putBatch","batchData","map","item","upsertBatch","keyField","record","removeBatch","keyArray","getBatch","arrayType","getAll","getAllTransaction","_getAllNative","_getAllCursor","getAllRequest","cursorRequest","openCursor","cursor","clearTransaction","clearRequest","dataObj","now","indexNames","expected","every","exp","act","iterate","onItem","directionType","mixin","order","autoContinue","filterDuplicates","writeAccess","onEnd","allowItemRejection","cursorTransaction","cursorTarget","recordCount","advance","onItemReturn","query","processedItems","accept","countRequest","evt","makeKeyRange","hasLower","lower","hasUpper","upper","only","excludeLower","excludeUpper","lowerBound","upperBound","empty","s","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","log","LN2","ctor","superCtor","super_","TempCtor","hasToStringTag","$toString","callBound","isStandardArguments","isLegacyArguments","callee","supportsStandardArguments","badArrayLike","isCallableMarker","fnToStr","reflectApply","constructorRegex","isES6ClassFn","fnStr","tryFunctionObject","isIE68","isDDA","document","strClass","GeneratorFunction","isFnRegex","safeRegexTest","generatorFunc","getGeneratorFunc","isRegexMarker","throwRegexMarker","badStringifier","whichTypedArray","objProto","owns","isActualNaN","NON_HOST_TYPES","is","defined","equal","other","getTime","hosted","host","instance","isOldArguments","arraylike","boolean","date","element","HTMLElement","nodeType","alert","infinite","decimal","divisibleBy","isDividendInfinite","isDivisorInfinite","isNonZeroNumber","int","maximum","others","minimum","nan","even","odd","ge","le","within","finish","hash","setInterval","regexp","peek","EMPTY","ENCODER","encode","decode","pad","blobs","blockSize","maxBatch","blank","reservations","WriteStream","blocks","bytesWritten","truncate","_shouldInitAppend","_destroyed","_init","blockIndex","blockOffset","blockLength","_truncate","dels","createKeyStream","_writeBlock","block","force","valueEncoding","release","locks","onreservation","r","notFound","mutateBlock","_initAppend","overflow","free","ReadStream","_missing","_paused","_reader","createReadStream","onblock","_pause","latest","createWriteStream","debug","defaultHwm","readableObjectMode","debuglog","ondata","resumeScheduled","resume_","writableObjectMode","corked","pendingcb","prefinished","writev","_writev","cbs","prefinish","cork","uncork","sublevel","octal","paths","watchers","bl","ps","links","fds","mkdir","mode","follow","stat","EEXIST","rmdir","readdir","files","ENOTEMPTY","isDirectory","ENOTDIR","ENOENT","isFile","blob","lstat","exists","chmod","update","lchmod","chown","uid","gid","lchown","utimes","atime","mtime","upd","rename","to","statFrom","statTo","EISDIR","realpath","cache","writeFile","ctime","appendFile","unlink","clean","link","readFile","flag","closed","change","watchFile","watch","normalize","unwatchFile","unwatch","watcher","notify","fl","plus","writePos","onready","fd","ontruncate","EBADF","readPos","fsync","ftruncate","fchown","fchmod","futimes","fstat","symlink","readlink","EINVAL","st","ROOT","prefix","depth","doc","EPERM","dirname","parent","file","root","loop","toDate","Stat","isBlockDevice","isCharacterDevice","isSymbolicLink","isFIFO","isSocket","onchange","range","sort","ranges","hooks","posthooks","prehooks","post","hook","h","checker","remover","pre","safe","each","ary","callHooks","getPrefix","isBatch","add","ch","ke","keyEncoding","_getKeyEncoding","getKeyEncoding","ve","_getValueEncoding","getValueEncoding","veto","Level","IDB","Iterator","toBuffer","IDBOptions","idbOpts","asBuffer","raw","id","convertEncoding","toArrayBuffer","stringed","valEnc","copiedOp","currentOp","modified","setTimeout","converted","dbname","request","indexedDB","ltgt","_order","_limit","_count","_done","_keyRange","lowerBoundExclusive","upperBoundExclusive","_keyRangeError","createIterator","shouldCall","_started","isFunc","confirm","prompt","isArguments","keysShim","has","isArgs","hasDontEnumBug","hasProtoEnumBug","dontEnums","theKeys","skipProto","skipConstructor","dontEnum","Keys","hasKeys","fixRange","onEvent","_start","_key","addOperation","Batch","sdb","_sdb","B","SubDb","Hooks","DB","sep","safeRange","fun","_options","sublevels","readStream","keyStream","valuesStream","createValueStream","changes","clone","circular","allParents","allChildren","useBuffer","_clone","child","ar","global","ignoreCase","multiline","lastIndex","attrs","clonePrototype","SubDB","_parent","_prefix","_root","SDB","_getOptsAndCb","values","valueStream","_opts","selectivelyMerge","writeStream","nocheck","_p","WriteError","getOptions","dispatchError","_levelup","ops","key_","value_","encodeKey","encodeValue","LevelUPError","NotFoundError","status","InitializationError","OpenError","ReadError","EncodingError","extend","defaultOptions","getLevelDOWN","getCallback","LevelUP","_status","utilStatic","dbFactory","isOpen","_isOpening","isClosed","isValueAsBuffer","decodeValue","arr_","keyEnc","valueEnc","kEnc","vEnc","start_","end_","repair","makeKeyValueData","decodeKey","makeKeyData","makeValueData","makeNoData","iteratorFactory","_keyEncoding","_valueEncoding","keyAsBuffer","isKeyAsBuffer","valueAsBuffer","_makeData","_cleanup","leveldown","eo","encodingNames","createIfMissing","errorIfExists","compression","encodings","isBinary","utf8","json","stringify","parse","encodingOpts","getKeyEncoder","getValueEncoder","srcdb","dstdb","leveldownVersion","requiredVersion","missingLevelDOWNError","setImmediate","g","_buffer","_process","_processDelayed","maxBufferLength","destroySoon","props","Directory","File","fstreamRoot","definition","setProperty","oo","os","makeOptions","isDef","hasKey","cmp","lowerBoundKey","def","lowerBoundInclusive","upperBoundInclusive","upperBoundKey","startInclusive","endInclusive","toLtgt","_range","lb","ub","step2list","step3list","v","C","V","meq1","mgr1","s_v","re_mgr0","re_mgr1","re_meq1","re_s_v","re_1a","re2_1a","re_1b","re2_1b","re_1b_2","re2_1b_2","re3_1b_2","re4_1b_2","re_1c","re_2","re_3","re_4","re2_4","re_5","re_5_1","re3_5","porterStemmer","lunr","config","builder","Builder","pipeline","trimmer","stopWordFilter","stemmer","searchPipeline","build","utils","asString","FieldRef","docRef","fieldName","stringValue","_stringValue","joiner","fieldRef","elements","complete","intersect","union","intersection","idf","posting","documentCount","documentsWithTerm","Token","metadata","tokenizer","t","tokens","sliceEnd","sliceStart","sliceLength","separator","tokenMetadata","Pipeline","_stack","registeredFunctions","registerFunction","label","warnIfFunctionNotRegistered","load","serialised","fnName","after","existingFn","newFn","before","run","stackLength","memo","runString","token","reset","Vector","_magnitude","positionForIndex","pivotPoint","pivotIndex","insert","insertIdx","upsert","magnitude","sumOfSquares","elementsLength","sqrt","dot","otherVector","dotProduct","aLen","bLen","aVal","bVal","similarity","toArray","stem","suffix","firstch","re2","re3","re4","toUpperCase","fp","generateStopWordFilter","stopWords","words","reduce","stopWord","TokenSet","final","edges","_nextId","fromArray","fromClause","clause","fromFuzzyString","term","editDistance","stack","node","editsRemaining","frame","noEditNode","char","insertionNode","substitutionNode","transposeNode","charA","charB","edge","_str","labels","qNode","qEdges","qLen","nEdges","nLen","q","qEdge","nEdge","previousWord","uncheckedNodes","minimizedNodes","word","commonPrefix","minimize","nextNode","downTo","childKey","Index","invertedIndex","fieldVectors","tokenSet","fields","search","queryString","QueryParser","Query","matchingFields","queryVectors","termFieldCache","requiredMatches","prohibitedMatches","clauses","terms","clauseMatches","usePipeline","termTokenSet","expandedTerms","presence","REQUIRED","field","expandedTerm","termIndex","_index","fieldPosting","matchingDocumentRefs","termField","matchingDocumentsSet","PROHIBITED","boost","fieldMatch","matchingDocumentRef","matchingFieldRef","MatchData","allRequiredMatches","allProhibitedMatches","matchingFieldRefs","results","matches","isNegated","docMatch","fieldVector","score","matchData","combine","ref","serializedIndex","serializedVectors","serializedInvertedIndex","tokenSetBuilder","tuple","_ref","_fields","_documents","fieldTermFrequencies","fieldLengths","_b","_k1","metadataWhitelist","attributes","k1","extractor","fieldTerms","metadataKey","calculateAverageFieldLengths","fieldRefs","numberOfFields","accumulator","documentsWithField","averageFieldLength","createFieldVectors","fieldRefsLength","termIdfCache","fieldLength","termFrequencies","termsLength","fieldBoost","docBoost","scoreWithPrecision","tf","createTokenSet","use","clonedMetadata","metadataKeys","otherMatchData","allFields","wildcard","NONE","LEADING","TRAILING","OPTIONAL","QueryParseError","QueryLexer","lexemes","escapeCharPositions","lexText","sliceString","subSlices","escapeCharacter","EOS","width","ignore","backup","acceptDigitRun","more","FIELD","TERM","EDIT_DISTANCE","BOOST","PRESENCE","lexField","lexer","lexTerm","lexEditDistance","lexBoost","lexEOS","termSeparator","currentClause","lexemeIdx","parseClause","peekLexeme","consumeLexeme","lexeme","nextClause","completedClause","parser","parsePresence","parseField","parseTerm","nextLexeme","possibleFields","parseEditDistance","parseBoost","$isNaN","base","wrappy","onceStrict","onceError","strict","assertPath","normalizeStringPosix","allowAboveRoot","lastSegmentLength","lastSlash","dots","lastSlashIndex","posix","cwd","resolvedPath","resolvedAbsolute","isAbsolute","trailingSeparator","joined","relative","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","_makeLong","hasRoot","matchedSlash","basename","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","format","pathObject","_format","delimiter","win32","arg1","arg2","arg3","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","marker","runClearTimeout","Item","title","argv","versions","binding","chdir","umask","pna","onEndNT","_destroy","EElistenerCount","OurUint8Array","debugUtil","destroyImpl","kProxyEvents","isDuplex","readableHwm","readableHighWaterMark","skipChunkCheck","_uint8ArrayToBuffer","addChunk","_undestroy","undestroy","isPaused","head","computeNewHighWaterMark","nReadingNextTick","hasStrings","nb","tail","copyFromBufferString","copyFromBuffer","fromListPartial","endReadableNT","unpipeInfo","hasUnpiped","cleanedUp","increasedAwaitDrain","_this","transform","flush","_this2","err2","CorkedRequest","corkReq","onCorkedFinish","corkedRequestsFree","asyncWrite","realHasInstance","internalUtil","deprecate","nop","writableHwm","writableHighWaterMark","finalCalled","bufferedRequest","lastBufferedRequest","bufferedRequestCount","_final","holder","allBuffers","isBuf","callFinal","getBuffer","current","hasInstance","newChunk","setDefaultEncoding","Constructor","_classCallCheck","emitErrorNT","readableDestroyed","writableDestroyed","copyProps","SafeBuffer","isRegex","regex","define","hasDescriptors","$floor","functionLengthIsConfigurable","functionLengthIsWritable","_isStdio","didOnEnd","codes","createErrorType","Base","NodeError","_Base","subClass","superClass","getMessage","oneOf","thing","determiner","msg","this_len","endsWith","createReadableStreamAsyncIterator","getHighWaterMark","_require$codes","ERR_INVALID_ARG_TYPE","ERR_STREAM_PUSH_AFTER_EOF","ERR_METHOD_NOT_IMPLEMENTED","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","errorOrDestroy","emitClose","autoDestroy","content","updateReadableListening","wState","asyncIterator","iterable","ERR_MULTIPLE_CALLBACK","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","rState","_Object$setPrototypeO","_defineProperty","prim","hint","_toPrimitive","_toPropertyKey","kLastResolve","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","readAndResolve","iter","onReadable","AsyncIteratorPrototype","ReadableStreamAsyncIteratorPrototype","promise","lastPromise","then","wrapForNext","_Object$create","enumerableOnly","symbols","_objectSpread","getOwnPropertyDescriptors","defineProperties","_defineProperties","protoProps","_getString","_getBuffer","customInspect","emitErrorAndCloseNT","emitCloseNT","ERR_STREAM_PREMATURE_CLOSE","eos","_len","onlegacyfinish","writableEnded","readableEnded","onrequest","req","setHeader","isRequest","ERR_MISSING_ARGS","streams","popCallback","destroys","destroyer","ERR_INVALID_OPT_VALUE","duplexKey","highWaterMarkFrom","inner","satisfies","nenc","retried","_normalizeEncoding","normalizeEncoding","text","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","utf8CheckExtraBytes","total","utf8CheckIncomplete","_augment","ophop","defineProp","ECMAScript","Class","HasProperty","HasOwnProperty","IsCallable","ToInt32","ToUint32","configureProperties","getOwnPropNames","__defineGetter__","__defineSetter__","as_signed","bits","as_unsigned","packI8","unpackI8","packU8","unpackU8","packU8Clamped","packI16","unpackI16","packU16","unpackU16","packI32","unpackI32","packU32","unpackU32","packIEEE754","ebits","fbits","bias","roundToEven","unpackIEEE754","unpackF64","packF64","unpackF32","packF32","_bytes","ArrayBufferView","makeConstructor","bytesPerElement","pack","unpack","sequence","BYTES_PER_ELEMENT","_setter","_getter","makeArrayAccessor","makeArrayAccessors","_pack","_unpack","clamp","u16array","IS_BIG_ENDIAN","makeGetter","uint8Array","makeSetter","typeArray","getUint8","getInt8","getUint16","getInt16","getUint32","getInt32","getFloat32","getFloat64","setUint8","setInt8","setUint16","setInt16","setUint32","setInt32","setFloat32","setFloat64","localStorage","trace","isArgumentsObject","isGeneratorFunction","isTypedArray","uncurryThis","BigIntSupported","SymbolSupported","ObjectToString","numberValue","booleanValue","bigIntValue","symbolValue","checkBoxedPrimitive","prototypeValueOf","isMapToString","isSetToString","isWeakMapToString","isWeakSetToString","isArrayBufferToString","isArrayBuffer","working","isDataViewToString","isDataView","isPromise","catch","isArrayBufferView","isUint8Array","isUint8ClampedArray","isUint16Array","isUint32Array","isInt8Array","isInt16Array","isInt32Array","isFloat32Array","isFloat64Array","isBigInt64Array","isBigUint64Array","isMap","isSet","isWeakMap","isWeakSet","SharedArrayBufferCopy","isSharedArrayBufferToString","isSharedArrayBuffer","isNumberObject","isStringObject","isBooleanObject","isBigIntObject","isSymbolObject","isAsyncFunction","isMapIterator","isSetIterator","isGeneratorObject","isWebAssemblyCompiledModule","isBoxedPrimitive","isAnyArrayBuffer","descriptors","formatRegExp","objects","noDeprecation","throwDeprecation","traceDeprecation","debugs","debugEnvRegex","NODE_DEBUG","debugEnv","seen","stylize","stylizeNoColor","colors","showHidden","_extend","stylizeWithColor","formatValue","styleType","style","styles","recurseTimes","primitive","simple","formatPrimitive","visibleKeys","idx","arrayToHash","formatError","braces","toUTCString","formatProperty","formatArray","prev","cur","reduceToSingleString","line","pid","types","isNativeError","months","prop","time","getHours","getMinutes","getSeconds","getDate","getMonth","origin","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","newReason","promisify","original","promiseResolve","promiseReject","callbackify","callbackified","maybeCb","rej","availableTypedArrays","globalThis","typedArrays","$slice","typedArray","superProto","tag","getter","trySlices","tryTypedArrays","wrapper","possibleNames","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","require","lunrsearch","async","_query","sanitizeQuery","api","readContent","documents","papers","paper","sections","section","paragraphs","paragraph","paper_id","section_number","paragraph_number","partTitle","paperTitle","sectionNumber","sectionTitle","paragraphNumber","flattenContent","buildIndex","docMap","fromEntries"],"sourceRoot":""}